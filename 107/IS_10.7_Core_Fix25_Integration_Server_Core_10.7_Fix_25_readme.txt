                   webMethods Integration Server 10.7 Core Fix 25 readme
                  webMethods Integration Server 10.7 Client Fix 25 readme

                                        December 2024                                                      

________________________________________________________________________________

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements and Dependencies
5.0   Platform Support
6.0   Cautions and Warnings
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization
11.0  Copyright
________________________________________________________________________________


1.0 Fix Name

webMethods Integration Server 10.7 Core Fix 25.



2.0 Fix ID

IS_10.7_Core_Fix25



3.0 Product(s)/Component(s) Affected

This fix affects webMethods Integration Server 10.7.



4.0 Requirements and Dependencies

WSC_10.7_Security_Fix1
MTA_10.7_Fix2
OGI_10.7_Updater_Fix1
TPP_10.7_BaseSecurity_Fix2
TPP_10.7_GlassFish_Fix3
TPS_10.7_GlassFish_Fix4
IS_10.7_EmbeddedDB_Fix4
IS_10.7_Database_Fix4
IS_10.7_Migration_Fix1
SIN_10.7_Fix6
ZSL_10.7_Fix1

For language pack requirements, see the Globalization section of the Software AG Empower Product 
Support website at https://empower.softwareag.com/Products/Globalization/default.asp



5.0 Platform Support

webMethods Integration Server 10.7 Core Fix 25 is supported on the 
same platforms and operating systems and with the same JREs as webMethods 
Integration Server 10.7.



6.0 Cautions and Warnings

If Integration Server uses central user management which is provided through My 
webMethods Server, you must keep the common libraries provided by My webMethods 
Server up to date. To obtain the current changes to the common libraries, 
install the latest My webMethods Server fix located under Common Libraries in 
Software AG Update Manager.

To complete resolution of PIE-66920, after applying a fix that includes PIE-66920, 
you must do the following for each publishable document type that contains multiple 
document reference variables with the same name but different document type 
references: edit the publishable document type, save it, and then synchronize 
it with Universal Messaging. 
This will generate a new protocol buffer descriptor and synchronize 
it with the definition on Universal Messaging.

Important! PIE-63695 requires the webMethods Deployer fix for WDY-5938. After 
you install this fix, install the latest fix for your webMethods Deployer release. 
For example: DEP_10.7_Fix1 for webMethods Deployer 10.7.

PIE-66900 requires the webMethods Process Engine fix for WPE-4790. After you 
install this fix, install the latest fix for your webMethods Process Engine release. 
For example: PRT_10.7_Fix1 for webMethods Process Engine 10.7.

If ActiveTransfer is a layered product for the Integration Server to which
IS_10.7_Core_Fix8 fix or higher is applied, you must apply webMethods
ActiveTransfer Server 10.7 Fix 8 (MAT_10.7_Server_Fix8) or higher as well.
This requirement is due to changes made in PIE-70913 to resolve security issues.
If the ActiveTransfer fix is not applied, authentication for an ActiveTransfer
user will fail.

Application of a fix that includes PIE-73733 upgrades Apache Lucene libraries.
Upgrading the Apache Lucene libraries requires a repository purge and rebuild
to use a newer binary format. Update Manager performs this purge automatically
as a post-install task. Upon restart, Integration Server rebuilds the repository
index using the newer binary format. However, when uninstalling a fix that
includes PIE-73733 (IS_10.7_Core_Fix7 and higher), Update Manager does not
perform an automatic purge of the repository. For Integration Server to rebuild
the repository upon restart, the repository must be deleted manually.
Therefore, after uninstalling a fix that includes PIE-73733, manually remove
the files from <installPath>/IntegrationServer/instances/<instanceName>/monitorRepo/core/index
and then start Integration Server. Upon restart, Integration Server rebuilds the
repository index using the older binary format. If files are not removed prior to
starting Integration Server, the Dashboard in Integration Server Administrator may
have missing data and the server log may include errors such as the following:

[ISS.0045.9998C] (tid=410) Exception --> [ISS.0045.0044] Failed to open index in
create/overwrite mode. Details: Format version is not supported

Applying IS_10.7_Core_Fix25 resolves PIE-81172. However, PIE-81172 also
introduces the WmCloud package changes in IS_10.7_WmCloud_Fix7. Therefore,
install IS_10.7_Core_Fix25 and IS_10.7_WmCloud_Fix7 together.

After installing IS_10.7_Core_Fix25, install IS_10.7_ABE_Fix5 to ensure that
the Deployer-related changes for PIE-79351 work.

After applying IS_10.7_Core_Fix25, IS_10.7_ABE_Fix5 needs to be installed
because PIE-77771 introduces the mavericks jar to ABE environment. The mavericks 
jar is required for successful building of ABE assets.

Install IS_10.7_Core_Fix25 and IS_10.7_WmAdmin_Fix7 together as the fixes are
interdependent.

The steps for uninstalling Integration Server Core 10.7 Fix 25 (IS_10.7_Core_Fix25),
vary depending on the previous fix level. See section 9.0 Uninstallation for more
details.

Important! PIE-66900 requires the webMethods Process Engine fix for WPE-4790. 
After you install this fix, install the latest fix for your 
webMethods Process Engine release. For example: PRT_10.7_Fix1 for webMethods 
Process Engine 10.7.



7.0 Fix Contents

PIE-94004
Duplicate transactions in Integration Server caused by mismatch
between Broker connection alias configuration and dispatch.cnf values.

In a clustered setup where multiple Integration Server instances share the same 
client prefix in the Broker connection alias settings, accidental deletion of 
the dispatch.cnf file causes issues. When Integration Server restarts, the 
dispatch.cnf file is recreated with default values that do not match the Broker 
configuration defined in the user interface. The mismatch creates multiple 
trigger clients with different prefixes, leading to duplicate transaction 
processing and system disruptions.

This issue is now resolved.

PIE-94635
Users can access Integration Server Administrator with an expired password.

Integration Server allows users to access Integration Server Administrator with
an expired password without prompting them to change it, despite
configuring and enabling password expiration settings.

This issue is now resolved. Users must change their expired password to log in
to Integration Server Administrator.

PIE-95363
When purging statistics for the Statistics Data Collector, Integration Server
throws the error [ISS.0045.0039E]  Unable to delete resource rows from table. 

If the Statistics Data Collector is enabled at the time statistics are being
purged, the following errors occur: 

[ISS.0045.0039E] (tid=<threadID>) Unable to delete resource rows from table.
Details: [SoftwareAG][Oracle JDBC Driver]Object has been closed. 
[ISS.0045.0067E] (tid=<threadID>) An error occurred while purging statistics
data older than the retention limit. Details: [ISS.0045.0039] Unable to delete
resource rows from table. Details: [SoftwareAG][Oracle JDBC Driver]Object has
been closed. 
 
To resolve this issue, Integration Server uses a new connection from the JDBC
connection pool each time it deletes a batch of data from the IS_MONITOR table. 

PIE-90782 (IS_10.7_Core_Fix24)
Fix archives accumulate in the IntegrationServer/replicate/archive 
directory using additional disk space on the user's system.

This issue is resolved. Now, Update Manager deletes the fix
archives to free up disk space.

PIE-92600 (IS_10.7_Core_Fix24)
Upgrade of the bc-fips JAR to resolve known security vulnerabilities.

The bc-fips JAR included with Integration Server has been upgraded to version
1.0.2.5 from 1.0.2.4

PIE-93984 (IS_10.7_Core_Fix24)
Upgrade of graphql-java.jar file.

The graphql-java.jar is now upgraded to version 19.11. The previous version was
17.5. 

The upgraded graphql-java.jar file resolves the following security
vulnerabilities: 

- CVE-2024-40094 (https://nvd.nist.gov/vuln/detail/CVE-2024-40094)
- CVE-2023-2976
(https://ossindex.sonatype.org/vulnerability/CVE-2023-2976?component-type=maven&component-name=com.google.guava/guava)

PIE-94220 (IS_10.7_Core_Fix24)
Rebuilding the Apache Lucene document repository used by the Statistics Data
Collector may negatively impact performance. 

When the Apache Lucene document repository used by the Statistics Data Collector
is purged, Integration Server rebuilds by executing an unbounded SQL select of
metrics data. When the number of rows in the database is large, executing the
unbounded query can place a heavy load on the database and negatively impact
performance. 

Now, Integration Serve rebuilds the repository by executing a collection of
bounded batches of SQL rows, which ensure the number of results for each query
is limited. 

The Apache Lucene document repository is located at:
<install>/IntegrationServer/instances/<instanceName>/monitorRepo/core/index 

PIE-94377 (IS_10.7_Core_Fix24)
Integration Server fails to parse the JSON request body when the schema contains
composite fields. 
 
Integration Server throws java.lang.StackOverflowError for an OpenAPI-based REST
request when the request body has values for a schema defined as a composed
schema. 

This issue is now resolved.

PIE-94420 (IS_10.7_Core_Fix24)
Metering changes to support internal product codes.

PIE-94534 (IS_10.7_Core_Fix24)
Upgrade of Apache Lucene libraries to version 8.11.3 to remediate a security
vulnerability. 

The Apache Lucene libraries included with Integration Server have been upgraded
to version 8.11.3 to resolve the following vulnerability: 

Apache Lucene regular expression denial of service
https://exchange.xforce.ibmcloud.com/vulnerabilities/216835 

The new libraries are:
- org.apache.lucene:lucene-core:8.11.3
- org.apache.lucene:lucene-grouping:8.11.3
- org.apache.lucene:lucene-queryparser:8.11.3
- org.apache.lucene:lucene-analyzers-common:8.11.3
- org.apache.lucene:lucene-suggest:8.11.3
 
The old libraries are:
- org.apache.lucene:lucene-core:8.10.1
- org.apache.lucene:lucene-grouping:8.9.0
- org.apache.lucene:lucene-queryparser:8.10.1
- org.apache.lucene:lucene-analyzers-common:8.10.1
- org.apache.lucene:lucene-suggest:8.9.0

PIE-94586 (IS_10.7_Core_Fix24)
In Integration Server 10.15, SFTP login fails when the Integration Server
attempts to reuse an existing SFTP session to connect to the SFTP server.

After migrating from 10.11 to 10.15, running the pub.client.sftp:login service
with reuseSession parameter set to true results in the error:
Cannot invoke "com.sshtools.sftp.SftpClient.cd(String)" because the return value
of "com.wm.app.b2b.server.sftp.client.SFTPSession.getSftpClient()" is
null.

This issue arises when a logged-in user navigates to a directory other than
the home directory. The session retains the current directory information,
which the service mistakenly treats as the default directory for subsequent
logins using the same session. Consequently, Integration Server fails to log
in to the SFTP server.

This issue is resolved. Now, Integration Server introduces the
"watt.server.sftp.resetHomeDir" parameter that determines the user's default
default directory upon login. By default, the parameter is false. Set the
parameter to true to ensure that the user's home directory is always the default
directory upon login.

You need not restart Integration Server for the changes to the parameter
to take effect.

PIE-94971 (IS_10.7_Core_Fix24)
Updates to webMethods Metering to ensure that services in the
WmAgileAppsDeployer, WmDeployerResource, WmLogUtil, and WmTNExtDC packages are
not counted for metering purposes. 

Note: The WmTnExtDC package has been removed as of webMethods Integration Server
11.1. 

PIE-95225 (IS_10.7_Core_Fix24)
Terracotta Server Array removes an Integration Server from the cluster due to
excessive session expirations. 

When a session expires, Integration Server updates the SessionStore cache, which
is unnecessary because Ehcache manages expiration of cache elements.
Additionally, it creates work for the SessionStore cache. In a cluster, the
Integration Server update to the SessionStore cache generates unnecessary cache
event notifications that have to be processed by Integration Server. When this
load on the SessionStore cache is very high, Integration Server can become
temporarily unresponsive, causing the Terracotta Server Array to remove the
Integration Server instance from the cluster. 

This fix removes the unnecessary update to the SessionStore cache made by
Integration Server when a session expires. In turn, this eliminates the cache
event notifications for session expiration, which improves server performance.
As a result, Integration Server will no longer be removed from a cluster due to
excessive session expiration processing. 

PIE-95399 (IS_10.7_Core_Fix24)
Integration Server fails to start with the following error:
Unrecognized VM option 'UseOpenJSSE'

This issue is now resolved.

PIE-86607 (IS_10.7_Core_Fix23)
After upgrading the Mavericks JAR, Integration Server does not use the
sftpLicenseKey.cnf file in the IntegrationServer\instances\default\config\sftp
folder of the installation. Therefore, the file is removed.

PIE-86896 (IS_10.7_Core_Fix23)
Disconnecting a client, such as Designer, from Integration Server can sometimes
take a long time. 

This issue is now resolved. 

PIE-87446 (IS_10.7_Core_Fix23)
The SFTP Version 2 client in Integration Server does not support Public key 
authentication with ED25519 keys.

The maverick JAR used in Integration Server for the SFTP Version 2 client is 
now upgraded from 1.7.34 to 1.7.55

PIE-87807 (IS_10.7_Core_Fix23)
Integration Server does not collect UM client logs and integrationlive 
configurations as part of diagnostics data. 

This issue is resolved. Now, Integration Server includes the umClient.log files 
and the .cnf files from config/integrationlive in the diagnostics.

PIE-88032 (IS_10.7_Core_Fix23)
Changes to a GraphQL descriptor are visible after refreshing the descriptor but
are not persisted after reloading the package.

This issue is now resolved.

PIE-88272 (IS_10.7_Core_Fix23)
Addition of server configuration parameter to prevent a deadlock when the
Statistics Data Collector inserts metrics. 

When the Statistics Data Collector inserts metrics data into the database and
the transaction hangs indefinitely, it can lead to high thread usage in
Integration Server which can adversely affect performance. This could occur if a
database table needed for the completion of the metrics data transaction is
locked by another process. 

To prevent this potential deadlock, Integration Server now includes the
following server configuration parameter for setting a timeout for data
insertion: 

watt.server.statisticsDataCollector.dbInsert.secsTimeout
Specifies the number of seconds that the Statistics Data Collector waits when
attempting to insert metrics into the database. After the timeout elapses,
Integration Server writes a debug level message to the server log about the
timeout and discards the metrics event. Once the insertion timeout occurs, the
Statistics Data Collector writes metrics to memory until the database issue
resolves or the Statistics Data Collector is disabled. After the database issue
resolves, the Statistics Data Collector inserts the queued events into the
database. Set to a positive integer or 0 (zero). A value of 0 indicates that
there is no timeout and the Statistics Data Collector will wait indefinitely to
complete the transaction for inserting metrics into the database. The default is
15 seconds. 

Do not specify a timeout value greater than the statistics data collection
interval as this may cause thread utilization for the Statistics Data Collector
to increase. The statistics data collection interval is determined by the
watt.server.stats.pollTime and has a default value of 60 seconds. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-88566 (IS_10.7_Core_Fix23)
The pub.xml:queryXMLNode service trims leading and trailing whitespaces
in the query result.

The service must return the content of the queried field in the XML node
without modifications. However, the service trims the spaces around the
field content.

This issue is resolved. Now, Integration Server provides the
watt.client.node.trimBlanks server configuration parameter, which determines
whether the service trims the leading and trailing whitespaces or retains them.
Set the parameter to false to retain and true to trim the white spaces.
The default value for the parameter is true.

You do not need to restart the server for changes to the parameter to take
effect. 

PIE-92334 (IS_10.7_Core_Fix23)
Integration Server has a security vulnerability that allows a
Developer user to create a user and grant administrator privileges.

A user with Developer privileges can create a scheduled task using a
built-in service to add a user and run the task, even without permission
to invoke the service. Similarly, the Developer user can add a user
to the Administrators group making Integration Server vulnerable
to security risks.

This issue is resolved. Now, Integration Server provides the
watt.server.scheduler.checkUserAcl server configuration parameter
to validate a user invoking the service in a scheduled task.

watt.server.scheduler.checkUserAcl
Indicates whether Integration Server verifies if a user has Execute ACL
permission for a scheduler service. Set this parameter to true to enable
the verification or false to disable it. The default value is true.

You do not need to restart the server for the changes to the parameter
to take effect.

PIE-92369 (IS_10.7_Core_Fix23)
The wm.xslt.File:save service in Integration Server has an access control flaw
that exposes the server to security risks.

A developer user has Execute ACL permission for the wm.xslt.File:save service,
allowing the user to perform sensitive administrative tasks, making the server
insecure.

This issue is resolved. Now, only administrator users have the Execute ACL
permissions for the wm.xslt.File:save service.

PIE-93300 (IS_10.7_Core_Fix23)
In Integration Server Administrator, the "Max Server Threads" term on the
Clustering page misleads users.

This issue is resolved. Now, "Max Server Threads" is changed to
"Max Service Instances".

PIE-93338 (IS_10.7_Core_Fix23)
Integration Server does not include security headers in HTTP responses.
 
When the legacy Integration Server Administrator
(http://localhost:{port}/WmRoot) receives an anonymous HTTP request and returns 
an "ACCESS DENIED" response, Integration Server does not include security headers 
such as HTTP Strict Transport Security (HSTS) in those responses.
 
This issue is now resolved.

PIE-93564 (IS_10.7_Core_Fix23)
The pub.security:decrypt public service throws
"The service could not retrieve the private key. The secretKey parameter is
invalid." for an invalid secretKey in the input. However, the message is
misleading due to the use of both private key and secret key terms.

The issue is resolved. Now, the term private key is replaced with secret key
in the error message.

PIE-93865 (IS_10.7_Core_Fix23)
The pub.report:runTemplate service can return the contents of files located
outside of the specified input package but should not. 

Now the pub.report:runTemplate service can only return the contents of files in
the templates or pub directories for the package specified in the $package input
parameter. 

PIE-94326 (IS_10.7_Core_Fix23)
When security logging is enabled, Integration Server does not write login
failures that occur using the Integration Server Administrator login page to the
security log. 

This issue is now resolved.

PIE-77778 (IS_10.7_Core_Fix22)
Integration Server fails to decode the % character in an OpenAPI request.

This issue is now resolved.

PIE-82407 (IS_10.7_Core_Fix22)
The pub.security:decrypt public service throws "The service could not retrieve 
the secret key. The secretKey parameter is invalid." 

The pub.security:decrypt service fails to decrypt data if the data is encrypted 
using external tools like PGP or Fusion keys. 

The issue is now resolved.

PIE-86473 (IS_10.7_Core_Fix22)
Integration Server incorrectly handles REST requests in JSON format
when they have missing inputs.

When Integration Server processes REST requests in the JSON format, the missing
inputs that do not allow null values are present in the processing pipeline with
null values, which is incorrect.

This issue is now resolved by introducing the
watt.server.rest.addNullForMissingInput server configuration parameter that
controls how Integration Server handles missing inputs in a REST request.
The default value is true, which sets the missing input to null.
When the parameter is set to false, Integration Server does not set the missing
input to null.

You must restart Integration Server for the changes to take effect.

PIE-86812 (IS_10.7_Core_Fix22)
Integration Server 10.5 blocks incoming payload requests that include certain
file types (for example, .pdf or .png) within multipart/form-data as SQL
injection violation. 

Integration Server blocks payload requests containing specific file types 
(for example, .pdf or .png) as an SQL injection violation. Moreover, if 
incoming payload requests include such file types within multipart/form-data,
Integration Server 10.5 blocks the request at Enterprise Gateway because
multipart/form-data is not supported by the Enterprise Gateway rules. 

The issue is now resolved. If you want to instruct Integration Server to 
bypass validation for any specific content type against the SQL injection, use 
watt.server.enterprisegateway.SQLinjection.ignoreContentType system
configuration parameter. 

PIE-87446 (IS_10.7_Core_Fix22)
The SFTP Version 2 client in Integration Server does not support Public key 
authentication with ED25519 keys.

The maverick JAR used in Integration Server for the SFTP Version 2 client is 
now upgraded from 1.7.34 to 1.7.55

PIE-87548 (IS_10.7_Core_Fix22)
Updates to Nimbus-JSE-JWT jar to resolve security vulnerability.

Integration Server now includes the nimbus-jose-jwt-9.37.3.jar file which
resolves the following security vulnerability: 

CVE-2023-52428

The previous version of the jar file was: nimbus-jose-jwt-8.5.1.jar

PIE-87607 (IS_10.7_Core_Fix22)
After initial login to Integration Server through LDAP fails due to an 
intermittent issue, subsequent login attempts also fail.

When the initial login to Integration Server through LDAP fails due to an
intermittent issue, subsequent login attempts to Integration Server also fail, 
requiring a server restart. However, even after restarting Integration Server, 
the connection is only briefly established before it is lost again.

This issue is now resolved.

PIE-87888 (IS_10.7_Core_Fix22)
The pub.client.sftp:login service retains the previously accessed directory
information when reuseSession parameter is true.

When using the pub.client.sftp:login service with the reuseSession parameter
set to true, Integration Server presents the directory last accessed in the
previous session to the user instead of the user's home directory.

This issue is now resolved.

PIE-88168 (IS_10.7_Core_Fix22)
In an Enterprise Gateway setup with Enterprise Gateway rules configured, when a
client invokes an API with the "Expect: 100-continue" HTTP header and without
the payload, Integration Server throws SocketReadTimeout exception and the request
fails.

The issue is resolved. Integration Server now responds with "HTTP/1.1 100
Continue" to the client, allowing the client to send the payload for further
processing in Enterprise Gateway.

PIE-88415 (IS_10.7_Core_Fix22)
Integration Server fails to create a connection to an SFTP server when the SFTP
user alias is created based on values in the application.properties file.

When the application.properties file specifies the authentication type as
public key for an SFTP user, and the SFTP client version as v1,
Integration Server fails to create a connection to an SFTP server and throws
NullPointerException but succeeds when the SFTP client version is v2.

This issue is now resolved.

PIE-88464 (IS_10.7_Core_Fix22)
The pub.smime.keystore:createSignedData service does not validate the
key usage of the certificate used to generate digital signature.

This issue is now resolved.

PIE-92600 (IS_10.7_Core_Fix22)
Upgrade of the bc-fips JAR to resolve known security vulnerabilities.

The bc-fips JAR included with Integration Server has been upgraded to version
1.0.2.5 from 1.0.2.4

PIE-92776 (IS_10.7_Core_Fix22)
The "watt.server.portQueue" server configuration parameter has the incorrect
default value of 65534 instead of 200.

This issue is now resolved.

PIE-81126 (IS_10.7_Core_Fix21)
In rare situations, Integration Server uses the JVM keystore and truststore
instead of the keystore and truststore configured in the keystore and truststore
aliases specified in Integration Server Administrator. 

This issue is now resolved.

PIE-82194 (IS_10.7_Core_Fix21)
Scheduled tasks in Integration Server are stuck in the Active state with 
Next Run value as 0.0.

When a scheduled task fails to run before the Next Run time elapses, the task 
remains in the Active state with the Next Run value as 0.0, which does not show 
that the scheduled task is delayed.

This issue is resolved. Now, Integration Server provides the 
watt.server.scheduler.nextRun.hidePastValue server configuration parameter 
that specifies how Integration Server displays the elapsed Next Run time for a 
scheduled task that fails to run before the Next Run time elapses. If the 
parameter is set to true, the Next Run time shown as 0.0. 
If the parameter is set to false, the Next Run time is shown with a negative sign, 
indicating the delay in running the scheduled task. The default value is true.

You do not need to restart the Integration Server for changes to the parameter
to take effect.

PIE-85423 (IS_10.7_Core_Fix21)
Integration Server incorrectly names the first server log file after
a rollover.

When configuring size-based rollover for server log using the 
watt.server.serverlogRotateSize server configuration parameter, 
Integration Server incorrectly uses the previous day's date in the 
filename of the first log file after the rollover.

This issue is resolved. Integration Server now uses the current date in 
the filename of the first server log file after the rollover.

PIE-85555 (IS_10.7_Core_Fix21)
Login failure in Integration Server Administrator with HTTP 500 error.

This issue is now resolved.

PIE-85675 (IS_10.7_Core_Fix21)
Security vulnerability during FTP session.
 
During an FTP session (inbound or outbound), Integration Server exposes the
admin and ns folders in packages, making Integration Server vulnerable to a
script injection. 
 
To address this security vulnerability, Integration Server includes a server
configuration parameter to hide the admin and ns folders in all packages. Set
watt.net.ftp.hide.folders to true to hide the admin and ns folders in packages
during an FTP session. Set to false to leave the admin and ns folders visible
during FTP sessions. The default is false to ensure backward compatibility with
existing solutions. 
 
You do not need to restart Integration Server for changes to this parameter to
take effect. 
 
Important! The default configuration of the new watt.net.ftp.hide.folders
parameter does not resolve the security vulnerability. After applying a fix that
includes PIE-85675, you must set watt.net.ftp.hide.folders to true to address
the security vulnerability. It is more secure to set watt.net.ftp.hide.folders
to true. 

PIE-85708 (IS_10.7_Core_Fix21)
Integration Server writes a misleading error message to the server log if the
Statistics Data Collector starts before the WmRoot package finishes loading. 
 
During the Integration Server start up sequence, if the Statistics Data
Collector starts before the WmRoot package finishes loading, Integration Server
writes the following misleading message to the server log: 
 
[ISS.0045.0038E] (tid=<threadID>) Unable to save event in table. Details:
Unexpected error accessing the IS JDBC Pools component. Details: Unable to get
the function alias ISDashboardStats configuration. Details: wm.server.jdbcpool 
 
Now, instead of the above error message, Integration Server writes the following
message at the debug level when the Statistics Data Collector starts before the
WmRoot package finishes loading: 
 
[ISS.0045.0364D] (tid=<threadID>) Statistics Data Collector is waiting for
WmRoot package to finish loading. 
 
Integration Server writes the debug message to the server.log periodically until
the WmRoot package finishes loading. 

PIE-85738 (IS_10.7_Core_Fix21)
REQMOD requests from Integration Server to an ICAP Server fail with
HTTP 400 Bad Request error.

This issue is now resolved. The HTTP response header is now removed from REQMOD
requests and the req-body position in the encapsulated header is re-calculated. 

PIE-86384 (IS_10.7_Core_Fix21)
Integration Server working as an ICAP-compliant client throws 'Error in reading
header from ICAP server response' for McAfee ICAP server because the
response header is blank.

This issue is resolved. Now, only the first line of the ICAP HTTP response is read. 
For example, 'HTTP/1.1 403 VirusFound' if a virus is found and 'GET / HTTP/1.1'
if a virus is not found.

PIE-86542 (IS_10.7_Core_Fix21)
Updated jar files for Spring Boot Actuator.

The jar files for spring-boot-actuator have been updated to version 2.7.18.

The previous version was 2.7.12

Upgrading to version 2.7.18 resolves the following vulnerability:

https://nvd.nist.gov/vuln/detail/CVE-2023-34055

PIE-86547 (IS_10.7_Core_Fix21)
Upgrade of the bc-fips jar to resolve known security vulnerabilities.

The bc-fips jar included with Integration Server has been upgraded to version 
1.0.2.4 from 1.0.2.

This resolves the following security vulnerabilities:

- CVE-2022-45146
- CVE-2020-15522

PIE-86711 (IS_10.7_Core_Fix21)
Integration Server becomes unresponsive due to thread exhaustion resulting from
multiple active instances of a trigger's resource monitoring service. 

When Integration server encounters a transient error or exceeds maximum retry
attempts for a trigger, Integration Server suspends the trigger and runs a
resource monitoring service to determine the availability of the resources to
resume the trigger. However, Integration Server continues to create additional
instances of the service before the previous instances end, leading to resource
exhaustion. 

This issue is now resolved. 

PIE-86772 (IS_10.7_Core_Fix21)
Integration Server generates null document references while 
importing a Swagger document as a provider or consumer.

When importing a Swagger document with schemas containing nested arrays
and references to other schemas, the docTypes generated for the schemas
include document type references that are null, causing the null argument:
error. 

This issue is resolved. Now, Integration Server sets the correct 
document reference name.

PIE-86815 (IS_10.7_Core_Fix21)
The sample.xslt:transformToString service in the WmXSLT package is susceptible 
to XML External Entity (XXE) injection.

This issue is now resolved by introducing the watt.core.xml.loadExternalEntities 
server configuration parameter with the default value as false. 
If the parameter is set to false, the service ignores any external entities 
referenced in the input.

Note: If the parameter is set to true, the service parses the external entity 
references, which makes Integration Server vulnerable to XXE injection.

You do not need to restart the server for the changes to take effect.

PIE-86987 (IS_10.7_Core_Fix21)
The "Current Server Threads" column name in the Clustering screen is misleading 
users.

In Integration Server Administrator > Settings > Clustering, the value of 
"Current Server Threads" and the value of "Server Threads" on the Statistics page 
do not match, which is misleading. However, "Current Server Threads" on the 
Clustering page corresponds to "Service Instances" on the Statistics page. 

This issue is resolved. The "Current Server Threads" is now renamed to 
"Current Service Instances" to avoid any confusion.

PIE-87255 (IS_10.7_Core_Fix21)
Updated Guava jar file. 

The Guava jar file included with Integration Server is now updated to 32.1.1.jre. 
The previous version was 32.0.0-jre.

This resolves the following security vulnerability: CVE-2023-2976

PIE-87256 (IS_10.7_Core_Fix21)
Jetty libraries prior to version 9.4.53 have security vulnerabilities.

This issue is now resolved by upgrading the libraries to 9.4.53.

PIE-87396 (IS_10.7_Core_Fix21)
The pub.string:messageFormat service does not replace the placeholders in
the input pattern with the elements from the argument list if the pattern
has an apostrophe.

This issue is now resolved.

PIE-78908 (IS_10.7_Core_Fix20)
Service requests to Enterprise Gateway server fail when the 
Enterprise Gateway (EG) port is disabled for one of the internal Integration 
Servers.

The Enterprise Gateway server has issues in the retransmission logic related 
to content length calculation and verification, which results in service request 
failures.

This issue is now resolved.

PIE-83025 (IS_10.7_Core_Fix20)
Integration Server queries users of an LDAP group during ACL
management, which leads to a delay in service invocations.

This issue is resolved by introducing the watt.server.ldap.queryUsersForGroup
server configuration parameter that specifies whether Integration Server
queries users of an LDAP group. When the parameter is set to true and LDAP is 
configured, Integration Server queries the LDAP server to retrieve the users of 
an LDAP group. When the parameter is set to false, Integration Server does not 
query the LDAP server. The default value is false. You do not need to restart 
Integration Server for changes to this parameter to take effect.

PIE-84266 (IS_10.7_Core_Fix20)
Improvements to metrics data used in Dashboard.

The metrics data used in the time series graphs in the Dashboard for Integration
Server Administrator now use the timestamp at the end of the collection interval
on the graph instead of the time the Statistics Data Collector indexes the data
into the repository. 

PIE-84291 (IS_10.7_Core_Fix20)
Migrating to a higher version of Integration Server fails and the following
appears in the migration.log: Error while initializing JDBC configuration files.
Error message: null. 

This issue is now resolved. 

PIE-84869 (IS_10.7_Core_Fix20)
Integration Server has scheduler issues in quiesce mode.

Consider a scheduled task that is active when Integration Server enters quiesce
mode. If the scheduled task is updated in quiesce mode, Integration Server
suspends the task. Upon exiting quiesce mode, the task remains suspended. 

This issue is resolved. Now, tasks that are active before Integration Server 
enters quiesce mode will remain active when Integration Server exits quiesce 
mode.

Additionally, when Integration Server enters quiesce mode, the order of
package unloading is changed. Integration Server now unloads custom packages
before system packages, regardless of the package dependencies defined for the
custom packages. 

PIE-85214 (IS_10.7_Core_Fix20)
Integration Server does not start after applying a fix that includes PIE-76261.
 
A conflict between old SAML libraries and the upgraded ESAPI 2.4.0.0 libraries
included with PIE-76261 resulted in incompatible classes being used for ESAPI
security configuration. 
 
This issue has been resolved by setting the security configuration to a
compatible class. 

PIE-85362 (IS_10.7_Core_Fix20)
The Integration Server service metrics sag_is_service_requests_avg_exec_millis
and sag_is_service_requests_total returned by the /metrics endpoint now display
data from the previous statistics collection interval. 

Previously, the data displayed for sag_is_service_requests_avg_exec_millis and
sag_is_service_requests_total could be more than 5 minutes in the past. 

Now, the metrics display data from the previous statistics collection interval
which ensures that the data is no older than 2 minutes. 

PIE-85433 (IS_10.7_Core_Fix20)
During Integration Server migration from 10.5 to 10.15, the migration
utility throws "java.nio.file.NoSuchFileException" for files at random
while copying packages to the target instance.

This issue is now resolved.

PIE-85528 (IS_10.7_Core_Fix20)
When Integration Server receives a REST request for a Swagger-based REST 
resource, Integration Server returns the response based on the Accept header or
Content-Type header. If there is no content handler registered for any of the
media types in the Accept header, Integration Server returns the response as
text/html. 
 
This fix provides the watt.server.rest.useDefaultAccept server configuration 
parameter. When set to false, the parameter gives an option to support the 
existing behavior. When set to true, Integration Server returns the 
response based on the media type values defined in the RAD for the operation.
If one of the media type value in the Accept header is defined in the RAD,
Integration Server returns the response in the same format.
If there is a media type value in the Accept header that is not defined in the 
RAD, Integration Server returns the response in one of the format defined in 
the RAD. If the RAD does not define any media type value, Integration Server 
returns the response as application/json. The default value of the parameter
is false. You do not need to restart Integration Server for changes to this
parameter to take effect.

PIE-85541 (IS_10.7_Core_Fix20)
Integration Server throws a java.io.EOFException error while decoding binary
String data. 

Depending on the operation system, JDK version, and size of the data stream,
Integration Server incorrectly raises a java.io.EOFException error while
decoding binary String data using the com.wm.util.coder.IDataBinCoder class. 

This issue is now resolved.

PIE-85543 (IS_10.7_Core_Fix20)
Prometheus metrics reported when the /metrics endpoint is called should have a
host label but do not. 

The host label was inadvertently removed from Prometheus metrics returned by the
/metrics endpoint. The host label is used to capture the hostname of the machine
that produced the data. This is useful when metrics are collected from many
installations. 

This issue is now fixed.

PIE-85560 (IS_10.7_Core_Fix20)
If a java.sql.SQLException repeatedly occurs while the Statistics Data Collector
is processing SQL query results, the Statistics Data Collector might write a
large number of log messages to the server log. 

While processing results from a SQL query, the Statistics Data Collector might
emit many log messages if a java.sql.SQLException is repeatedly raised while
retrieving data  This results in an inordinate number of messages in the server
log such as the following: 

[ISS.0045.0035W] (tid=###) Failed to read SQL rows. Details: [ISS.0045.0158] An
error occurred while attempting to obtain JVM statistics. Repository statistics
will not include some JVM statistics. 

With this fix, the Statistics Data Collector limits the number of log messages
it writes when a java.sql.SQLException occurs when processing SQL query results. 

PIE-85589 (IS_10.7_Core_Fix20)
JMS connection cannot be enabled if it uses a JNDI alias configured to use a
JBoss provider. 

When a JNDI alias is configured to use JBoss as the provider, attempts to enable
a JMS connection that use the JNDI alias fail with the exception
"javax.net.ssl.SSLException: Unsupported signature algorithm:
rsa_pss_rsae_sha256". 

This issue is now resolved. Integration Server successfully starts a JMS
connection alias that uses a JNDI provider configured to use a JBoss provider. 

PIE-85647 (IS_10.7_Core_Fix20)
Attempt to refresh an expired access token results in a NullPointerException.

If the foreign key constraint from the IS_OAUTH_REFRESHTOKEN table to the
IS_OAUTH_TOKEN table is removed, a NullPointerException can occur while
attempting to refresh an access token that has expired. 

This fix adds additional protections to prevent a NullPointerException in this
scenario. Instead, Integration Server will respond with a 400 status code and an
error message. 

Important! Software AG does not recommended modifying database constraints
unless directed to do so by Software AG Global Support. 

PIE-86106 (IS_10.7_Core_Fix20)
Updating database properties for multiple database aliases in Integration Server 
using the is_instance script requires server restart for each alias. 

This issue is now resolved. Run the is_instance script for each database 
alias that you want to update and restart the Integration Server only 
once.

PIE-86121 (IS_10.7_Core_Fix20)
Integration Server does not support the built-in pub.security services in the
FIPS mode. 

This issue is now resolved.

PIE-86122 (IS_10.7_Core_Fix20)
The Dashboard in Integration Server Administrator displays a value of "Off"
for Cluster status even though the Integration Server is part of a cluster and
other Cluster status text states "Cluster is working". 

This issue is now resolved.

PIE-86129 (IS_10.7_Core_Fix20)
In the JVM Metrics page of the Dashboard in Integration Server Administrator,
the CPU usage metrics for the OS incorrectly reported the JVM CPU usage. 

This issue is now fixed.

For Integration Server 10.11 and 10.15, the Software AG Java Package 11 Fix 150
fixes must be installed to fully resolve the issue. Specifically, 

-  For Integration Server 10.11, make sure CJP_10.11_Fix150 (or higher) is
installed. 
-  For Integration Server 10.15, make sure CJP_10.15_Fix150 (or higher) is
installed. 

The Software AG Java Package 11 Fix 150 fixes  resolve an issue in the JVM that
caused the CPU usage to incorrectly report 0
(https://bugs.openjdk.org/browse/JDK-8268048 ). 

PIE-86233 (IS_10.7_Core_Fix20)
A rule violation alert email generated for the Denial of Service 
by IP policy in the Enterprise Gateway server displays the load balancer 
IP instead of a host IP address.

When you enable the Denial of Service by IP policy, the rule violation alert 
email for a request in the Enterprise Gateway Server shows the load balancer 
IP address instead of the host IP address despite setting the
watt.server.enterprisegateway.ignoreXForwardedForHeader server configuration 
parameter to false.

This issue is now resolved.

PIE-86235 (IS_10.7_Core_Fix20)
A request to send an empty file to an FTPS server using the pub.client.ftp:put
service in Integration Server results in an exception.

This issue is now resolved.

PIE-86525 (IS_10.7_Core_Fix20)
Integration Server incorrectly truncates data.

Depending on the operation system, JDK version, and size of the data stream,
Integration Server incorrectly truncates data when using the com.wm.util.Streams
class. 

This issue is now resolved.

PIE-86636 (IS_10.7_Core_Fix20)
Client applications can now set the User-Agent value that JSONClient sends to
Integration Server. 

When the CSRF Guard feature is enabled on Integration Server and the
watt.net.userAgent property has been changed to something other than the default
value of "webMethods", a call from the JSONClient class to the Integration
Server results in an  HTTP 400 response code. 

To resolve this issue, the following methods have been added to
com.wm.app.b2b.client.JSONClient: 

    public void setUserAgent(String)
    public String getUserAgent()

Client applications that use JSONClient to communicate with Integration Server
can call the setUserAgent method to specify the value that JSONClient will send
in the User-Agent request header. If setUserAgent() is not called, or is passed
null or an empty String, JSONClient will send a User-Agent value of
"webMethods". If Integration Server is using CSRF Guard, client applications
should set JSONClient's User-Agent so that it matches the watt.net.userAgent
setting on the server. If Integration Server has watt.server.http.jsonFormat set
to stream or bytes, the User-Agent value sent by JSONClient must be webMethods.
Client applications can call the getUserAgent method to see what User-Agent
value is currently in use by JSONClient. 

PIE-81070 (IS_10.7_Core_Fix19)
Integration Server throws an invalid input error when the optional 
elements are excluded from an OpenAPI request payload.

If the optional elements defined in the Swagger document are excluded from an
OpenAPI request payload, Integration Server throws an invalid input error. This
issue occurs in some scenarios involving oneOf, anyOf, or allOf schemas. 

This issue is now resolved.

PIE-81126 (IS_10.7_Core_Fix19)
In rare situations, Integration Server uses the JVM keystore and truststore
instead of the keystore and truststore configured in the keystore and truststore
aliases specified in Integration Server Administrator. 

This issue is now resolved.

PIE-82732 (IS_10.7_Core_Fix19)
Integration Server throws DataStoreException while processing a JSON 
request. 

After upgrading the Jackson libraries, Integration Server fails to process JSON
strings that exceed 1,000,000 characters in length because of the maximum length
limit of the upgraded libraries. 

This issue is resolved. Now, Integration Server provides the  
watt.server.json.decode.maxStringLength parameter to override the limit on 
maximum string length. The default value is 20,000,000. You must restart 
Integration Server for changes to this parameter to take effect.

PIE-84303 (IS_10.7_Core_Fix19)
A service that converts a document (IData) to JSON might fail with an
OutOfMemoryError if the document has a more complex structure and size. 

This issue has been resolved.

PIE-84347 (IS_10.7_Core_Fix19)
Running the Deployer.{bat|sh} script throws "java.security.cert.CertificateException" 
when Integration Server host and HTTPS port are passed as 
parameters, and the "Require Client Certificates" option is selected in the 
Security Configuration section in Integration Server Administrator.

The issue is resolved now.

PIE-84441 (IS_10.7_Core_Fix19)
The /metrics endpoint returns multiple instances of the metrics
sag_is_service_requests_avg_exec_millis and sag_is_service_requests_total with
different timestamps. 

Now, the /metrics endpoint returns only a single instance of the
sag_is_service_requests_avg_exec_millis and sag_is_service_requests_total
metrics for each IS service. 

Additionally, JVM and server metrics are now based on current data at the time
the /metrics endpoint is called.  In the past, JVM and server metrics were based
on aggregated data that could be several minutes old. 

PIE-84479 (IS_10.7_Core_Fix19)
Integration Server throws "[ISS.0026.9201] Unknown service:
wm.client.integrationlive.admin:executeTenantConnectionMonitor despite 
disabling the WmCloud package".

When you disable the WmCloud package in Integration Server, the server should
automatically disable the startup services related to the WmCloud package.
However, the server does not disable the 
wm.client.integrationlive.admin:scheduleTenantMonitoringTask startup service,
which results in the error. 

This issue is now resolved.

PIE-84507 (IS_10.7_Core_Fix19)
Decoding failure that occurs because the Protocol Buffer descriptor used with
the webMethods messaging trigger cannot be found will now be treated as a
transient error. 

When a webMethods messaging trigger receives a message encoded as a protocol
buffer, the trigger needs the protocol buffer descriptor created for the
publishable document type to decode the message. If the publishable document
type is not loaded at the time of decoding, the decoding fails due to a
MessagingCoderException. The trigger treated the decoding failure as a fatal
error and acknowledged the message to the messaging provider. However, the
decoding failure might be a transient error in some situations, such as when the
package that contains the publishable document type has not yet loaded at the
time the trigger attempts decoding. 

To address this possibility, the trigger now treats a decoding failure that
occurs because the trigger cannot find the protocol buffer descriptor as a
transient error. If a MessagingCoderException occurs, Integration Server can
suspend the trigger and rollback the message when one of the following is true: 

- watt.server.trigger.preprocess.suspendAndRetryOnError=true
- The trigger is configured to suspend and retry later.

Rolling back the message to the provider makes it possible for the trigger to
receive and process the message again later. 

PIE-84629 (IS_10.7_Core_Fix19)
Integration Server Administrator console has the vulnerability to content 
injection attacks.

When a client application makes an invalid HTTP request to Integration Server, 
the response to the request contains the invalid URL, which can be misused to 
perform a text injection attack by presenting a customized message to the
application. 

This issue is resolved. Integration Server provides the 
"watt.server.http.404.responseWithURL" server configuration parameter that 
controls the response messages to invalid HTTP requests. 

watt.server.http.404.responseWithURL

Specifies whether Integration Server adds the requested resource name to the 
404 response when a HTTP client sends an invalid URL request. If the parameter
is set to true, Integration Server responds with "Object Not Found (URL name)". 
If the parameter set to false, Integration Server responds with "Object Not
Found". The default value is true. 

You need not restart Integration Server for the changes to the parameter 
to take effect.

PIE-84750 (IS_10.7_Core_Fix19)
Setting up an SFTP connection using the application.properties file fails
when the file uses a private key without the passphrase.

The issue is resolved. Now, you can use a private key without the passphrase
in the application.properties file to set up an SFTP connection. This behavior
is similar to that of Integration Server Administrator.

PIE-84761 (IS_10.7_Core_Fix19)
Invoking an OpenAPI connector service without the server URL as an
input parameter results in "InvalidInputException: serverURL is a required
field". 

Consider an OpenAPI-based Consumer REST API Descriptor (RAD) 
with an associated connector service that has serverURL as an input field. 
When you run the connector service without providing a value 
for serverURL, Integration Server throws InvalidInputException instead of 
using the list of serverURLs in the RAD.

This issue is now resolved by using the serverURL from the list of
serverURLs in the RAD.

PIE-84954 (IS_10.7_Core_Fix19)
Missing null values in OpenAPI-based connector responses.

When you run an OpenAPI-based connector service, if the JSON response from the
REST API contains a field with a null value, the connector output should also
include the field with the null value. However, the null value field is missing
from the connector response. 

This is now resolved.

PIE-84960 (IS_10.7_Core_Fix19)
The sag_is_server_total_memory_mbytes and sag_is_server_used_memory_mbytes
metrics incorrectly reported values for the Integration Server JVM heap memory
instead of the operating system memory. 

Now, these metrics measure operating system memory.

PIE-85156 (IS_10.7_Core_Fix19)
Performance degradation observed in detection of the API category for an
executing service. 

Changes made to improve the collection and display of statistics might have
introduced a performance issue in detecting the API category for an executing
service. 

This fix provides a performance improvement for detection of the API category
for an executing service. 

PIE-85221 (IS_10.7_Core_Fix19)
Integration Server now uses PBKDF2, a dedicated password hashing algorithm, to
hash all user passwords. 

The Password-Based Key Derivation Function 2 (PBKDF2) algorithm is a dedicated
password hashing algorithm. After applying this fix, Integration Server uses the
PBKDF2 hashing algorithm for all new user passwords. Integration Server converts
existing passwords, which were hashed using SHA-2, to a PBKDF2 hash when the
password is updated. 

PIE-85240 (IS_10.7_Core_Fix19)
After applying a fix that contains PIE-78321, cached results for service caching
include input fields that have been dropped. 

Now, Integration Server does not include input fields that have been dropped in
cached service results. 

DTS-2585 (IS_10.7_Core_Fix18)
The Statistics Data Collector incorrectly excludes some metrics data in the REST
resources used in Integration Service Administrator dashboard.

This issue is now resolved.

The Exclude system services check box is now removed from the Integration Server
Administrators' Dashboard APIs page, resulting in displaying all the data
returned by the REST service call.

PIE-79162 (IS_10.7_Core_Fix18)
Improvements to Statistics Data Collector for gathering JVM statistics.

The following improvements for gathering and storing JVM statistics are now
available: 

- Increased fault-tolerance and diagnostic logging during statistics collection.
- Compressed storage of metric data in the IS_MONITOR table thus requiring fewer
rows. 
- Server and JVM statistics data are available earlier during the Integration
Server startup. Previously, 6 minutes might elapse before delivery of data to
the Dashboard in Integration Server Administrator. 

This fix also resolves the issue in which some JVM-related Prometheus metrics
where missing when the /metrics endpoint was called. 

PIE-80279 (IS_10.7_Core_Fix18)
Security log entries list Administrator as the user who performed the audited
action when the logged in user is an LDAP user. 

This issue is resolved. The security log now lists the user in the session that
performed the audited action. 

PIE-80877 (IS_10.7_Core_Fix18)
Enhancement to customize the HTTP access log format.

You can now configure Integration Server to customize the HTTP access log by
specifying only the required fields from a predefined list in the order of your
preference. 
To configure Integration Server to write HTTP log entries according to your
preferences, the watt.server.httplog server configuration parameter now
accepts a new value, extended. The new server configuration parameter,
watt.server.httplog.fields allow you to specify the required fields in the log.

watt.server.httplog.fields
Specifies a comma-separated list of fields that Integration Server logs in
the HTTP access log. You can specify the fields from a predefined list, and
in the required order.

For example,
watt.server.httplog=extended
watt.server.httplog.fields=uid(TEST_),'header/X-Forwarded-For',
timestamp(yyyy-MM-dd hh:mm:ss.SSS),method,url,responseCode,serverIp,
clientIp,elapsedTime,responseSize

In the generated log, a space separates the values and the empty field values
are replaced by a hyphen. You can also specify values in double quotes ("") or
single quotes (''). If the provided field is not from the predefined list, then
Integration Server ignores the field.

The predefined list of fields:

uid (Unique ID for a log entry based on timestamp. You can also
prepend a prefix to the ID. For example, uid(SAG_))
host
protocol
username
timestamp (You can also specify the format. For example, timestamp (yyyy-mm-dd))
request
responseCode
responseSize
referer
userAgent
elapsedTime
serverIp
clientIp
method
url
header/<HeaderName> (Logs the HTTP header <HeaderName> that is available in
the request.)

PIE-81827 (IS_10.7_Core_Fix18)
Integration Server now logs the following message during start up to indicate
whether the Statistics Data Collector is enabled or disabled: 

Statistics Data Collector enabled? {0}

Where the {0} is replaced with true or false.

PIE-81837 (IS_10.7_Core_Fix18)
Collection of JVM statistics appears to stop.
 
The Statistics Data Collector in Integration Server uses data returned by the
JVM statistics collector to populate the JVM metrics tab in the Integration
Server Administrator dashboard. An issue with the JVM might cause the JVM
statistics collector to stop gathering data. 
 
The Statistics Data Collector now periodically checks the state of the JMV
statistics collector and restarts the JVM statistics collector if it has
stopped. 
 
Integration Server now also includes a server configuration parameter that
indicates how soon JVM statistics collection begins after Statistics Data
Collector starts up. 
 
watt.server.statisticsDataCollector.jvmStats.startSecs
Specifies when the Statistics Data Collector begins collecting JVM statistics
once Statistics Data Collector start up completes. The Statistics Data Collector
in Integration Server uses collected JVM statistics to populate the JVM metrics
tab in the Integration Server Administrator dashboard. Specify an integer
greater than or equal to 0.  A value of 0 indicates that JVM statistics
collection begins as soon as the Statistics Data Collector completes its
startup.  The default value is 0. 

For changes to this parameter to take effect, you must either restart
Integration Server or disable and then re-enable statistics data collection for
the Dashboard. 

PIE-82296 (IS_10.7_Core_Fix18)
Integration Server takes a longer time to enter quiesce mode.

Entering quiesce mode, if there are shutdown services while disabling
packages, Integration Server waits for the shutdown services to reach
completion. If there are shutdown services that take longer time 
to complete, Integration Server waits indefinitely.

watt.server.quiesce.force

Specifies whether Integration Server disables a package forcefully. Set the 
parameter value to true to disable the packages forcefully. 
Forcefully disabling a package, terminates the running shutdown services.
Integration Server even terminates the threads for the user-scheduled tasks and
the user-triggered tasks before starting the package disabling. The default
value is false. 

watt.server.quiesce.force.timeout

Specifies the time in milliseconds that Integration Server waits to disable 
each package. If a shutdown service runs longer than the specified time, 
Integration Server terminates the shutdown service. The default value is 
1000 milliseconds.

Important:
Use these parameters cautiously, as forcefully disabling the package 
can result in data loss. Software AG recommends setting a wait time 
of 30 seconds to allow the shutdown services to complete gracefully.

You do not need to restart Integration Server for changes to 
these parameters to take effect.

PIE-83129 (IS_10.7_Core_Fix18)
After applying a fix that contains PIE-72571, Enterprise Gateway requests fail
intermittently due to a timeout error. 

After applying a fix that contains PIE-72571, Enterprise Gateway closes all the
internal connections except one which is incorrect. Consequently, when a number
of concurrent requests arrive, several requests timeout and subsequently fail
while waiting for an internal connection. 

This issue is now resolved. Enterprise Gateway maintains internal connections
properly. 

PIE-83254 (IS_10.7_Core_Fix18)
A REST request with null values in the payload results in the 400 Bad Request 
error. 

Consider a request that conforms to Swagger specification 2.0 and has 
a field in the request body, which is an array of primitive types. If one of 
the values is null, Integration Server throws NullPointerException while
processing the request. 

This issue is now resolved.

PIE-83348 (IS_10.7_Core_Fix18)
The MAC algorithm configuration in an SFTP Server Alias is not retained after
restarting Integration Server. 

This issue is now resolved.

PIE-83359 (IS_10.7_Core_Fix18)
Updated jar files for Spring Boot Actuator.

The jar files for spring-boot-actuator have been updated to version 2.7.12.

The previous versions were as follows:

- 10.15: 2.3.11
- 10.11: 2.3.11
- 10.7: 2.3.0
- 10.5: 2.3.0

Upgrading to version 2.7.12 resolves the following vulnerability:

CVE-2023-20883 (https://nvd.nist.gov/vuln/detail/CVE-2023-20883)

PIE-83387 (IS_10.7_Core_Fix18)
A value placed in cache by a pub.cache* service cannot be retrieved with the key
if a com.wm.data.IData object was used as the key. 
 
If an IData object was used as the key when placing a value in cache using a
pub.cache* service, later attempts to retrieve the value using the same key
might fail. This occurs because IData objects are mutable. 
 
To address this issue, Integration Server now includes the server configuration
parameter watt.server.cache.iDataKey.toString  that specifies whether a
com.wm.data.IData object used as a key in one of the pub.cache* services is
converted to an immutable String before accessing the cache. Set to true to
convert an IData object used as a key to a String. Set to false to keep the key
as an IData object. The default is true. 
 
Integration Server does not need to be restarted for changes to this parameter
to take effect. 
 
Important! If the IData object is modified after it has been used as a key,
Integration Server will not be able to retrieve values stored with the key
regardless of the value of watt.server.cache.iDataKey.toString. 
 
Software AG does not recommend using an IData object as a key with a cache as
IData objects are mutable. Instead, use a java.lang.String object as a key. 

PIE-83560 (IS_10.7_Core_Fix18)
Legacy Integration Server Administrator displays an error message for a failed
metering dry run despite the success of the most recent metering dry run. 

The legacy Integration Server Administrator displays the error message "MTA
status failing for: Dry run." at the top even though the most recent metering
dry run check finished with a success status of true. 

This issue is now resolved.

PIE-83641 (IS_10.7_Core_Fix18)
During Integration Server startup, the Statistics Data Collector skips
collection of some OS and Integration Server data. 

This issue is now resolved. 

PIE-83673 (IS_10.7_Core_Fix18)
Error responses sent to clients might contain too much information.

When a service ends because of a ServiceException, the error response returned
to a client potentially reveals significant information about the server,
service, and requesting user that could be exploited. The following fields might
be included in a response: $error, $localizedError, $errorType, $stackTrace,
$service, $pipeline, $user, $timestamp, and $contextID. 

Integration Server already includes the watt.server.http.returnException server
configuration parameter which determines whether the $stacktrace is returned to
the client along with the $error (the error message). This fix introduces new
values for watt.server.http.returnException which provide more control over what
information is returned to the calling client. The new values are: 

- brief - Returns all of the fields with the exception of $stackTrace.
- message - Returns $error and $contextID (context ID used for audit logging)
only. This is the most secure option as it returns the least amount of
information. 
- verbose - Returns all of the fields. This is the default.
- webMethods - Returns all of the fields only if the client's HTTP user agent is
set to webMethods or has the same value as the user agent specified in the
watt.net.userAgent parameter. If the user agent in the HTTP request does not
match the watt.net.userAgent value, the response contains $error and $contextID
only. Do not set watt.server.http.returnException to webMethods in a production
environment. A request submitted with the header "User-agent: webMethods" would
return sensitive information that could be misused. 

Note: Previously, the watt.server.http.returnException parameter accepted values
of true and false. These values are still honored. A value of true corresponds
to verbose. A value of false corresponds to brief. 

Note: If a service explicitly sets a response body by invoking
pub.flow:setResponse or pub.flow:setResponse2 and that service end with an
exception, the HTTP response will have a 500 status code but will not contain
the error message, stack trace, or other exception details. The response body
contains only what was set by invoking pub.flow:setResponse or
pub.flow:setResponse2. 

PIE-83691 (IS_10.7_Core_Fix18)
While using pub.xml:documentToXMLString, Integration Server 
encodes single quotes or apostrophes as the decimal equivalent of the ASCII code
instead of the named character entity. 

This issue is resolved. Now, Integration Server uses the named character entity
to escape single quotes or apostrophes. 

PIE-83916 (IS_10.7_Core_Fix18)
OpenAPI response from Integration Server includes a null value for a 
Document List that is not part of the response in the pipeline.

Consider that a client sends a REST request to an OpenAPI provider,
and the service signature includes a nested Document List. Despite the 
absence of the nested Document List in the output at runtime, Integration 
Server includes the Document List with a null value in the final output.

This issue is now resolved.

PIE-83995 (IS_10.7_Core_Fix18)
The Jetty library in Integration Server installation has security
vulnerabilities. 
For more information, see the reports at
https://eclipse.dev/jetty/security_reports.php 

This issue is now resolved. The Jetty library is upgraded to the latest version.

PIE-84347 (IS_10.7_Core_Fix18)
Running the Deployer.{bat|sh} script throws
"java.security.cert.CertificateException" 
when Integration Server host and HTTPS port are passed as 
parameters, and the "Require Client Certificates" option is selected in the 
Security Configuration section in Integration Server Administrator.

The issue is resolved now.

PIE-84373 (IS_10.7_Core_Fix18)
Overview tab in Integration Server Administrator Dashboard does not display any
data but does display a NumberFormatException alert. 

This issue is resolved.

PIE-84389 (IS_10.7_Core_Fix18)
Statistics Data Collector incorrectly excludes some statistics for REST APIs.

When the Exclude system services check box is selected on the APIs page of the
Dashboard in Integration Server Administrator, the REST API metrics incorrectly
excludes data from automatically generated services. The Exclude system services
check box was intended to exclude metrics data produced by a service in Wm*
system package. However, the Statistics Data Collector treats services generated
automatically when creating assets in Designer as system services. 

To address this issue, the Statistics Data Collector no longer excludes services
from its metrics gathering for REST APIs. 

Note: This is the server side change for DTS-2588, which removes the Exclude
system services check box. 

PIE-84568 (IS_10.7_Core_Fix18)
Updates to internal resources in the Integration Server Administrator API to
support the Dashboard. 

PIE-84322 (IS_10.7_Core_Fix17)
Fix installation using Software Update Manager (SUM) becomes unresponsive
because of a deep cyclic dependency caused by incorrect header updates in 
IS_10.7_Core_Fix16

In IS_10.7_Core_Fix16, the SUM headers were updated to change the dependency
on the glassfish fix to "Install-Before." This change inadvertently resulted in 
a deep cyclic dependency making SUM unresponsive during installation.

This issue is resolved. Now, IS_10.7_Core_Fix17 updates the headers and modifies 
the glassfish fix dependency to "Install-with." This change resolves the deep
cyclic dependency, allowing the SUM installation to proceed smoothly. This fix 
does not involve any code changes; only the SUM headers are updated.

PIE-75508 (IS_10.7_Core_Fix16)
The OpenAPI requests exclude the API key in the request header.

The OpenAPI requests sent through OpenAPI-based consumer services
exclude the API key in the request header even if apiKey is 
available in the API definition.

This issue is now resolved.

PIE-78336 (IS_10.7_Core_Fix16)
Integration Server uses the graphql-java-9.4.0.jar library, which has the
CVE-2022-37734 vulnerability. For details about the vulnerability, see
https://nvd.nist.gov/vuln/detail/CVE- 2022-37734 

The issue is resolved. Now, Integration Server uses "graphql-java-17.5.0.jar" 
to address the vulnerability. 

Important: The updated JAR requires significant modifications to the schema 
definitions that were created based on previous versions of the JAR. The 
updated JAR imposes several constraints that affect your schema definitions. 
For example:

Implementing multiple interfaces requires using "&" as a separator instead of a 
comma. 
Two interfaces cannot have a common field name.
Defining a new field by extending a type, interface, or input type is not
permitted. 
Extended scalar types such as Long, Short, Char, BigDecimal, BigInteger are not
implicitly supported. 
Depending on the impact of the updated JAR on your current implementation, you
may need to recreate existing assets or redefine the schema. Given that the 
updated JAR introduces breaking changes, it is strongly recommended that you 
contact Software AG support for assistance with your GraphQL workflows.

PIE-80287 (IS_10.7_Core_Fix16)
A configuration variables file (application.properties file) is ignored if the
license file for Integration Server cannot be read at start up. 

If Integration Server cannot read the license file at start up, Integration
Server proceeds with start up and the server will shut down after 30 minutes. In
this situation, Integration Server does not apply any present configuration
variables file (application.properties), resulting in Integration Server
starting up with the wrong configuration. 

Now, if the Integration Server license file cannot be read during start up and a
configuration variables file is present, Integration Server does not proceed
with start up and logs the following error: 

[ISS.0028.9999C]com.softwareag.is.dynamicvariables.DynamicVariablesCriticalException:
The license provided is invalid or cannot be read. Remove application.properties
file or provide a valid MSR license. 

PIE-81307 (IS_10.7_Core_Fix16)
Integration Server returns an unexpected Content-Type in the response to
a REST request. 

Integration Server responds with the Content-Type as text/html to a REST 
request that has the Accept header as /. However, the Content-Type in the 
response must be the first value in the Produces section of the REST API 
Descriptor. 

This issue is now resolved.

PIE-81707 (IS_10.7_Core_Fix16)
Blocked services lead to performance degradation in Integration Server
connected to a slow SFTP server.

When multiple services in Integration Server connect to SFTP servers,
the service that connects to a slow SFTP server blocks the rest. 

This issue is now resolved.

PIE-81983 (IS_10.7_Core_Fix16)
Updates to webMethods Metering to ensure that services in the WmCDS, WmDeployer,
and WmTaskClient packages are not counted for metering purposes. 

PIE-82202 (IS_10.7_Core_Fix16)
User account locking does not work in new Integration Server Administrator.

When a user makes the maximum allowed number of unsuccessful log in attempts
within a specified period, Integration Server locks the account for a
pre-determined duration. The legacy Integration Server Administrator honors the
account locking settings but the new Integration Server Administrator does not. 

Now, the new Integration Server Administrator honors account locking settings.

PIE-82323 (IS_10.7_Core_Fix16)
Integration Server hosted on Software AG Cloud throws the 
following exception for the hybrid health indicator as the wmCloud 
package is unavailable:

"HybridConnections" :
{ "exception" : "com.wm.app.b2b.server.UnknownServiceException: [ISS.0026.9201]
Unknown service:
wm.client.integrationlive.health.HybridConnectionHealth:getConnectionHealthStatus",
"status" : "DOWN"} 

This issue is resolved. Now, Integration Server does not check the 
HybridConnections health indicator when the wmCloud package is unavailable.

PIE-82325 (IS_10.7_Core_Fix16)
The configuration variables template file (application.properties) does not have 
the properties necessary to configure the SFTP server and user aliases. Hence,
Integration Server cannot connect to an SFTP server using
application.properties. 

This issue is resolved. The application.properties file now contains the 
following properties.

SFTP User Alias properties

sftpuser.aliasName.authenticationType : password or public key.
sftpuser.aliasName.privateKeyFileLocation : location of the private key if 
authenticationType is public key.
sftpuser.aliasName.strictHostKeyChecking : yes or no.
sftpuser.aliasName.passPhrase : passphrase generated while creating the private 
key.

SFTP Server Alias properties

sftpserver.aliasName.version : v1 or v2
sftpserver.aliasName.preferredKeyExchangeAlgorithm: key exchange algorithms 
separated by a comma.
sftpserver.aliasName.hostKey : location of the public key of the SFTP server.
sftpserver.aliasName.preferredMACS2C : preferred Mac S2C algorithms separated by
a comma. 
sftpserver.aliasName.preferredMACC2S : preferred Mac C2S algorithms separated by
a comma. 
sftpserver.aliasName.preferredCiphersS2C : preferred S2C ciphers separated by a
comma. 
sftpserver.aliasName.preferredCiphersC2S : preferred C2S  ciphers separated by a
comma. 
sftpserver.aliasName.minDHKeySize=Integer value representing the key size in
bytes. 
For example, 1024
sftpserver.aliasName.maxDHKeySize=Integer value representing the key size in
bytes. 
For example, 8192

PIE-82363 (IS_10.7_Core_Fix16)
Integration Server returns "PKIX path building failed -
unable to find valid certification path to requested target" for outbound
HTTPS connections.

Integration Server fails to establish an outbound HTTPS connection due to a 
secondary truststore configured in the primary truststore used for the
connection. 

This issue is now resolved.

PIE-82401 (IS_10.7_Core_Fix16)
Deploying SFTP connections through the application.properties file fails if one 
of the SFTP user aliases in the file has a corrupt password.

This issue is resolved. Now, only the SFTP user aliases with a properly 
encrypted password and passphrase are deployed, while the aliases with 
a corrupt password are ignored.

PIE-82539 (IS_10.7_Core_Fix16)
A complex repeating task does not support a custom task ID like a normal
repeating task. 

This issue is now resolved.

PIE-82642 (IS_10.7_Core_Fix16)
The pub.json:documentToJSONString service incorrectly converts a 
date object using the local time zone. 

While converting a date object with 'encodeDateAs' set to 'ISO8601', 
the pub.json:documentToJSONString service considers the local time 
zone instead of the Zulu time zone or UTC, resulting in a time difference. 

This issue is now resolved.

PIE-82670 (IS_10.7_Core_Fix16)
Integration Server excludes empty document fields in REST responses.

Consider a provider REST API Descriptor (RAD) created using an 
OpenAPI document. When a client sends a request to the API, the 
provider service returns a field, which is an empty document. 
However, Integration Server excludes the field in the response
sent to the client.

This issue is resolved. Now, the empty document field is present
in the response as an empty body. For example, "field1" : {}

PIE-82764 (IS_10.7_Core_Fix16)
The "wm.server.dispatcher:deleteExpiredUUID" service causes 
performance degradation in Integration Server while deleting large
data sets from MySQL and Microsoft SQL Server.

To resolve this issue, add the watt.server.trigger.delete.expired.uuid.limit
server configuration parameter in Integration Server Administrator
> Settings > Extended > Edit Extended Settings. If the
watt.server.trigger.delete.expired.uuid.limit value is zero, 
Integration Server disables the batching logic. The default value is zero.
You do not need to restart Integration Server for changes to this
parameter to take effect.

For more information, see PIE-77408.

PIE-82878 (IS_10.7_Core_Fix16)
When Integration Server uses the version 2 client to connect to an SFTP server 
through Public Key authentication, a memory leak issue is observed while 
validating the Private Key.

This issue is now resolved.

PIE-82903 (IS_10.7_Core_Fix16)
Changes to webMethods Metering for hybrid integration.

The webMethods Metering Agent considers execution of top-level user-defined
services to be metered transactions. For metering purposes, a hybrid integration
in which webMethods Cloud invokes a service residing on an on-premise
Integration Server does not count as a metered transaction despite it being a
top-level service invocation. 

PIE-82939 (IS_10.7_Core_Fix16)
Incorrect inactiveCount flag in the log messages of webMethods messaging
triggers. 

In the log messages of webMethods messaging triggers, there is an 
"inactiveCount" flag that indicates the number of times the trigger's poll for 
a message is inactive. However, Integration Server does not reset the 
flag when the trigger successfully processes a new message. As a result, the
inactiveCount keeps incrementing, suggesting a high count for the flag. 

This issue is resolved. Now, Integration Server resets the flag to zero when 
webMethods messaging trigger receives a message for processing.

PIE-83329 (IS_10.7_Core_Fix16)
After applying the fix that includes PIE-80101, LDAP fails to work. 

Applying the fix incorrectly changes the sequence in which the connection 
timeout and extended properties are used. 

This issue is now resolved. 

PIE-76455 (IS_10.7_Core_Fix15)
Integration Server Docker images do not use the latest Tanuki wrapper.

The Integration Server Docker images do not use the latest Tanuki 
wrapper updated using the Integration Server Tanuki fixes despite following 
the OS-specific instructions in the Integration Server Tanuki fixes.

This issue is now resolved by automating the manual instructions 
for Docker image creation.

PIE-80611 (IS_10.7_Core_Fix15)
Packages are not loaded in order during repository-based deployment, which might
result in package corruption. 

This issue is resolved now. Packages are now loaded in order during
repository-based deployment. 

PIE-80791 (IS_10.7_Core_Fix15)
The pub.client:ftp service returns the error message "Could not connect to ftp 
server: java.lang.NumberFormatException: Cannot parse null string". 

Integration Server fails to connect to an FTP server through a SocksProxy 
server when proxyAlias is not specified as input to the pub.client:ftp service. 

This issue is resolved now.

PIE-80840 (IS_10.7_Core_Fix15)
After applying a fix that includes PIE-72765, Integration Server logs a 
javax.net.ssl.SSLPeerUnverifiedException in the server log when executing a 
service.

When executing a service from a browser or a DSP page, Integration Server logs 
the following SSL authentication error in the server log:
javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated.

This issue is caused by changes made to internal files for PIE-72765. 
However, the log message is not correct.

This issue is now resolved. Integration Server no longer writes the message when 
executing a service from a browser or a DSP.

PIE-80907 (IS_10.7_Core_Fix15)
The pub.client.ldap:search service enters an infinite loop when run with 
pageSize. 

Integration Server uses the ldapCookie returned by the LDAP server while 
performing paged searches using pub.client.ldap:search. The LDAP 
server must return null when there are no entries to return to Integration
Server. However, pub.client.ldap:search does not receive null and enters an
infinite loop when run with pageSize. 

This issue is now resolved.

PIE-81159 (IS_10.7_Core_Fix15)
Integration Server does not honor the 'timeout' input parameter in the 
'pub.client:soapClient' service. 

When sending a message using the 'pub.client:soapClient' service, Integration 
Server considers the value of "watt.server.soapjms.request.timeout" 
instead of the 'timeout' input parameter specified in the service. 

This issue is now resolved.

PIE-81394 (IS_10.7_Core_Fix15)
The REST API responses from Integration Server are not completely HTML-encoded.

Invoking a REST API with the "Accept: application/xml" header returns invalid
XML responses because Integration Server fails to return HTML entities for the
pre-defined character entities in XML, such as <, >, &, 
and so on in the response data.

This issue is now resolved.

PIE-81575 (IS_10.7_Core_Fix15)
Repository-based package deployments result in wrong ACL configurations on the 
target Integration Server.

This issue is now resolved.

PIE-81648 (IS_10.7_Core_Fix15)
Server log contains the incorrect message "Missing variable restartHours in
monitor.cnf file." 

The Statistics Data Collector in Integration Server provides a default value for
the restartHours property, making the following server log message incorrect:
Missing variable restartHours in monitor.cnf file. 

Integration Server no longer logs the incorrect message.

PIE-81692
The Dashboard in Integration Server Administrator displays an invalid value for
the Uptime field on the Overview tab. 
 
Now, the Uptime field displays the correct value. The Uptime field displays the
amount of time since Integration Server started. 

PIE-81694 (IS_10.7_Core_Fix15)
Integration Server logs the "Unable to create an SMTP client instance for a 
hybrid connectivity alert: The email properties are not configured." error when 
an account or tenant connection is disconnected or restored. 

Integration Server uses the email notification settings configured in 
Integration Server Administrator > Settings > Resources to send the hybrid 
connectivity alert mails to the user. If the email notification settings are 
not configured, and the watt.wmcloud.hybridConnectivityAlert.notifications 
server configuration parameter has a value other than 'alert' or 'none', 
Integration Server logs the error when an account or tenant connection is 
disconnected or restored. 

This issue is now resolved. Now, the default value of 
the watt.wmcloud.hybridConnectivityAlert.notifications server configuration 
parameter is 'alert'.

PIE-81953 (IS_10.7_Core_Fix15)
The json-smart library in Integration Server has the CVE-2023-1370 security 
vulnerability. 
 
The json-smart-2.4.7.jar library in Integration Server is upgraded to json-
smart-2.4.10.jar to resolve the CVE-2023-1370 security vulnerability. 
For more information, see https://nvd.nist.gov/vuln/detail/CVE-2023-1370

PIE-82061 (IS_10.7_Core_Fix15)
After applying a fix that includes PIE-77728,  executing the pub.io:reset 
service results in the "java.io.IOException: Stream closed" error.

The resolution for PIE-77728 changed the pub.io:streamToString service to close 
the input stream. Consequently, if the pub.io:reset service uses the same
inputStream used by pub.io:streamToString, the pub.io:reset service fails 
because the stream is already closed. The pub.io:reset service ends with the
error: java.io.IOException: Stream closed.

To resolve this issue, the pub.io:streamToString service no longer closes the 
inputStream. Invoke pub.io:close to close the input stream.

PIE-82105 (IS_10.7_Core_Fix15)
Integration Server throws NullPointerException while processing a REST request
that has an empty array element. 

Integration Server throws NullPointerException while processing a REST 
request to an OpenAPI REST provider, if the request has an empty array 
element.

This issue is now resolved.

PIE-82236 (IS_10.7_Core_Fix15)
The Auto Package Deployer system task in Integration Server fails to 
automatically deploy updated packages to a server.

This issue is now resolved.

PIE-82392 (IS_10.7_Core_Fix15)
API Gateway requests to Integration Server queue up due to a delay 
in endpoint responses. 

While invoking an API from API Gateway, if the corresponding API 
endpoint in Integration Server takes longer than usual to respond, subsequent
API Gateway requests queue up resulting in the following error: "Requests are
waiting (for an available connection) to be forwarded across Registration Port
5591 to an Internal Integration Server." 

This issue is now resolved.

PIE-75291 (IS_10.7_Core_Fix14)
Repository-based package deployments reset the existing ACL configurations to
"Default" on the target Integration Server.

This issue is now resolved.

PIE-75952 (IS_10.7_Core_Fix14)
Unexpected runtime pipeline if a try-catch construct executes an Exit step
configured to exit $flow and signal failure. 

When using the Try flow step or Sequence step to handle errors, an unexpected
pipeline state occurs when a Loop step is used. Specifically, the pipeline
contains the Loop input array as a scalar variable instead of the original array
when the following series of events occurs: 

- The Try or Sequence step invokes a flow step that contains a child Loop step
- The child Loop step contains an Exit step configured to exit from the $flow
and signal failure 
- The Exit step executes at run time

In the case of a Sequence step or Try step that invokes a flow step containing
the described Loop step, if the child Loop step exits and signals failure, the
pipeline captured by the pub.flow:getLastError service contains the state of the
pipeline in the middle of Loop step execution. The service returns the input
array as a scalar variable rather than the original array. This is a change from
the behavior available in Integration Server versions prior to 10.3, which
returned the original array with the pub.flow:getLastError service. 

In addition to the scenario described above, the Try step exhibits a similar
pipeline corruption issue when the following series of events occurs: 

- The Try step contains a flow step that invokes child Loop step
- The Loop step is configured to exit $flow and signal failure
- The Try step fails at run time.

The resulting pipeline contains a scalar variable instead of the array variable
used for the input array of the Loop step. The pipeline should contain an array
variable for the Loop input array. 
 
With this fix, the dimension of the Loop input array parameter will not change
after the Loop step exits and signals failure. 

PIE-76010 (IS_10.7_Core_Fix14)
Integration Server ICAP client does not honor the ICAP specification to 
mandatorily encapsulate the whole HTTP request before sending it to the ICAP 
server. Additionally, for a text message that is not a virus, the HTTP status 
code is empty even if the ICAP status is 'ICAP/1.0 200 OK'. Hence, Integration 
Server treats a non-malicious text message as a virus after encapsulating the 
whole HTTP request. 

This issue is now resolved.

PIE-77771 (IS_10.7_Core_Fix14)
Integration Server throws the following error while connecting to an SFTP 
server: "com.wm.app.b2b.server.sftp.client.SFTPClientException: 
com.sshtools.publickey.InvalidPassphraseException: 
com.maverick.ssh.SshIOException". 

Consider that Integration Server uses the newer SFTP client (version 2) and the 
ED25519 type SSH key pair to connect to an SFTP server. The connection fails 
with SFTPClientException as the maverick-client-1.7.23.jar used by the SFTP 
client lacks support for the ED25519 key signature and SFTP servers that 
support crypto policy. 

This issue is resolved. Applying the fix upgrades the maverick-client-
1.7.23.jar to 1.7.34, which supports the ED25519 key signature. However, the 
upgraded SFTP client does not support authentication keys in the SSH2 format. 
Additionally, the hmac-sha256, hmac-sha256@ssh.com, hmac-sha512, hmac-
sha512@ssh.com, hmac-ripemd160, hmac-ripemd160@openssh.com, hmac-ripemd160-
etm@openssh.com MAC algorithms are not supported. Therefore, for an existing 
server alias, exclude the unsupported MAC algorithms, fetch the host key, and 
save the changes. 

The newer SFTP client (version 2) supports OpenSSH format host keys, and the 
existing key may be in the unsupported SSH2 format. Therefore, testing the 
server alias may throw an error. To avoid the error, regenerate the host key in 
the OpenSSH format, and use the "Get Host Key" button to get the regenerated 
key for the server alias. Similarly, fetch the latest host key if you are 
migrating from an older version of Integration Server, or updating a server 
alias in Integration Server Administrator. 

Once the server alias is successfully created or updated, test whether the user 
alias works with the host key. If testing the user alias results in 
java.security.NoSuchProviderException, add the 
org.bouncycastle.jce.provider.BouncyCastleProvider security provider class in 
Integration Server Administrator > Security > Keystore > Add Security Provider.

PIE-78672 (IS_10.7_Core_Fix14)
Integration Server logs custom fault messages returned by a provider service
in the error log.

When a provider service returns the custom fault messages, Integration Server
logs such custom fault messages in the error log file.

The issue is resolved. Now, Integration Server introduces the 
watt.server.soap.suppressFaultAsError server configuration parameter that helps 
control whether custom fault messages are logged or not.
 
watt.server.soap.suppressFaultAsError - Set to true to prevent Integration 
Server from logging the custom fault messages in the error log. Set to false to 
log custom fault messages as errors. The default value is false.
 
If you update the parameter value, you need not restart Integration Server for 
the changes to take effect.
 
Note: Although Integration Server suppresses custom log messages when the 
parameter is true, the service error count on the Statistics page in 
Integration Server Administrator includes the custom fault messages.

PIE-78864 (IS_10.7_Core_Fix14)
A scheduler task in a cloud solution remains suspended. 

A scheduler task in a cloud solution remains suspended, regardless of the state 
prior to deployment, when the cloud solution is deactivated and then activated. 

This issue is now resolved.

PIE-79139 (IS_10.7_Core_Fix14)
Integration Server does not remove expired OAuth tokens from the database or
cache properly, resulting in a NullPointerException. 
 
To ensure that expired OAuth tokens are properly removed from the database and
evicted from cache, Integration Server now uses a system task to check for and
remove expired OAuth tokens. The frequency with which Integration Server runs
the system task named Expired OAuth Token Cleanup and the number of expired
tokens that the task removes is determined by the
watt.server.oauth.token.removal.interval and
watt.server.oauth.token.removal.maxRows server configuration parameters,
respectively. 
 
watt.server.oauth.token.removal.interval
Specifies the frequency, measured in minutes, with which the Expired OAuth Token
Cleanup system task runs and removes expired OAuth tokens from the cache and
database. The default is 60. 

You must restart Integration Server for changes to this parameter to take
effect. 
 
watt.server.oauth.token.removal.maxRows
Specifies the maximum number of rows (expired tokens) removed from cache and
database when the Expired OAuth Token Cleanup system task runs. The default is
100. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

To improve troubleshooting, this fix also adds more logging at Trace level for
the server log facility 0010 OAuth. 

PIE-79243 (IS_10.7_Core_Fix14)
An OpenAPI multipart request to Integration Server for file upload fails.

In an OpenAPI multipart request to Integration Server, if the payload contains
only the file part, Integration Server fails to process the request. 

This issue is now resolved.

PIE-79309 (IS_10.7_Core_Fix14)
Suspending a webMethods messaging trigger in Integration 
Server 10.11 connected to Universal Messaging 10.5 results in
UnsupportedServerOperationException. 

This issue is now resolved.

PIE-79351 (IS_10.7_Core_Fix14)
As part of this fix, Integration Server supports OAuth based authentication for 
email notifications.

Procedure

1. Log on to Integration Server Administrator.
2. Go to Settings > Resources.
3. Click Edit Resource Settings and enter the following details to configure  
   OAuth based authentication for email notifications. 

    - Username - Type the e-mail address of the account that Integration Server 
	  uses to connect to the SMTP server.
    - Authentication - Specify the type of authentication that Integration Server 
	  should use to connect to the specified e-mail server. 
        - Select Basic Authentication if you want to authenticate the user on the 
        specified e-mail server with only login credentials (username and password).
        - Select OAuth to authenticate the user on the specified e-mail server 
		using the credentials issued by the OAuth server.
        Note: Only the Authorization Code grant type is supported for OAuth.
              To obtain the OAuth credentials for Integration Server, you must first
              register Integration Server with the OAuth Server. For details about
              registering an application and obtaining the OAuth credentials, see 
              your authorization server's documentation.
    - Password - Type the password associated with the username that identifies you
      on the SMTP server. This field applies only to Basic Authentication.
    - Auth URL - Specify the URL of the email provider or endpoint that Integration
    Server uses to request authorization code. This field applies only to OAuth.
    - Client ID - Specify the unique public identifier that the OAuth server 
    generates for Integration Server during registration. This field applies only to 
    OAuth.
    - Client Secret - Specify a unique string that the OAuth server provides to 
    Integration Server. It is known only to Integration Server and the authorization
    server. This field applies only to OAuth.
    - Scope - Specify the mail server access permissions configured for Integration 
    Server during registration. You can specify multiple scopes separated by a space.
    This field applies only to OAuth.
    - Access Token URL - Specify the URL that Integration Server must use to request
    an access token from the OAuth server. This field applies only to OAuth.
    - Redirect URL - Specify the URL that the OAuth server uses to send authentication
    responses to Integration Server. This field applies only to OAuth.
        - If you access Integration Server locally, enter the redirect URL in one of 
          the applicable formats:
        "http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp"
        "https://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp"
         - If you access Integration Server remotely, use 
                    "https://{ISHostName}:{port}/WmRoot/security-oauth-get-authcode.dsp"
    - Get Authorization Code - Click Get Authorization Code to receive a unique string
    from the OAuth Server that Integration Server requires to request an access 
    token. A new window prompts for user credentials. After a successful login, an 
    authorization code is sent to the redirect URL.
    Alternatively, you can obtain the authorization code manually in scenarios that
    do not allow you to obtain the authorization code through Integration Server 
    Administrator.
    To obtain the authorization code manually, send a request through a browser in 
    the format:
    <URL of an emailprovider>/<TenantID>/oauth2/authorize?response_type=code&prompt=login&
    redirect_uri="http://host:port/WmRoot/securityoauth-get-authcode.dsp&client_id=
    <clientID>&scope=<scope>"
    Here, response_type is set to code to inform the OAuth server that Integration 
    Server expects an authorization code as the response at the mentioned 
    redirect_uri.
    Note: Since the code generated is valid only for one-time usage, get the 
    authorization code each time you update the OAuth relevant fields.
    - Access Token Expiry Time - This field is displayed specifying the time until 
    when an access token issued to Integration Server is valid. This field applies 
    only to OAuth. This is a read-only field displayed based on the access token.
    - Token Refresh Interval - Specifies the time interval in minutes at which 
    the cron job is scheduled to fetch a new access token. The access token and the 
    refresh token are issued the first time you save the settings for email 
    notifications. Thereafter, the scheduled cron job refreshes and fetches the 
    access token using the refresh token, ensuring that a valid access token is used 
    to send mails. The default is 15 minutes.
    Note: If the access token expires, the user needs to give consent again using 
    login credentials and regenerate the tokens by editing the Email Notification 
    Settings.
    Click Save Changes to update the server with the new or changed email 
    notification settings. Your changes take effect immediately, and you start 
    receiving emails in case of any errors. In addition, the Access Token Expiry Time 
    is displayed.

Alternatively, you can set all the email notification parameters using the 
following new server configuration parameters.
You do not need to restart Integration Server for changes to these parameters to
take effect.

    - watt.server.smtp.authentication.type - Specifies the type of authentication 
      that Integration Server should use to connect to the specified e-mail server.
      Select Basic Authentication or OAuth.
    - watt.server.smtp.oauth.accessTokenURL - Specifies the URL that Integration 
      Server must use to request an access token from the OAuth server.
    - watt.server.smtp.oauth.authorizationCode - Specifies the authorization code 
      used to get an access token manually in scenarios where browser support is 
      unavailable.
    - watt.server.smtp.oauth.authURL - Specifies the URL of the email provider or 
      endpoint that Integration Server uses to request authorization code.
    - watt.server.smtp.oauth.clientID - Specifies the unique public identifier the 
      OAuth server generates for Integration Server during registration.
    - watt.server.smtp.oauth.clientSecret - Specifies a unique string that the OAuth 
      server provides to Integration Server while registering Integration Server as 
      an application. It is known only to Integration Server and the authorization 
      server.
    - watt.server.smtp.oauth.redirectURL - Specifies the URL that the OAuth server
      uses to send authentication responses to Integration Server.
    - watt.server.smtp.oauth.token.refreshInterval - Specifies the time interval in 
      minutes the cron job is scheduled to fetch a new access token. The default is
      15 minutes to fetch a new access token by using the refresh token and setting
      it for email notification settings.
    - watt.server.smtp.oauth.scope - Specifies the mail server access permissions
      configured for Integration Server during registration. You can specify multiple 
      scopes separated by a space.

PIE-79530 (IS_10.7_Core_Fix14)
Integration Server does not allow the user to provide a filename in the
'Content-Disposition' header of an OpenAPI multipart file upload request.

This issue is resolved by adding a 'filename' variable in the part 
signature. Now, user can provide a filename in the Content-Disposition header.

PIE-79569 (IS_10.7_Core_Fix14)
Integration Server does not validate an IP address in the X-Forwarded-For
(XFF) header of a request to the HTTP and HTTPS ports.

Integration Server does not validate the IP address in the XFF header of a 
request to allow or deny access to the HTTP and HTTPS ports.

This issue is resolved. Now, Integration Server validates the IP address in the 
XFF header of a request based on the
watt.server.ports.ipaccess.ignoreXForwardedForHeader 
server configuration parameter.

PIE-79729 (IS_10.7_Core_Fix14)
Changes in how Integration Server handles the expiration of cached OAuth tokens
and the removal of expired OAuth tokens from the database. 

Prior to this fix, the removal of an expired OAuth token from the database was
linked to the expiration of cached OAuth tokens. Now, Integration Server handles
these two activities separately. 

Expiration and removal of expired OAuth tokens from cache

The elements in the OAuthTokens cache and the OAuthAccessTokens cache have a
time-to-live. When the time-to-live elapses, Ehcache evicts the elements.
However, Ehcache does not usually remove the elements from the cache as soon as
they expire. Instead, Ehcache removes expired elements when it needs to make
room for new elements. Previously, Integration Server explicitly removed expired
access tokens from the token cache. Now, Integration Server relies on Ehcache to
remove expired elements. 

Removing expired OAuth tokens from the database

Prior to this fix, Integration Server listened for notifications about expired
OAuth access tokens from Ehcache. In response to a notification, Integration
Server deleted the access token from the database. Now, Integration Server no
longer listens for these notifications. When an OAuth token expires in Ehcache,
Integration Server does not delete the token from the database. Instead,
Integration Server uses the scheduled system task Expired OAuth Token Cleanup to
remove expired tokens. This system task, which is added to Integration Server to
resolve PIE-79139, executes the pub.oauth:removeExpiredAccessTokens service at a
regular interval. See the description of PIE-79139 for details on how to control
the frequency and behavior of the Expired OAuth Token Cleanup scheduled system
task. 

In addition to the above changes, the process Integration Server uses to delete
expired tokens form a database has changed. The
pub.oauth:removeExpiredAccessTokens service deletes expired access tokens from
the database by performing a series of delete operations in the database.
Previously, the pub.oauth:removeExpiredAccessTokens service used a single SQL
statement that involved multiple database tables. If the database contains a
very large number of expired access tokens, the token deletion can take several
minutes, tying up database resources and impacting system performance. Now,
Integration Server deletes the expired tokens in batches. The size of the
batches defaults to 1000. Use the new server configuration property
watt.server.oauth.token.removal.batchSize to change the batch size. A change to
the value of watt.server.oauth.token.removal.batchSize takes effect the next
time pub.oauth:removeExpiredAccessTokens executes. Integration Server does not
need to be restarted for changes to this parameter to take effect. 

Note: Take care when making the batch size much larger than the default of 1000.
As each row is deleted, the database will create a row-level lock. A database
may choose to escalate multiple row-level locks to a single table-level lock if
it determines that an operation is creating too many locks. A large batch size
can influence a database to escalate row-level locks. This can increase the
chance of a deadlock in the database. 

As a result of the changes introduced in this fix, the
watt.server.oauth.tokenRemoval.queueCapacity configuration parameter, which was
added for PIE-71548, is now obsolete. This parameter limited the queue size for
notifications about expired OAuth access token. Integration Server no longer
links removal of expired tokens from the database to notifications for expired
access tokens, making a queue for notifications about expired tokens
unnecessary. Integration Server ignores the
watt.server.oauth.tokenRemoval.queueCapacity parameter. 

PIE-79820 (IS_10.7_Core_Fix14)
The status of service invocation from Designer is unknown as the result is
empty. 

When "watt.server.http.returnException" is set to false, Integration Server 
returns an empty result on the failure of service invocation from Designer.
Hence, users do not know whether the service failed or succeeded. 

This issue is resolved. Now, Integration Server returns an error message 
instead of an empty result when a service fails.

PIE-79907 (IS_10.7_Core_Fix14)
Integration Server rejects an Id Token with an acr value if the
acr_values_supported field is not in an OpenID provider's configuration. 

The acr_values_supported field is not required in an OpenID provider's
configuration. When it is not present and the provider presents an Id Token with
an acr value, Integration Server incorrectly rejects the Id Token with an error
indicating the acr value is invalid. 

This has been resolved. When an OpenID provider's configuration does not include
an acr_values_supported field, the acr field in the provider's Id Token may
contain any string value. 

PIE-79929 (IS_10.7_Core_Fix14)
Integration Server utilizes 90% of the total available memory and causes 
performance degradation.

This issue occurs only in asynchronous request-reply operations for JMS 
messaging. In Integration Server, invoking the pub.jms:sendAndWait service
with the async flag set to true without invoking the pub.jms:waitForReply
service results in a memory leak as Integration Server does not close 
the JMS session objects.  
As a result, the leaked JMS Session objects slowly accumulate, leading 
to high memory utilization and performance issues.

This issue is now resolved.

PIE-80101 (IS_10.7_Core_Fix14)
A delay in Integration Server startup when Integration Server uses 
LDAP. 

When Integration Server uses an LDAP server, Integration Server queries the 
LDAP server at startup with exhaustive filters for group and user, resulting in 
a delay. 

This issue is resolved. Now, Integration Server provides new server 
configuration parameters to set the object class for user and group filters, 
when querying an LDAP server. Each LDAP server has a different object class for 
defining the user and group filter. For example, the user filter for Active
Directory is "objectclass=user". The user filter for Oracle Directory Server 
is "objectclass=person". 

Server configuration parameters: 

watt.server.ldap.groupObjectClass - Specifies the LDAP object class for the 
group filter. The default value is "group". The other allowed values are 
"groupofnames" and "groupofuniquenames". 

watt.server.ldap.userObjectClass - Specifies the LDAP object class for the 
user filter. The default value is "user".  The other allowed values are 
"person", "inetOrgPerson", and  "organizationalPerson". 

You do not need to restart Integration Server for changes to this parameter to 
take effect.

PIE-80157 (IS_10.7_Core_Fix14)
Responses from Integration Server are not completely HTML-encoded. 

Integration Server must return HTML-encoded entities corresponding to all 
characters, including (< > " ' )  in the responses. 

This issue is now resolved.

PIE-80315 (IS_10.7_Core_Fix14)
Integration Server now includes protobuf-java_3.19.6.jar, which addresses
security-related vulnerabilities existing in earlier versions of the jar file. 

The following security vulnerability has been reported against
protobuf-java_3.12.2.jar: CVE-2022-3171 

Integration Server now includes protobuf-java_3.19.6.jar for Protocol Buffers
which resolves the identified security vulnerability. 

PIE-80350 (IS_10.7_Core_Fix14)
The pub.security services that accept a secret-key passphrase as an input 
succeed despite providing an incorrect value. 

This issue is resolved. Now, the pub.security services throw an exception for 
an incorrect secret-key passphrase.

PIE-80604 (IS_10.7_Core_Fix14)
After applying a fix that includes PIE-75416, the session timeout for the
session created when a user logs in to Integration Server is hardcoded to 600000
milliseconds instead of using the value of the watt.server.clientTimeout server
configuration parameter. 

This issue is now resolved.

PIE-80742 (IS_10.7_Core_Fix14)
When creating a JSON document type from a JSON schema with cyclic dependencies,
Integration Server throws the com.softwareag.is.jsonschema.SchemaException. 

This issue is resolved. Now, Integration Server supports creating a JSON 
document type from a JSON schema with cyclic dependencies.

PIE-80891 (IS_10.7_Core_Fix14)
Change to allow access to OAuth configuration pages from Integration Server
Administrator when an Enterprise Gateway port is enabled on the server. 

The Security > OAuth menu and related pages are not available in Integration
Server Administrator when an Enterprise Gateway port is enabled. This is because
an Enterprise Gateway port is usually used on an Integration Server outside the
corporate firewall. OAuth requires a database, which should not be placed
outside the firewall. However, some companies use Enterprise Gateway inside
their firewall, where it is safe to set up a database and perform OAuth
configuration. 

To allow access to OAuth configuration from Integration Server Administrator,
even when an Enterprise Gateway port is enabled, set the new sever configuration
parameter watt.server.oauth.alwaysAvailable to true. A complete description of
the parameter follows. 

watt.server.oauth.alwaysAvailable
Specifies whether OAuth configuration is available on Integration Server
Administrator even when an Enterprise Gateway port is enabled on the server. Set
to true for the Security > OAuth menu item and related pages to be visible in
Integration Server Administrator, even if an Enterprise Gateway port is enabled
on the server. When set to false, the Security > OAuth menu and related pages
will be visible in Integration Server Administrator only if an Enterprise
Gateway port is not enabled on the server. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

Note: Browsers often cache web page elements. Users may need to clear the
browser cache to see the effect of changing watt.server.oauth.alwaysAvailable. 

Important! The watt.server.oauth.alwaysAvailable parameter should be set to true
only when Integration Server is inside the corporate firewall. This is because
OAuth requires a database, which should not be placed outside the firewall. 

PIE-80925 (IS_10.7_Core_Fix14)
Upgrade of snakeYAML to version 1.33.0 from version 1.31.0.

The following security vulnerabilities have been reported against snakeYAML
version 1.31.0: 

- CVE-2022-38752
- CVE-2022-41854

Integration Server now uses snakeYAML 1.33.0.

PIE-80996 (IS_10.7_Core_Fix14)
Integration Server does not disable the response header validation for a SOAP 
web service. 

Integration Server does not disable the response header validation for a SOAP 
web service despite setting "watt.server.SOAP.ignoreMissingResponseHeader" to 
true, which results in a header missing error. 

This issue is now resolved.

PIE-81028 (IS_10.7_Core_Fix14)
The resolution for PIE-75416 does not address the scenario for users
authenticated via an Open ID provider and caused issues with single-sign on
(SSO) to Integration Server. 

PIE-75416 addressed a vulnerability to a session fixation attack. However, the
resolution did not address users authenticated via an Open ID provider.
Additionally, the resolution broke SSO for the same category of users. 

Now, after users are successfully authenticated via an Open ID provider and
successfully log in to Integration Server, Integration Server generates and uses
a new session ID. Additionally, SSO now works for these users. 

PIE-81172 (IS_10.7_Core_Fix14)
Integration Server now provides alerts for hybrid connectivity.

A new channel, "Hybrid Connections" is added for hybrid connectivity alerts,
which are generated for the following events:
- Tenant connection disconnected
- Tenant connection restored
- Account disconnected
- Account restored

To enable hybrid connectivity alerts, add the hybrid connection channel
ID (14) to the emissionChannels and systemNotifierChannels arrays in
the alertSetings.json file in the
Integration Server_directory\instances\instance_name\config directory.

When an account connection or a tenant connection is disconnected or 
restored, Integration Server notifies the user through a notification in 
Integration Server Administrator followed by an email.
You can configure the hybrid connectivity notifications using
the watt.wmcloud.hybridConnectivityAlert.notifications server configuration
parameter and the recipients of the notification emails using 
the watt.wmcloud.hybridConnectivityAlert.mail server configuration parameter.

Integration Server uses the email notification settings configured in
Integration Server Administrator > Settings > Resources.

watt.wmcloud.hybridConnectivityAlert.mail
Specifies the list of email addresses to which Integration Server sends emails
about errors and warnings related to the connection status between 
IntegrationServer and webMethods Cloud. Use a semicolon (;) as a delimiter 
to specify multiple email addresses. By default, the parameter value is blank.

watt.wmcloud.hybridConnectivityAlert.notifications
Specifies whether Integration Server generates notifications and notifies 
users when a tenant connection or an account for webMethods Cloud is 
disconnected or restored. The parameter can have one of the following values:
- alert: Integration Server displays a notification in Integration Server
Administrator.
- email: Integration Server sends an email to the user.
- none: Integration Server does not notify the user.

Note: If you are using any value other than alert, email, or none, Integration 
Server notifies the user through a notification in Integration Server 
Administrator, followed by an email. By default, the parameter value is alert.

Integration Server restart is not required for changes to these parameters to 
take effect.

In addition, the HybridConnections health indicator is added to track the 
status of hybrid connections.
HybridConnections: Checks all the listed tenant connection
aliases and associated accounts for webMethods Cloud. Returns a status of 
UP if all of the listed tenant connections and associated accounts are UP.
Returns a status of DOWN if any of the listed tenant or account connections are
down. The health indicator includes individual statuses for tenant connections
and associated accounts, along with the overall hybrid connection status.
If an enabled tenant connection does not have an account alias or the account
alias is not enabled, the health indicator does not list the tenant alias.
If a tenant connection is disabled and the associated account is enabled, the
health indicator shows the account status.

PIE-81189 (IS_10.7_Core_Fix14)
Executing a flow service in Integration Server Administrator fails with 
"java.lang.StackOverflowError". 

If you test a flow service with recursive document types in Integration Server 
Administrator, the service execution fails with "java.lang.StackOverflowError". 

This issue is now resolved.

PIE-81276 (IS_10.7_Core_Fix14)
If the SFTP client in Integration Server implements OpenSSH 8 or later, 
clicking "Get Host Key" in an SFTP server alias returns the host key with ecdsa-
sha2-nistp256 as the prefix. However, ecdsa-sha2-nistp256 is not part of the 
prefixes validated by Integration Server. Hence, Integration Server throws 
corrupt or unknown public key format error.

This issue is now resolved by including ecdsa-sha2-nistp256 in the list of 
prefixes validated by Integration Server.

PIE-72765 (IS_10.7_Core_Fix13)
Upgrade the Entrust Toolkit included with Integration Server to version 8.1.20.

Integration Server now uses Entrust Toolkit 8.1.20. This upgrade has the 
following impacts:

- An Integration Server to which the latest Java fixes were applied no longer 
fails at startup due to a java.lang.ExceptionInInitializerError. This error 
occurred because the latest Java fixes provided by Software AG did not allow any 
jar file signed with the deprecated SHA1 algorithm to be loaded. Previously, 
Integration Server used Entrust Toolkit 8.0.33 which was signed with the SHA1
algorithm. This prevented Integration Server from starting up successfully if 
the latest Java fixes were applied.
- JSSE is used for secured inbound and outbound communication. Previously, use 
of JSSE for secured inbound and outbound communications was the default, but 
optional. If JSSE was not used, the iaik.security.ssl package in the Entrust 
IAIK library provided in Entrust Toolkit 8.0.33 was used to establish the 
connection. However, Entrust Toolkit 8.1.20, which Integration Server now uses, 
no longer supports the iaik.security.ssl package. Use of JSSE is more secure. 
In accordance with this change, the Use JSSE options have been removed from port 
configuration pages in Integration Server Administrator, useJSSE input fields 
have been removed from built-in services in WmPublic, and server configuration 
parameters related to using Entrust to establish a connection have been removed. 
For a detailed list of impacted services, port configurations, and server 
configuration parameters, see below.

Note: If you need Integration Server to use TLSv1 to communicate with a legacy 
server, you need to edit the java.security file used by the JVM. For more 
information about editing the java.security file, refer to the JVM documentation.

Impacted Built-In Services
The following services no longer include a useJSSE input parameter as all 
outbound connections use JSSE. The useJSSE parameter may still appear in the
pipeline, however, Integration Server ignores the value, proceeding as if use 
JSSE were set to yes:
- pub.alert.notifier:create The smtpSender/secure/useJSSE input parameter has 
  been removed.
- pub.alert.notifier:update The smtpSender/secure/useJSSE input parameter has 
  been removed.
- pub.alert.notifier:list The smtpSender/secure/useJSSE output parameter has 
  been removed.
- pub.client:http The useJSSE input parameter has been removed.
- pub.client:smtp The useJSSE input parameter has been removed.
- pub.client:soapClient The useJSSE input parameter has been removed.
- pub.client:ftp The secure/useJSSE input parameter has been removed
- pub.client.ftp:login The secure/useJSSE input parameter has been removed.

Removed Server Configuration Parameters
- watt.net.ssl.client.cipherSuiteList
- watt.net.ssl.client.ftps.useJSSE
- watt.net.ssl.client.handshake.maxVersion
- watt.net.ssl.client.handshake.minVersion
- watt.net.ssl.client.strongcipheronly
- watt.net.ssl.client.useJSSE
- watt.net.ssl.email.client.useJSSE
- watt.net.ssl.email.client.smtp.useJSSE
- watt.net.ssl.server.cipherSuiteList
- watt.net.ssl.server.handshake.maxVersion
- watt.net.ssl.server.handshake.minVersion
- watt.net.ssl.server.strongcipheronly

In addition to the removed server configuration parameters above, the existing 
parameter watt.net.socketProvider now has a default value of 
com.wm.ext.jsse.JSSESecureSocketFactory. Prior to this fix, the default value 
was com.wm.ext.iaik.IaikSecureSocket.

PIE-74713 (IS_10.7_Core_Fix13)
Update to the Integration Server Administrator API framework to allow other
Software AG products flexibility regarding the placement of ResourceBundles. 

PIE-74826 (IS_10.7_Core_Fix13)
The Auto Package Deployer system task in Integration Server fails to 
automatically deploy updated packages to a server.

This issue is now resolved.

PIE-75742 (IS_10.7_Core_Fix13)
An ICAP client does not honor the Preview header sent in the ICAP OPTIONS 
response and requires a Transfer-* header. 

RFC (https://www.rfc-editor.org/rfc/rfc3507.html#section-4.5) does not mention 
that the Preview header must have a Transfer-*. To affect a Preview, an ICAP 
client must add a "Preview:" header to its request headers defining the length 
of the preview. 

This issue is now resolved.

PIE-76115 (IS_10.7_Core_Fix13)
Integration Server throws "425 Unable to build data connection: TLS session of 
data connection not resumed." while executing pub.client.ftp:ls. 

Integration Server does not honor the 
watt.security.ssl.resumeClientSessions server configuration parameter. 
Hence, the pub.client.ftp:ls service fails to build a data connection. 

This issue is now resolved.

PIE-76978 (IS_10.7_Core_Fix13)
Integration Server logs the error message Unable to save event in table.
Details: null. 
 
When the Integration Server is running a very high transaction rate, it is
possible for the following error message to appear: 
 
[ISS.0045.0038E] (tid=<threadID>) Unable to save event in table. Details: null. 
 
When this error occurs, a portion of the statistics data for that 60 second time
interval is lost. 
 
This issue is now resolved. The aforementioned error no longer occurs,
preventing the loss of statistics data. 

PIE-77486 (IS_10.7_Core_Fix13)
Rhino JAR is upgraded from version 1.7.7.1 to 1.7.14 to resolve
security vulnerabilities.

PIE-77687 (IS_10.7_Core_Fix13)
Designer exhibits slow response time while deleting, renaming, and copying 
elements when the Integration Server namespace contains REST resources 
and REST API descriptors.

After applying this fix, Integration Server shows an improvement in 
the amount of time required to delete, rename, and copy elements when 
REST resources and REST API descriptors are present.

PIE-78256 (IS_10.7_Core_Fix13)
During Integration Server migration from 10.5 to 10.11, the migration utility 
throws "java.nio.file.FileAlreadyExistsException" for files at random while 
copying packages to the target instance. 

This issue is now resolved.

PIE-78292 (IS_10.7_Core_Fix13)
A java.sql.SQLSyntaxErrorException occurs because the REQUIRE_PKCE column is not
added to the IS_OAUTH_CLIENTS table in DB2. 

After applying a fix that includes PIE-71960, which introduces the ability to
require PKCE per OAuth client, Integration Server dynamically adds the
REQUIRE_PKCE column to the IS_OAUTH_CLIENTS table when the server starts. This
modification to the IS_OAUTH_CLIENTS table fails for some databases, resulting
in a java.sql.SQLSyntaxErrorException. 

This has been resolved by moving the database table modification for OAuth out
of Integration Server and into separate SQL scripts that can be executed by the
Software AG Database Component Configurator. 

Important! To complete resolution of PIE-78292, you must install fix
IS_10.7_Database_Fix3 (or higher) and run the Software AG Database Component
Configurator before starting Integration Server. 

PIE-78417 (IS_10.7_Core_Fix13)
After applying a fix that included PIE-72514, deployment sometimes fails with an
exception about deletion of artifacts. 

The solution for PIE-72514 introduced new logic for copying Deployer artifacts
into an Integration Sever installation. However, some of the streams used for
file copy operations were not properly closed, resulting in failed deployments
and an exception like the following: 

Exception: [ISS.0088.9112] An Exception was thrown in the server:[ISS.0085.9345]
Deletion of artifacts delivered for deployment ID <deployment_ID> failed with an
exception. For more information, see the Integration Server logs. 

This issue now fixed. Streams for file copy operations are now properly closed.

PIE-78564 (IS_10.7_Core_Fix13)
A request to log into Integration Server via the Integration Server
Administrator API results in a response with an extra Set-Cookie headers. 

The response to a log in request sent via the Integration Server Administrator
API contains two Set-Cookie headers. One Set-Cookie header holds a null ssnid
attribute. The other Set-Cookie header contains the ssnid attribute set to the
actual session ID. 

This issue is now resolved. Integration Server no longer includes the Set-Cookie
header with a null ssnid in the response to a login request. 

PIE-78569 (IS_10.7_Core_Fix13)
Using Integration Server to create a URL alias that contains the reserved
directive wm-message can prevent Designer from connecting to Integration Server. 
 
A URL alias cannot contain a directive reserved for use by Integration Server
such as invoke, wm-message, admin, or rest. Designer might not be able to
connect to Integration Server if a URL alias contains a reserved directive. 
 
Integration Server now performs validation checks that prevent the creation of a
URL alias that uses the reserved directive wm-message. Additionally, Integration
Server provides more logging for the server log and security log when creating
or editing URL alias. 

PIE-78654 (IS_10.7_Core_Fix13)
Multiple sessions on Integration Server are established for a user login, which
can result in an invalid session count. 

For each user log in to Integration Server Integration Server or Integration
Server Administrator, one session is established for accessing the log in page
(this session has a user ID of local/default) and another is established when
user is authenticated (this session has a user ID of local/Administrator).
However, the initial session is not killed when the second session is
established. This results in an invalid session count. Additionally, the initial
session for the local/default users consumes a licensed session. 

Now, once the user is authenticated, Integration Server kills the initial
session for the local/default user that was created when the Integration Server
log in page was accessed. 

PIE-79135 (IS_10.7_Core_Fix13)
Integration Server fails to process a request URL that includes a URL alias.

Integration Server does not resolve a request URL that includes a URL alias 
similar to other URL aliases. For example, if the following URL aliases exist, 
Integration Server cannot resolve a request URL that includes one of the 
aliases:
a/b
a/b/c
a/b/d

This issue is now resolved.

PIE-79159 (IS_10.7_Core_Fix13)
Integration Server fails to get a connection from the JDBC connection pool 
after editing the pool alias. 

When the Spy Diagnostics feature is enabled and the database URL uses an 
SQLServer URL with instanceName instead of the port , editing the JDBC
connection pool alias from Integration Server Administrator adds a space to 
the spyParms attribute in the pool configuration file (alias.xml). As a result, 
Integration Server fails to get a connection from the connection pool. 

This issue is now resolved.

PIE-79166 and PIE-79177 (IS_10.7_Core_Fix13)
Integration Server logs the error message Unable to save event in table.
Details: null. 
 
When the Integration Server is running a very high transaction rate, it is
possible for the following error message to appear: 
 
[ISS.0045.0038E] (tid=<threadID>) Unable to save event in table. Details: null. 
 
When this error occurs, a portion of the statistics data for that 60 second time
interval is lost. 
 
This issue is now resolved. The aforementioned error no longer occurs,
preventing the loss of statistics data.

PIE-79205 (IS_10.7_Core_Fix13)
Integration Server throws "java.lang.NumberFormatException" while 
creating a Rest API Descriptor (RAD) from a REST resource that 
references a service signature with date or time variables 
having minimum and maximum values. 

Swagger specification does not support minimum and maximum values 
for date and time variables. Hence, Integration Server fails to 
create a RAD based on Swagger specification and a REST resource 
that references a service signature with date or time variables 
having minimum and maximum values. 

This issue is resolved. Now, Integration Server ignores the minimum 
and maximum values for date and time variables while creating the RAD. 

Note: If Integration Server and Designer are installed in different 
directories, run Update Manager to install the Integration Server client 
fix in the directory where Designer is installed.

PIE-79208 (IS_10.7_Core_Fix13)
After applying a fix that includes PIE-75533, the pub.client:http service fails 
with NullPointerException. 

This issue is now resolved.

PIE-79219 (IS_10.7_Core_Fix13)
User session data is lost while invoking a REST connector service. 

When you invoke a REST connector service generated from a Swagger 
document, Integration Server creates a new session that does not 
use the data from the current session, resulting in data loss. 

This issue is resolved. Now, Integration Server does not create a new session 
but retains the data from the current session while executing the REST 
connector service.

PIE-79261 (IS_10.7_Core_Fix13)
Integration Server does not log the actual cause for denying an incoming 
payload for SQL injection rule violation. 

The issue is resolved. Now, the log message shows the cause for denying an 
incoming payload for SQL injection rule violation. For example, instead of 
"Possible SQL injection threat for Oracle database.", Integration Server now 
logs "Possible SQL injection threat for Oracle database. The incoming payload 
for the requested URL contains an invalid character."

PIE-79278 (IS_10.7_Core_Fix13)
The "pub.client:ftp" service throws the "Implicit FTPS is not supported" error 
message when an invalid proxy alias is passed in the input, which is incorrect. 

This issue is resolved. Now, the service throws "Could not connect to ftp 
server".

PIE-79408 (IS_10.7_Core_Fix13)
When applying a configuration variables template, Microservices Runtime ignores
the value of the messaging.<connectionAliasName>.default property and instead
sets any alias for which the property is specified as the default alias. 

This issue is now fixed.

PIE-79489 (IS_10.7_Core_Fix13)
After applying a fix that includes PIE-75533, calls to an endpoint may take 
upto 10 seconds longer as the changes due to the fix invoke the 
socket.getInetAddress().getHostName() method. 

This issue is resolved. Now, Integration Server calls the
socket.getRemoteAddress() method instead of the socket.getInetAddress() 
.getHostName() method.

PIE-79512 (IS_10.7_Core_Fix13)
Integration Server generates incorrect service signature for multipart 
content-type in an OpenAPI document.

Creating a REST API Descriptor (RAD) from an OpenAPI document 
that contains multipart content-type with a schema reference 
results in an incorrect service signature for the multipart content-type.

This issue is resolved.

PIE-79765 (IS_10.7_Core_Fix13)
Creating a consumer REST API Descriptor (RAD) from a Swagger document 
generates a connector service that returns an empty response body.

When you create a consumer RAD in Integration Server 
from a Swagger document that has a default response object, Integration
Server does not create a document from the default response object 
schema in the output of the generated connector service. 
Additionally, if you run the connector service, and the output 
has a response code that is not defined as a response object 
in the Swagger document, the response body is empty.

This issue is resolved. Now, Integration Server returns a document 
generated from the default response object schema at runtime.

PIE-80050 (IS_10.7_Core_Fix13)
The "pub.string:substitutePipelineVariables" service does not substitute a 
variable with its value. 

While using the "pub.string:substitutePipelineVariables" service, if the 
'inString' input parameter takes a document array pipeline variable (for 
example, %doc[0]/name%) as the value, the service does not substitute the 
variable with its corresponding value. 

The issue is now resolved.

PIE-73638 (IS_10.7_Core_Fix12)
When the connection between Integration Server and the LDAP server is unstable, 
logging in to Integration Server fails intermittently with the "Unable to open 
a connection to ldap" error. 

The issue is resolved.  Now, the com.sun.jndi.ldap.connect.pool.timeout and 
com.sun.jndi.ldap.read.timeout properties are set while creating the LDAP 
context, which prevents intermittent connection failures. The default value for 
both properties is 30 seconds. Alternatively, a user can set these properties
through the watt.server.ldap.extendedProps server configuration parameter.

PIE-74414 (IS_10.7_Core_Fix12)
When watt.server.http.returnException is set to webMethods and a SOAP request
results in an error, Integration Server throws NullPointerException if the
request did not contain a User-Agent header. 

This issue is now resolved.

PIE-74713 (IS_10.7_Core_Fix13)
Update to the Integration Server Administrator API framework to allow other
Software AG products flexibility regarding the placement of ResourceBundles. 

PIE-74874 (IS_10.7_Core_Fix12)
When Integration Server streams files larger than 50 MB using MTOM/XOP and uses
a web service consumer, the java.lang.OutOfMemoryError heap space error occurs.

This issue is now resolved.

PIE-75822 (IS_10.7_Core_Fix12)
If the Global IP Threat Protection Policy (TPP) denies a request sent
to the configured API through API Gateway external port, the subsequent
requests do not work.

With the TPP configured in API Gateway, when you send a request through
the API Gateway external port, the TPP denies the request if any rule
violations are identified, resulting in the HTTP 403 status code. Any
subsequent request also results in an HTTP 401 status code with the
"Invalid Session ID" message, which is an incorrect behavior.

The issue is due to not cleaning up the session and cookie IDs when
there is a rule violation.

This issue is resolved. Now, subsequent requests are successful.

PIE-76018 (IS_10.7_Core_Fix12)
The OAuth authorization using an external authorization server fails with 
"java.lang.NullPointerException". 

Integration Server throws "java.lang.NullPointerException" for an HTTP
request with a valid token when the server is configured to use an
external OAuth server with a scope that does not define any folder
or services. 

This issue is now resolved.

PIE-76253 (IS_10.7_Core_Fix12)
JVM statistics are missing from the Dashboard in Integration Server
Administrator. 

Depending on the Java version and fix level, some JVM statistics were missing
from the Dashboard because Integration Server did not collect them. 

Integration Server now collects JVM statistics regardless of JVM version and fix
level, preventing missing JVM statistics in the Dashboard. 

PIE-76622 (IS_10.7_Core_Fix12)
Integration Server fails to start after applying IS_10.11_Tanuki_Fix1 and 
creating a new instance. 

After creating the new Integration Server instance, the wrapper-is-license.conf 
file present in the wm-is-osgi-profile.jar is copied to the newly created 
instance. The post-installation steps mentioned in the IS_10.11_Tanuki_Fix1 
readme modifies the wrapper.conf file. The wrapper-is-license.conf file copied 
from the wm-is-osgi-profile.jar does not authorize the use of this modified
version of the wrapper.conf file. Hence, Integration Server throws a License 
Key error. 

The issues is resolved. The updated wrapper-is-license.conf is now moved from 
the wm-is-osgi-profile.jar to <Install_Directory>/IntegrationServer/instances 
and the new instance creation uses this wrapper-is-license.conf file for 
restarting Integration Server. 

PIE-76676 (IS_10.7_Core_Fix12)
Integration Server does not support OAuth token authentication for POP3 email 
ports. 

Integration Server does not support OAuth token authentication for POP3 email 
ports. Therefore, configuring OAuth for a POP3 email port
results in an error message indicating that OAuth is supported 
for IMAP ports only. 

This issue is now resolved.

PIE-76895 (IS_10.7_Core_Fix12)
For HTTP requests that return the 401 response code, the pub.client:http 
service sends another request if a cookie header is used for authentication in 
the HTTP request. 

The issue is resolved now. The watt.net.http401.retryWithoutCookie server 
configuration parameter is introduced. Set the parameter to false to prevent 
the pub.client:http service from sending a duplicate request. The default value 
is true, which retains the old behavior. You do not need to restart Integration 
Server for the changes to take effect.

PIE-77042 (IS_10.7_Core_Fix12)
Debugging an OpenAPI connector service returns an incorrect response.

While executing a connector service generated from an OpenAPI 
document, the service execution sends the REST request to 
the provider and returns the correct response. However, if 
you run the connector service in the debug mode in Designer, 
the service execution does not send the request to the 
REST provider and returns an incorrect response.

This issue is now resolved.

PIE-77076 (IS_10.7_Core_Fix12)
Integration Server returns incorrect output for a mapping service with 
two variables of the same name but different types. 

Consider a flow service with a map step that maps a pipeline input to a variable
of the Document List type. The flow service has another 
variable of the same name but of type Document. In such scenarios, Integration
Server performs an incorrect mapping at runtime, which results in data loss. 

This issue is now resolved.

PIE-77199 (IS_10.7_Core_Fix12)
Saving a flow service returns the Java heap space error. 

Consider a new Document Type created from an XML schema. On  
saving a flow service that has a map step with the Document Type, 
Integration Server returns the Java heap space error. However, the 
issue only occurs if the flow service containing the Document Type 
is created and saved before restarting Integration Server. 

This issue is now resolved.

PIE-77209 (IS_10.7_Core_Fix12)
Integration Server does not start if an unrecognized class is persisted in
eventcfg.bin. 

If an unrecognized class is persisted in eventcfg.bin, Event Manager cannot
deserialize it during initialization. This prevents Integration Server from
starting. 

This is now fixed. When reading the eventcfg.bin, Integration Server logs an
error for each error that it encounters. This allows Integration Server to
proceed with startup. 

PIE-77408 (IS_10.7_Core_Fix12)
The "wm.server.dispatcher:deleteExpiredUUID" service causes 
performance degradation in databases while deleting large data sets.

Integration Server uses wm.server.dispatcher:deleteExpiredUUID to 
remove the expired entries from the WM_IDR_MSG_HST table. 
However, in some databases, wm.server.dispatcher:deleteExpiredUUID degrades the
database performance while deleting large data sets. 

This issue is resolved.
Now, Integration server provides an option to remove the expired 
entries in batches and to configure the batch size. To limit the 
batch size, use the watt.server.trigger.delete.expired.uuid.limit server
configuration parameter. If you set the parameter value to a 
positive integer, Integration Server uses the value to apply a 
batching logic to remove the entries. If you are not providing 
any value, Integration Server retains the old behavior. There is no 
default value for the watt.server.trigger.delete.expired.uuid.limit 
parameter. You do not need to restart Integration Server for 
changes to this parameter to take effect. 

PIE-77819 (IS_10.7_Core_Fix12)
In an Integration Server setup with API Gateway, when NTLM authentication is 
enabled for a native service, Integration Server throws the "Exception during 
NTLM handshake : Socket input is already shutdown" error endlessly if any 
exception occurs during an NTLM handshake. 

The issue is resolved. Now, if there is an NTLM handshake exception, 
Integration Server returns the same exception to the caller.

PIE-78037 (IS_10.7_Core_Fix12)
A dateTime string does not pass validation by pub.schema:validate but should.

All valid lexical representations of the XML Schema data type dateTime should
pass XML validation. However, the pub.schema:validate service incorrectly flags
some lexical representations of dateTime as invalid when milliseconds are
included. Specifically, a dateTime value that includes 24:00:00 as the time
fails validation if the seconds fragment included milliseconds. That is, the
pub.schema:validate service treats a time value of 24:00:00 as valid but treats
24:00:00.000 as invalid. This is incorrect. 

Now, all valid datetime representations that include milliseconds will pass
validation. 

PIE-78132 (IS_10.7_Core_Fix12)
Introspection requests are sent to an external authorization server fail if the
server log facility 10 OAuth level is Debug or a more verbose level. 

When the server log facility 10 OAuth is set to the Debug level or a more
verbose level, OAuth authorization requests sent to the introspection endpoint
on an external authorization server fail. The failure is due to inadvertent
modification of the password value in the request body when logging for the
OAuth facility is set to the Debug level or a more verbose level. 

This issue has been corrected.

PIE-78144 (IS_10.7_Core_Fix12)
The Dashboard in Integration Server Administrator does not display metrics data
when Task Engine's TE@IS is used with the HPSTRA feature. 

An incompatibility between the usage of Elasticsearch by TE@IS and the
Statistics Data Collector in Integration Server prevents the display of metrics
on the Dashboard. This incompatibility can be confirmed as the cause when the
following exception appears in the error log: 

<Timestamp> [ISS.0045.9998E] (<thread ID>) Exception --> Exception getting
Lucene Codec: org/apache/lucene/codecs/lucene50/Lucene50PostingsFormat,  Cause?
org.apache.lucene.codecs.lucene50.Lucene50PostingsFormat 

This message appears only if the 0045 Statistics Data Collector logging facility
writes message at the Error, Fatal, or more verbose levels. 

This issue is resolved via application of this fix and by editing the
custom_wrapper.conf to disable the entire TE@IS, which disables the HPSTRA
feature as well. 

Important! After applying this fix, you must add or update the following
property in the <Software
AG_directory>/profiles/<IS_instance_name>/configuration/custom_wrapper.conf
file: 

wrapper.java.additional.<availableNumber>=-Dtask.library.mode.enable=false

Then, restart Integration Server.

Note: Setting -Dtask.library.mode.enable=false disables the entire TE@IS
functionality and the HPSTRA feature.  The TE@IS and HPSTRA features must be
disabled in order for the Dashboard to display metrics. 

PIE-78255 (IS_10.7_Core_Fix12)
The migrate.cnf migration settings file has an error in the record name.

In the migrate.cnf file, the record name has an underscore, which is incorrect.

<record name="IS_CustomWrapperMigrator" javaclass="com.wm.util.Values">
<value name="isSelected">false</value>
</record>

The issue is resolved. Now, the underscore in the record name is removed.

PIE-78263 (IS_10.7_Core_Fix12)
The Dashboard in Integration Server Administrator does not display metrics data
when Task Engine's TE@IS is used with the HPSTRA feature. 

An incompatibility between the usage of Elasticsearch by TE@IS and the
Statistics Data Collector in Integration Server prevents the display of metrics
on the Dashboard. This incompatibility can be confirmed as the cause when the
following exception appears in the error log: 

<Timestamp> [ISS.0045.9998E] (<thread ID>) Exception --> Exception getting
Lucene Codec: org/apache/lucene/codecs/lucene50/Lucene50PostingsFormat,  Cause?
org.apache.lucene.codecs.lucene50.Lucene50PostingsFormat 

This message appears only if the 0045 Statistics Data Collector logging facility
writes message at the Error, Fatal, or more verbose levels. 

This issue is resolved via application of this fix and by editing the
custom_wrapper.conf to disable the entire TE@IS, which disables the HPSTRA
feature as well. 

Important! After applying this fix, you must add or update the following
property in the <Software
AG_directory>/profiles/<IS_instance_name>/configuration/custom_wrapper.conf
file: 

wrapper.java.additional.<availableNumber>=-Dtask.library.mode.enable=false

Then, restart Integration Server.

Note: Setting -Dtask.library.mode.enable=false disables the entire TE@IS
functionality and the HPSTRA feature.  The TE@IS and HPSTRA features must be
disabled in order for the Dashboard to display metrics. 

PIE-78318 (IS_10.7_Core_Fix12)
When Integration Server starts up, a critical message and an error message about
indexFileDir appear in the console. 

Integration Server writes the following messages to the console during start up:

[ISS.0045.0045C] (tid=###) Failed to create or append index. Details:
'indexFileDir' must be declared before an index may be opened. 

[ISS.0030.0013E] (tid=###) An exception was encountered while processing an
administrative request. See the error log for details: [ISS.0030.0385] Search
request failed. Details: [ISS.0045.0045] Failed to create or append index.
Details: 'indexFileDir' must be declared before an index may be opened. 

These messages occur because the Statistics Data Collector, which gathers and
returns metrics for the Dashboard, has not yet completed startup. 

This issue is now resolved. The error message ISS.0030.0013 will no longer
appear during startup. The Critical level message ISS.0045.0045 is now logged at
the Debug level. 

PIE-78321 (IS_10.7_Core_Fix12)
When strict service caching is in use, Integration Server does not merge the
cached results into the pipeline. 

When strict service caching is enabled
(watt.server.serviceResults.cache.strict=true), Integration Server should merge
the output values cached for the declared output signature into the calling
service pipeline. However, Integration Server does not merge the cached values
into the pipeline and instead returns only the cached values. 

This issue is now fixed.

PIE-78331 (IS_10.7_Core_Fix12)
After changing the pool alias used by the ISDashboardStats function, Integration
Server Administrator exhibits a delay before all of the data on the Services tab
in the Dashboard is updated. 

This issue is now resolved.

PIE-78392 (IS_10.7_Core_Fix12)
Service invoked via com.wm.app.b2b.client.JSONClient fails if
watt.server.http.jsonFormat is set to stream or bytes 

When the server configuration parameter watt.server.http.jsonFormat is set to
stream or bytes, the body of a request sent from
com.wm.app.b2b.client.JSONClient to Integration Server is not parsed into a
pipeline. Invocation of the requested services fails because expected variables
are not present in the input pipeline. 

To resolve this issue, Integration Server adds the "User-agent: webMethods"
header to each request sent from com.wm.app.b2b.client.JSONClient. The header
instructs Integration Server to parse the JSON, regardless of the
watt.server.http.jsonFormat setting. 

PIE-78418 (IS_10.7_Core_Fix12)
The pub.client.ftp:login service throws NullPointerException while using the
FTPS protocol in the implicit mode. 

Implicit FTPS is deprecated and Integration Server does not support the FTPS
protocol in the implicit mode. Hence, the service returns  
NullPointerException. 

The issue is now resolved. The NullPointerException message is now replaced with 
the "Implicit FTPS is not supported." message. 

PIE-78492 (IS_10.7_Core_Fix12)
Installing an Integration Server core fix overwrites the monitor.cnf which
stores the configuration values for the Statistics Data Collector. 

Application of an Integration Server core fix overwrites the following file,
resulting in the loss of customized configuration: 

<Integration_Server>/instances/<instanceName>/config/monitor/monitor.cnf

This issue is now resolved. Applying a core fix does not overwrite the existing
monitor.cnf. 

PIE-78563 (IS_10.7_Core_Fix12)
Integration Server Administrator indicates that CORS-related server
configuration parameters need a restart when the value is changed but they do
not. 

The following server configuration parameters do not need a restart for a new
value to take effect, but Integration Server erroneously indicated that a
restart is required: 

- watt.server.cors.allowedOrigins
- watt.server.cors.enabled
- watt.server.cors.exposedHeaders
- watt.server.cors.maxAge
- watt.server.cors.supportedHeaders
- watt.server.cors.supportedMethods
- watt.server.cors.supportsCredentials
 
This issue is now resolved.

PIE-78669 (IS_10.7_Core_Fix12)
After applying a fix that includes PIE-72661, password retrieval incorrectly 
used global password managers instead of package-level password managers. 

This issue is now fixed.

PIE-78729 (IS_10.7_Core_Fix12)
An attempt to query the Dashboard in Integration Server Administrator before the
Statistics Data Collector completes start up may result in errors. 

If the Dashboard is queried prior to the Statistics Data Collector completing
its startup, the following error messages may appear in the Dashboard: 

- ISAdmin -> updateFunctionalAlias - refreshedFailFastMode on function
ISDashboardStats to false 
- Failed to create or append index. Details: 'indexFileDir' must be declared
before an index may be opened. 

After the Statistics Data Collector completes startup, the messages no longer
appear and the Dashboard is updated as expected. 

In addition to resolution of the above issue, facility 45 Statistics Data
Collector no longer produces Critical level messages because statistics data
collection is not critical to the function of Integration Server. Instead, these
messages are logged at the error level. 

PIE-78746 (IS_10.7_Core_Fix12)
Integration Server incorrectly displays Unicode characters in the 
response to an OpenAPI service request.

For a service request from an OpenAPI client, Integration Server does 
not use the UTF-8 encoding for Unicode characters in the response. 
Hence, the characters are incorrectly displayed.

This issue is now resolved.

PIE-78758 (IS_10.7_Core_Fix12)
When Integration Server writes log messages to the console, the console contains
unexpected log message about the ISDashboardStats function on start up. 

When Integration Server starts up, messages that include the following text
might appear in the console: 

ISAdmin -> updateFunctionalAlias - refreshedFailFastMode on function
ISDashboardStats to false 

These messages appear during start up of the Statistics Data Collector, which
collects metrics for display in the Dashboard of Integration Server
Administrator. 

With this fix, Integration Server no longer writes these messages to the console
at start up. 

PIE-78780 (IS_10.7_Core_Fix12)
Updates to metering service list. 

PIE-71698 (IS_10.7_Core_Fix11)
When CSRF Guard is enabled, the OAuth Approval page returns an error when the
Approve or Deny button is clicked. 

Missing CSRF tokens caused the OAuth Approval page to return an error.

This issue has been corrected.

PIE-74630 (IS_10.7_Core_Fix11)
The info log message, "JDBC Connection pool waiting threads threshold exceeded,
**** threads waiting for connection for pool **:**" is logged during false
positive scenarios. 

This issue is resolved now.

PIE-74746 (IS_10.7_Core_Fix11)
After migrating to an Integration Server to which a fix containing PIE-67747 has
been applied, the password of a cloned live database configured for a JDBC
connection pool alias is incorrect. 
 
When migrating an Integration Server instance, users can choose to use a clone
of the live database for the JDBC connection pool alias associated with a JDBC
functional alias. If two or more JDBC connection pool aliases exist, the
migration utility prompts for the password for one JDBC connection pool alias
but not for any of the other JDBC pool aliases. As a result, the migrate.dat
file prepared by the migration utility does not contain the password for the
JDBC connection pool. The migrated Integration Server instance cannot connect to
all of the databases. 

To resolve this issue, when the user opts to use a clone of the live database
for the JDBC connection pool, the migration utility prompts for the password for
all JDBC connection pool aliases. Furthermore, the migration utility saves the
encoded password in the migrate.dat file by default. 

However, saving the encoded password in the migrate.dat file represents a
security vulnerability. The new server configuration parameter
watt.migrate.hidePassword controls whether an encoded database password for a
JDBC connection pool alias will be saved in migrate.dat. Set
watt.migrate.hidePassword to false in the migrate.bat/sh file on the target
Integration Server for the migration utility to save the encoded database
password. Set to true to omit database passwords for JDBC connection pool
aliases from the migrate.dat file. The default is false. Set the
watt.migrate.hidePassword value on the target Integration Server before running
the migration utility. 

Example of setting watt.migrate.hidePassword in migrate.bat:

%JAVA_EXE% -Dwatt.migrate.hidePassword=true
-Dwatt.migrate.product.dataProvider=com.wm.app.b2b.server.migrate.MigratorAppDataProviderImpl
-Dwatt.installer.migrate.destDir="%IS_DIR%"
-Dcom.webmethods.sc.config.configRoot="%IS_DIR%\config"
-DCDBS.home.path=%DB_DIR% -Djava.library.path="%SSO_DIR%" -ms%JAVA_MIN_MEM%
-mx%JAVA_MAX_MEM% -classpath %CLASSPATH%
com.wm.app.b2b.server.migrate.cmd.IntegrationServerCmdLineToolMigrationDriver %* 

Example of setting watt.migrate.hidePassword in migrate.sh:

$JAVA_RUN $JAVA_D64 -Dwatt.migrate.hidePassword=true
-Dwatt.migrate.product.dataProvider=com.wm.app.b2b.server.migrate.MigratorAppDataProviderImpl
-Dwatt.installer.migrate.destDir=$IS_DIR -Dcom.web 

PIE-74827 (IS_10.7_Core_Fix11)
Execution of wm.server.dispatcher:resubmit ends with NullPointerException.

When an Integration Server does not have a Publish/Subscribe license,
Integration Server throws NullPointerException when the
wm.server.dispatcher:resubmit service executes. NullPointerException may
cause confusion and does not assist with determining the licensing issue is the
cause of the exception. 

Now, Integration Server returns a more helpful error message instead of 
NullPointerException when wm.server.dispatcher:resubmit executes and the
Publish/Subscribe functionality is not licensed. 

PIE-75361 (IS_10.7_Core_Fix11)
Integration Server Administrator allows script injection into DSP pages through 
extended settings, which causes a cross-site scripting vulnerability. 

This issue is now resolved.

PIE-75416 (IS_10.7_Core_Fix11)
Change to Integration Server to address security vulnerability to session
fixation attack. 

When a user accesses the Integration Server login page or an API call (GET
http://hostName:portNumber), a session ID can be viewed in the Cookies section
of the browser or in the postman collection for the API call. Integration Server
uses the same session token after the user authenticates successfully. This
leaves Integration Server vulnerable to a session fixation attack. 

Now, the Cookies section of the browser or in the postman collection for the API
call do not display the session ID details after the initial access to the login
page or the initial GET call, respectively. After Integration Server
successfully authenticates the user, Integration Server uses a new session ID. 

PIE-75754 (IS_10.7_Core_Fix11)
Unable to cancel or kill the system threads in Integration Server Administrator.

On the Integration Server Administrator > Statistics > System threads page, the 
link to cancel or kill a system thread does not work as expected, when CSRF
Guard is enabled. 

This issue is now resolved.

PIE-75844 (IS_10.7_Core_Fix11)
Integration Server fails to set default values for arrays and complex objects.

In an OpenAPI request or response, if data is not provided for
a particular object, Integration Server must use the default
values for objects in the OpenAPI document. However, Integration
Server fails to use the default values for arrays or complex objects.

This issue is now resolved.

PIE-75969 (IS_10.7_Core_Fix11)
Revised descriptions of metrics returned by /metrics endpoint.

The /metrics endpoint returns metrics and descriptions of those metrics. The
following metric descriptions have been revised for clarification purposes: 

sag_is_jvm_threads_blocked_millis
Total number of milliseconds that threads have been in a blocked state

sag_is_jvm_threads_waited_millis
Total number of milliseconds that threads have waited for a lock

PIE-76014 (IS_10.7_Core_Fix11)
Integration Server converts the encoded "+" character into a space character.

Integration Server decodes the special characters in the query parameter of
an OpenAPI request twice, converting the "+" character into a space character.

This issue is now resolved.

PIE-76261 (IS_10.7_Core_Fix11)
Updates to ESAPI (OWASP Enterprise Security API) library included in Integration
Server. 

ESAPI library contained in /common/lib/ext/esapi.jar has been upgraded to
version 2.4.0.0 and a properties file has been added to ensure compatibility
with Integration Server when it is upgraded to a higher version. The previous
version of the ESAPI library was version 2.1.01. 

Upgrading to 2.4.0.0 resolves the following security vulnerabilities:

- CVE-2022-28366
- CVE-2022-29577
- CVE-2022-23437
- CVE-2020-14338
- CVE-2020-13956

PIE-76384 (IS_10.7_Core_Fix11)
When using Integration Sever on AIX, after applying a fix that includes
PIE-72571, Integration Server logs the error
"java.lang.UnsupportedOperationException: The method shutdownOutput() is not
supported". 

This issue is now resolved. Integration Server no longer uses the shutdownOutput
method that caused the issue. 

PIE-76519 (IS_10.7_Core_Fix11)
Integration Server incorrectly handles REST requests or responses for 
media types that do not have a registered content handler in Integration Server.

Consider a media type mapped to application/json or
application/xml using the watt.server.content.type.mappings
server configuration parameter. For example,
"watt.server.content.type.mappings=application/problem+json application/json".
When the REST request to Integration Server uses the media type
mapped using the server configuration parameter, the REST request
does not honor the server configuration parameter setting and does not 
decode or encode the data according to the mapped media type.

This issue is resolved. Now, the watt.server.content.type.mappings 
server configuration parameter is honored while processing REST 
requests and responses. 

PIE-76561 (IS_10.7_Core_Fix11)
In Integration Server, a scheduler that checks for invalid tasks throws 
ConcurrentModificationException.

This issue is now resolved.

PIE-76635 (IS_10.7_Core_Fix11)
Creating a webMethods messaging connection alias via application of a
configuration variables template fails if the template does not specify a type
for the alias. 

A webMethods messaging connection alias is used to connect to Broker or
Universal Messaging. Attempting to create a messaging connection alias at
startup through application of a configuration variables template fails if the
templates does not specify the type property for the alias, specifically
messaging.<connectionAliasName>.type with possible values of UM or Broker. 

Now, the messaging.<connectionAliasName>.type property has a default value of
UM. If the messaging.<connectionAliasName>.type property is missing for a
messaging connection alias defined in a configuration variables template, the
alias can still be created when the template is applied. 

PIE-76674 (IS_10.7_Core_Fix11)
Integration Server does not preserve the spaces in the string array values of 
REST requests. 

Consider that a Swagger document is imported as a REST provider and the 
document has a variable defined as a string array. If a REST request contains 
leading or trailing spaces for the values in the string array, Integration 
Server trims such spaces before passing the values to the target service.

This issue is now resolved.

PIE-76682 (IS_10.7_Core_Fix11)
The Integration Server instance creation script (is_instance.bat|sh) updates 
only database aliases associated with the ISInternal functional alias. 

The issue is resolved now. 

PIE-76689 (IS_10.7_Core_Fix11)
Microservices Runtime does not apply user updates from the configuration
variables template. 

If a configuration variables template (application.properties) includes more
than one user account update and some of the property values did not change any
configured value in Microservices Runtime, then Microservices Runtime ignored
all user updates.

This issue is now resolved.

PIE-76724 (IS_10.7_Core_Fix11)
Configuration variables log does not contain useful information for incorrect
key names and unresolved environment variables. 

If a configuration variables template (application.properties file) contains
incorrect key names, Microservices Runtime writes an exception to the
configuration variables log during template processing instead of an informative
message. 

The configuration variables log will now include informative messages for an
incorrect property key. Additionally, this fix addresses an issue in which an
unresolved environment variable prevented an asset from being created. 

PIE-76802 (IS_10.7_Core_Fix11)
Integration Server sends a Set-Cookie header in the response to a request for a
stateless service or a service on a stateless port when the "Expect: 100-
Continue" header is present in the request.

This issue is now resolved.

PIE-76829 (IS_10.7_Core_Fix11)
Integration Server does not restart the JMS triggers that fail during
the trigger registration process.

Integration Server does not attempt to restart the triggers that fail 
during the trigger registration process. The failed triggers remain 
disabled unless enabled manually.

This issue is resolved. Now, Integration Server restarts the 
failed triggers that fail during the trigger registration process unless 
the failure is due to configuration issues.

PIE-76831 (IS_10.7_Core_Fix11)
Integration Server fails to create a JSON document based on a JSON schema 
containing interdependent references.

Integration Server fails to create a JSON document based on a JSON schema 
containing interdependent references. For example, in the following JSON schema: 
parent -> child1 -> object
parent-> child2 -> object
Integration Server incorrectly identifies the schema as a cyclic reference
schema and fails to create a JSON document resulting in the exception:
Could not create a JSON document type: Definition of references could not be 
found for: #/definitions/child1,#/definitions/child2,#/definitions/object

This issue is now resolved.

PIE-76893 (IS_10.7_Core_Fix11)
The Content-Length header in the HTTP response is not correct.

Layered products, such as Trading Networks and Adapters, that run on Integration
Server may explicitly set the Content-Length header based on an expected
response. In these situations, downstream use of the pub.flow:setResponse and
pub.flow:setResponse2 services results in an incorrect Content-Length header
value being set in the HTTP response. 

To resolve this issue, the pub.flow:setResponse and pub.flow:setResponse2
services clear any previously set Content-Length header and calculate the
Content-Length header value using the newly set response content. 

PIE-76910 (IS_10.7_Core_Fix11)
Under heavy load, server processing that relies on the
java.lang.invoke.MethodHandles class degrades resulting in high CPU usage and
OutOfMemoryExceptions. 

The resolution for PIE-75613 replaced the use of java.lang.invoke.MethodHandles
when decoding XML. Other areas of server processing that used
java.lang.invoke.MethodHandles were exhibiting similar symptoms as the XML
decoding. 

The use of java.lang.invoke.MethodHandles has been replaced in the additional
areas of server processing. 

PIE-76969 (IS_10.7_Core_Fix11)
When configuration variable templates are generated via using Microservices >
Generate Configuration Variables Template or Microservices > Get Active
Configuration Variables Template, Microservices Runtime places the resolved
values for the Kubernetes secret in the template instead of the Kubernetes
variable itself. 

This issue is now resolved. Microservices Runtime places the Kubernetes variable
itself in the configuration variables template (i.e., $secret[secretName]. In
addition, Microservices Runtime no longer resolves an environment variable in
the template. Instead, the template displays the environment variable name (i.e.
$env[environmentVariableName]. 

PIE-77033 (IS_10.7_Core_Fix11)
When CSRF Guard is in use, the Microservices > Configuration variables page
cannot be used to generate a new configuration variables template or obtain the
active, applied template. 

This issue is now resolved.

PIE-77044 (IS_10.7_Core_Fix11)
Updates to metering to exclude services in WmB2BObjectStore package. 

PIE-77087 (IS_10.7_Core_Fix11)
A service for which service caching is enabled executes multiple times when it
is invoked concurrently. 

When a service for which caching is enabled is invoked by multiple threads
concurrently and there are no service results in cache due to a missing cache
record or expired results, Integration Server executes the service multiple
times. This is unnecessary overhead. 

Now, when a cached service for which no cached results are available is invoked
multiple times concurrently, only the first thread executes the service while
the other threads wait. After the first thread completes execution and update
the cache, other threads read the service results from cache. 

PIE-77255 (IS_10.7_Core_Fix11)
Deployer overwrites ACLs assigned by a startup service.

The fixes for issues PIE-67094 and PIE-72539 introduced conflicting requirements
for package load sequence, specifically manual loading requirements conflicted
with package deployment requirements. This conflict was resolved for new package
deployments but not for package redeployments. 

The package loading sequence now works as expected for manual package loading
and package deployment and redeployment. For deployments and redeployments,
Integration Server first applies ACLs contained within the deployable package
and then runs the startup services in the package. 

PIE-77272 (IS_10.7_Core_Fix11)
Enhancement to service caching in Integration Server to cache and return the
declared signature only. 

Previously, when service caching was enabled for a service, Integration Server
caches values for the defined service signature and the entire output pipeline.
When Integration Server uses cached results, Integration Server returns the
entire cached output pipeline from the previous service invocation. The pipeline
includes the output fields explicitly defined in the cached service, as well as
any output fields produced by earlier services in the flow. This may result in
cached pipeline values overwriting the value of fields that are not declared in
the service output signature. Caching the entire output pipeline may consume
large amounts of memory and disk space. 

Integration Server now includes strict service caching in which Integration
Server caches and returns values for the parameters defined in the service
signature only. Whether Integration Server performs strict service caching is
determined by the value of the server configuration parameter
watt.server.serviceResults.cache.strict. Strict service caching is enabled when
watt.server.serviceResults.cache.strict is set to true. The previous caching
behavior in which the entire output pipeline is cached and returned is used when
watt.server.serviceResults.cache.strict is set to false. The behavior set by the
watt.server.serviceResults.cache.strict parameter applies to all services for
which results caching is enabled. 

watt.server.serviceResults.cache.strict

Specifies whether Integration Server caches and returns values for the
parameters defined in the service signature only or if the entire output
pipeline is cached and returned as well. Set to true for Integration Server to
cache and return values for parameters in the service signature only. This may
be referred to as strict service caching. Set to false for Integration Server to
cache and return values for parameters in the service signature and the entire
output pipeline. Caching the entire output pipeline may consume large amounts of
memory and disk space. Additionally, returning the cached output pipeline may
result in overwriting the value of fields that are not declared in the service
output signature. The default value is false. 

Integration Server does not need to be restarted for changes to this parameter
take effect. 

PIE-77583 (IS_10.7_Core_Fix11)
Integration Server considers ";" as an invalid character in the
username;password combination on the "Add and remove users" page.

Despite entering the username and password in the expected 'username;password'
format in the "User Names" field, on the "Add and remove users" page, 
Integration Server treats ";" as an invalid character.

The issue is resolved now.

PIE-77698 (IS_10.7_Core_Fix11)
Editing an email listener configured with OAuth creates multiple system 
tasks.

This issue is resolved now. Editing an email listener configured with 
OAuth does not create multiple system tasks. Instead, Integration Server 
creates a system task only when the email listener is enabled and deletes the
task when the listener is disabled. 

PIE-77728 (IS_10.7_Core_Fix11)
File handles remain open even after the pub.io:streamToString service execution
completes. 

When you provide a file stream to inputStream of the pub.io:streamToString
service in a flow service, and run the flow service, file handles remain open
even after the flow service completes execution, leading to file leaks.

This issue is now resolved.

PIE-78012 (IS_10.7_Core_Fix11)
The temporary zip file created by the diagnostics utility is not deleted
automatically after it is downloaded. 

When the diagnostic utility executes, the utility generates a temporary archive
(zip file) in the directory Integration Server_directory
\instances\<instance_name>\logs and then downloads the file. The temporary
archive is not deleted after it is downloaded. Each time the diagnostic utility
runs, it generates a new diagnostic archive. Leaving the temporary archives
could exhaust disk space. 

Now, after the diagnostic utility creates and downloads diagnostic archive, the
utility deletes the temporary archive from Integration Server_directory
\instances\<instance_name>\logs directory. 

PIE-78148 (IS_10.7_Core_Fix11)
Server processing degrades under a heavy load of web service calls.

When decoding XML, Integration Server uses java.lang.invoke.MethodHandles, which
typically provides better performance of XML decoding that 
relies on the java.lang.invoke.MethodHandles. However, under heavy web
services load, the java.lang.reflect is this right may provide better
performance than java.lang.invoke.MethodHandles. 
 
To address this issue, Integration Server provides a server configuration
parameter that can be used to specify whether java.lang.invoke.MethodHandles or
java.lang.reflect is used for XML decoding. 

watt.server.xmlcoder.useMethodHandles
Specifies whether Integration Server uses java.lang.invoke.MethodHandles or
java.lang.reflect for xml decoding. Set to true to use
java.lang.invoke.MethodHandles. Set to false to use java.lang.reflect. The
default value is true. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-71475 (IS_10.7_Core_Fix10)
The server logger for Microservices Runtime logs information messages of the
Maverick SFTP client library. 

By default, the logging level for server logger in Microservices Runtime is
Info. However, information messages of the third-party Maverick SFTP client
library are also logged in the server logs. This issue does not occur when the
logging level is set to Warn. 

This issue is now resolved.

PIE-73273 (IS_10.7_Core_Fix10)
An email port with the OAuth-based authentication is disabled after restarting 
Integration Server. 

The issue is now resolved. Additionally, a detailed error message is logged in 
server.log for any exception while getting the access token.

PIE-73672 (IS_10.7_Core_Fix10)
Integration Server sends a delayed response to a client during an 
SSL connection. 

Integration Server does an additional DNS lookup during an SSL connection with 
a client, even though the client's IP address is in the "Allow" or the "Deny" 
list of the port, which delays the response from Integration Server to the 
client, causing the connection to time out. 

This issue is now resolved.

PIE-74175 (IS_10.7_Core_Fix10)
Integration Server returns an empty response body for REST requests. 

In older implementations, Integration Server returns the response body for 
REST requests even if the targeted service returns undefined data. However, 
Integration Server now returns a response with a populated response body
only if the response body is defined in the imported Swagger document.
As a result, REST clients receive an empty response body if the
targeted service returns undefined data. 

This issue is now resolved by introducing a workaround using 
the watt.server.rest.honorLegacyStructure server configuration parameter.
By default, the parameter is set to 'false', which disables the workaround.
Set the value to 'true' to enable the workaround. This workaround supports
older implementations that rely on returning undefined data in the
response and applies to REST API Descriptors (RAD) created or refreshed
earlier to this fix. You do not need to restart Integration Server for the
changes to take effect.

PIE-74368 (IS_10.7_Core_Fix10)
Integration Server does not honor the value of
watt.server.jndi.searchresult.pageSize when it is set to 0. 

When the watt.server.jndi.searchresult.pageSize server configuration parameter
is set to 0, Integration Server should retrieve all user groups from the LDAP
servers at once. That is, the LDAP search result should have paging disabled.
However, paging is not disabled. 

This issue is now resolved.

PIE-74917 (IS_10.7_Core_Fix10)
The pub.mime:getEnvelopeStream service execution fails with
"java.util.NoSuchElementException: No more headers".

The pub.mime:getEnvelopeStream service execution fails with the
error if the size of the mimeData input parameter exceeds
26214400 bytes (26 MB), the default value of the 
watt.server.mime.largeDataThreshold server configuration parameter.

This issue is now resolved.

PIE-75130 (IS_10.7_Core_Fix10)
A REST connector service execution throws the "com.wm.app.b2b.server.
ServiceException: java.lang.ClassCastException: [Ljava.lang.Object; cannot
be cast to [Lcom.wm.data.IData;" exception. 

During the REST connector service execution, if the server response is
an empty JSON array, then Integration Server throws ClassCastException.

This issue is now resolved. 

PIE-75391 (IS_10.7_Core_Fix10)
Ability to restrict the number of concurrent searches for the Dashboard to
improve Integration Server performance. 

Integration Server executes searches against statistics stored in an Apache
Lucene repository to populate the Dashboard in the new Integration Server
Administrator. Too many concurrent searches may degrade Integration Server
performance. Use the searcherThreadCount parameter in the monitor.cnf to limit
the number of concurrent search requests. Setting searcherThreadCount to 2 (the
default) may offer improved performance. The monitor.cnf file is located in one
of the following locations: 

For Integration Server:
Integration Server_directory/instances/instanceName/config/monitor/

For Microservices Runtime
Integration Server_directory/config/monitor/

PIE-75533 (IS_10.7_Core_Fix10)
The "pub.client:http" service does not honor the "timeout" value specified
in the input. 

"pub.client:http" reads and copies the response payload as bytes when the 
"loadAs" parameter is set to bytes. If a socket timeout exception occurs while
reading and copying the response due to the timeout value specified in the
input, the service does not throw an exception. 

The issue is resolved now.

PIE-75613 (IS_10.7_Core_Fix10)
Under heavy load, server processing that relies on the
java.lang.invoke.MethodHandles class degrades resulting in high CPU usage and
OutOfMemoryExceptions 

Integration Server can encode an Object as XML and decode the XML, if properly
encoded, back into an Object. The process of decoding XML uses the
java.lang.invoke.MethodHandles class during the creation of object instances.
Under heavy loads, the performance of the MethodHandles.lookup() method
degrades. This can create a bottleneck in the server's processing, eventually
leading to high CPU usage and OutOfMemoryExceptions. 

This has been resolved. The use of MethodHandles has been replaced.

PIE-75687 (IS_10.7_Core_Fix10)
Integration Server Administrator displays erroneous warning stating a restart is
needed after changes to LDAP configuration. 

Updates to LDAP configuration do not require a restart of Integration Server to
take effect. However, Integration Server Administrator displays a message
stating restart is required. 

This issue is now resolved.

PIE-75856 (IS_10.7_Core_Fix10)
Integration Server now validates the watt.server.compile value to address remote
code execution vulnerability. 

The watt.server.compile value specifies the compiler command that Integration
Server uses to compile Java services that are 
developed using Designer. The compiler command is also used by the jcode
utility. However, Integration Server does not validate the value of this
parameter to ensure that it is a compiler command. The lack of validation leaves
Integration Server vulnerable to a remote code execution attack. 

Now, when the watt.sever.compile value is changed, Integration Server saves the
change only if the path ends with javac.exe or javac. If the new value does not
end with javac.exe of javaca, Integration Server displays the error message "The
value for watt.server.compile is not valid" and does not save the change. 

PIE-75859 (IS_10.7_Core_Fix10)
In Integration Server 10.3 and later, REST APIs with the restv2 directive are 
slow.

In Integration Server, the execution of REST APIs with the restv2 directive
are slow as the server searches for the RAD associated with the resource.

This issue is now resolved.

PIE-76153 (IS_10.7_Core_Fix10)
Creating a consumer REST API Descriptor (RAD) using
an OpenAPI document results in StackOverflowError.

If an OpenAPI document contains a composed schema with additional properties,
creating a consumer RAD using that OpenAPI document results in
StackOverflowError. 

This issue is now resolved.

PIE-76185 (IS_10.7_Core_Fix10)
In Designer, if you save a flow service with recursive document types, 
Integration Server returns StackOverflowError.

This issue is now resolved.

PIE-76220 (IS_10.7_Core_Fix10)
When processing a configuration variables template, Microservices Runtime (or an
Integration Server with a Microservices license) did not always obfuscate
password values. 

This is now fixed.

PIE-76308 (IS_10.7_Core_Fix10)
In Designer, if you add a document list to the pipeline of a flow step, the 
document list changes to a string after saving the flow service. 

This issue is now resolved. 

Note: If Integration Server and Designer are installed in different
directories, run Update Manager to install the Integration Server client fix in
the directory where Designer is installed.

PIE-76380 (IS_10.7_Core_Fix10)
"pub.client.sftp:get" throws an incorrect error message if the local download 
directory does not exist. 

This issue is now resolved. Integration Server now displays "Error while
executing command 'get': local target folder does not exist : <localFolderPath>"

PIE-76478 (IS_10.7_Core_Fix10)
Microservices Runtime attempts to create a JDBC configuration file for a new
JDBC function in the configuration variables template (application.properties
file) but should not. 

When applying a configuration variables template, Microservices Runtime (or an
Integration Server with a Microservices license) attempts to create a JDBC
configuration file if the template lists a JDBC function that does not exist.
However, JDBC functions cannot be created via a configuration variables
template. 

Now, Microservices Runtime no longer attempts to create a JDBC configuration
file when applying a configuration variables template. 

PIE-70461 (IS_10.7_Core_Fix9)
In Integration Server, unbounded XML reference entities cause
java.lang.OutOfMemoryError.

In Integration Server, the potential XML Bomb threat with nested 
reference XML entities causes OutOfMemoryError.

This issue is now resolved by introducing the
"watt.core.xml.GeneralEntitiesExpansionLimit" server configuration
parameter that limits the number of allowed reference entities.
The default value is 100.
You do not need to restart Integration Server for changes to this
parameter to take effect.

PIE-72767 (IS_10.7_Core_Fix9)
In Integration Server, invoking pub.flow:getLastError repeatedly in a flow 
service increases the pipeline size leading to "out of memory" issues when the 
exceptions are high.

In Integration Server, invoking pub.flow:getLastError repeatedly in a flow 
service increases the pipeline size as the pipeline/lastError document has the 
lastError of all previous pub.flow:getLastError executions, which leads to 
"out of memory" issues when the exceptions are high.

This issue is now resolved by introducing the
"watt.server.getLastError.removeLastError" server configuration parameter. If 
this parameter is set to "true", Integration Server removes the 
pipeline/lastError document from the output of the last invocation of the 
pub.flow:getLastError service. If set to "false" or not set, the 
pipeline/lastError document is retained. The parameter does not have a 
default value.

Integration Server restart is not required for the changes to take effect.

PIE-72834 (IS_10.7_Core_Fix9)
The REST connector service fails with an error when the query parameter
value contains special characters. 

Integration Server does not encode the special characters in the
query parameters. Therefore, if the REST connector service contains
a query parameter with special characters in the input, the
service execution fails with an error. 

This issue is resolved. Now, Integration Server encodes the special
characters in the query parameters.

PIE-72892 (IS_10.7_Core_Fix9)
Integration Server considers PSFT_E1_Adapter as a custom package
while migrating from 9.12 to 10.7.

This issue is resolved. Now, Integration Server considers the
PSFT_E1_Adapter package folder as a WmPublic package folder.

Note: Now, Integration Server also considers the following package folders as
WmPublic package folders:
1. X400
2. X400forTN

PIE-73894 (IS_10.7_Core_Fix9)
Integration Server does not serve files for file download requests from a REST
client. 

Integration Server returns a blank response to file download requests from a 
REST client to a service provider. 

This issue is now resolved. Integration Server now supports file downloads as
both consumer and provider. 

PIE-73968 (IS_10.7_Core_Fix9)
Integration Server fails to authenticate a user when a username is in the 
domain\user format. 

If Integration Server uses central user authentication and the username is in 
the domain\user format, the authentication fails. This issue is seen after 
Integration Server is updated to support domain-based login for users in Active
Directory for API Gateway Cloud. 

This issue is now resolved.

PIE-74108 (IS_10.7_Core_Fix9)
Integration Server does not search all of the LDAP servers to determine the LDAP
group for a user. 

When searching for the LDAP groups to which a user belongs, Integration Server
searches only the first LDAP server at the top of the priority list under User
Management > Settings > LDAP Directory. However, Integration Server should
search all LDAP servers. 

This issue is now resolved.

PIE-74331 (IS_10.7_Core_Fix9)
Integration Server now prohibits the use of carriage return/line feed (CRLF)
characters in a request URL. 

To eliminate the risk of CRLF injection to the server log via an HTTP request,
Integration Server now filters the request URL for the presence of the CRLF
characters, specifically the character sequences "%0D%0A" or "%0A%0D" in any
case combination If request contains the character sequence, Integration Server
returns a HTTP 404 status code with the error message "URL not found. CRLF
characters are not permitted in a URL." Integration Server does not process the
request. 

Integration Server includes a server configuration parameter to control whether
Integration Server filters HTTP request URLs for the CRLF characters. A full
description of the parameter follows: 

watt.server.http.url.forbidCRLF
Specifies whether Integration Server prohibits the carriage return/line feed
(CRLF) characters, specifically the character sequences "%0D%0A" or "%0A%0D" in
any case combination, in the URL for an inbound HTTP request. When set to true,
Integration Server filters inbound HTTP request URLs for the character sequence
"%0D%0A" or "%0A%0D" in any case combination. If the request contains the
character sequence, Integration Server returns a HTTP 404 status code with the
error message "URL not found. CRLF characters are not permitted in a URL."
Filtering and forbidding CRLF characters in the HTTP request URL can eliminate
the CRLF injection to the server log via an HTTP request. When set to false,
Integration Server does not filter HTTP request URLs for the character sequence
"%0D%0A" or "%0A%0D" in any case combination before processing the request. The
default is true, which is more secure. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-74409 (IS_10.7_Core_Fix9)
Integration Server does not map a REST API request payload to the
corresponding service input signature generated from a Swagger 
document containing empty definitions.

This issue is now resolved.

PIE-74570 (IS_10.7_Core_Fix9)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs. 

PIE-74698 (IS_10.7_Core_Fix9)
Statistics data collection may cause delays in service execution.

In some circumstances, statistics data collection can cause delays in service
execution, including delays retrieving cached service results. Specifically, if
Integration Server experiences a delay in obtaining a JDBC connection and
inserting metrics data into the database, the delay can temporarily block
executing services. 

To resolve this issue, Integration Server now uses a new event queue to process
metrics data separately. 

In addition, Integration Server no longer collects statistics for inbound
requests that do not resolve to an IS service. This reduces the volume of data
stored in the database. 

PIE-74752 (IS_10.7_Core_Fix9)
Integration Server does not provide an option to set the request timeout for 
executing a REST connector service.

This issue is resolved. Now, if you create or refresh a consumer RestAPI
Descriptor (RAD), the generated connector service signature contains a
"timeout" parameter in the input. At runtime, Integration Server considers
the value of the "timeout" parameter as the timeout value for the request.
For the existing connector services, if the pipeline contains a "timeout" 
parameter, the value of the parameter is honored as the request timeout.

PIE-74767 (IS_10.7_Core_Fix9)
After installing IS_10.7_Core_Fix6, the Dashboard in the new Integration Server
Administrator contains no data. 

After installing IS_10.7_Core_Fix6 on top of Integration Server 10.7 GA, the
restart parameter is missing from
\IntegrationServer\instances\<instanceName>\config\monitor\monitor.cnf. The
server log contains the "Missing variable restartHours in monitor.cnf
file." error.

This issue is now resolved.

PIE-74867 (IS_10.7_Core_Fix9)
Frequent reconfiguration of Log4j2 may cause a memory leak in Integration
Server. 

Integration Server versions 10.5 and higher use Log4j2. When the Log4j2
configuration gets changed by any component, Integration Server loses its own
Log4j2 configuration. To recover its configuration, Integration Server monitors
the Log4j2 configuration changes and logs the following message to wrapper.log
and server.log: Integration Server detected loss of its Log4j configuration.
Integration Server is restoring its Log4j configuration. However, when
reconfiguring its logging configuration, Integration Server leaves behind the
previously used Log4j2 appenders. Over a period of time, this could cause a heap
exhaustion issue. 

This issue is resolved. Now, when Integration Server reconfigures its logging
configuration, Integration Server discards the older Log4j2 appenders properly. 

PIE-74923 (IS_10.7_Core_Fix9)
Integration Server has a performance degradation issue. 

Integration Server is unresponsive under heavy load leading to performance 
issues when retrieving system attributes related to the server environment. 

This issue is resolved. Now, Integration Server caches the system attributes 
for better performance.

PIE-74962 (IS_10.7_Core_Fix9)
Statistics data collection may cause delays in service execution.

In some circumstances, statistics data collection can cause delays in service
execution, including delays retrieving cached service results. Specifically, if
Integration Server experiences a delay in obtaining a JDBC connection and
inserting metrics data into the database, the delay can temporarily block
executing services. 

To resolve this issue, Integration Server now uses a new event queue to process
metrics data separately. 

In addition, Integration Server no longer collects statistics for inbound
requests that do not resolve to an IS service. This reduces the volume of data
stored in the database. 

PIE-75444 (IS_10.7_Core_Fix9)
During start up, Integration Server writes the AdminAPIException "Cannot
initialize the administrative API for Adapter Runtime" to the server log even
though the WmART package is not present. 

If the WmART package is not present, Integration Server writes the erroneous
error "Cannot initialize the administrative API for Adapter Runtime" to the
sever log during the startup sequence. 

This issue is now resolved.

PIE-75546 (IS_10.7_Core_Fix9)
Integration Server throws NoClassDefFoundError when copy strategy is used for
Ehcache configuration file. 

If a custom class is created for the copy strategy of Ehcache configuration,
Integration Server logs the following exception when starting Ehcache: 

net.sf.ehcache.CacheException: java.lang.NoClassDefFoundError:
net/sf/ehcache/store/compound/ReadWriteCopyStrategy 

This issue is now resolved.

PIE-75656 (IS_10.7_Core_Fix9)
Integration Server now includes information about the Log4j version that is in
use in the server log and in diagnostic data. 

During start up, Integration Server writes a message to the server log
identifying the Log4j version in use by Integration Server. For example: 

[ISS.0025.0076I] (tid=83) Log4j Version: 2.17.1

This message is written when the facility 0025 Server Initialization is set to
Info or a more verbose level. 

Additionally, when generating diagnostic data, Integration Server includes the
Log4j version in the ServerAbout.txt file. 

PIE-75691 (IS_10.7_Core_Fix9)
Integration Server logs a Trace level message as an exception during startup.

During startup, Integration Server reports the following exception message in
the server log: 

Exception Loading impl (org.apache.lucene.codecs.lucene87.Lucene87Codec) for
service (org.apache.lucene.codecs.Codec) via java.net.URLClassLoader@xxxx:
org.apache.lucene.codecs.lucene87.Lucene87Codec. 

This message is incorrectly logged as an exception. The message is logged for
diagnostic purposes and should be logged at the Trace level. 

This issue is resolved. The above message is written to the server log only when
the facility 0045 Statistics (Data Collector) is set to the Trace level. 

PIE-75746 (IS_10.7_Core_Fix9)
The changes made for PIE-73733 were not installed with the fix.

PIE-73733 updates the Apache Lucene libraries to remediate security vulnerabilities. 
However, a fix installation issue prevented the new libraries from being installed.

This issue is now fixed. The libraries included with PIE-73733 will now be installed.

Note: If you uninstall a fix that includes PIE-73733, you must manually delete
files from the repository prior to starting Integration Server.
See Section 9.0 Uninstallation for more information.

PIE-69312 (IS_10.7_Core_Fix8)
Integration Server does not retain client sessions while invoking stateless
services from a Dynamic Server Page (DSP), which leads to repeated requests for
user credentials.

This issue is now resolved.

PIE-70913 (IS_10.7_Core_Fix8)
Improved handling of user sessions in Integration Server.

After applying a fix or installing a release that includes PIE-62998,
Integration Server allows a local user to have the same name as a user in an
attached user directory (i.e., LDAP or Central User Management). However, when
resuming a session for the user defined in LDAP or Central Users, Integration
Server could resume the session for the local user instead. This is a security
vulnerability as the local user would be impersonating the user in LDAP or
Central Users. 

Additionally, when deleting or disabling a local user, Integration Server does
not immediately invalidate a session for the user if one exists. Instead, the
local user can continue using Integration Server until the session expires. This
is also a security vulnerability. 

To resolve these issues, Integration Server now tracks the source of the user
(i.e., local, LDAP, or Central Users) throughout the life of the user's
session. This ensures that Integration Server reuses cached authentication only
for a user that has been authenticated for that session. Additionally, when
deleting or disabling a local user, Integration Serve removes any existing
session for the user immediately and removes any cached authentication for the
user. 

PIE-71676 (IS_10.7_Core_Fix8)
Client certificates updated from one Integration Server in a cluster do not
reflect on another Integration Server in the cluster until that Integration
Server restarts.

This issue is now resolved.

PIE-71893 (IS_10.7_Core_Fix8)
Designer throws NullPointerException for updating a document type in a service.

In Designer, if a package contains a Dynamic Server Page (DSP) that invokes
a service, the DSP acts as a dependent element for the service. However, 
updating a document type in the service throws NullPointerException as the DSP 
is not a node.

This issue is now resolved.

PIE-72514 (IS_10.7_Core_Fix8)
During repository-based deployment, Integration Server reloads packages
repeatedly. 

Integration Server reloads packages repeatedly during repository-based
deployment. A previous attempt to fix the issue PIE-66922 did not fully resolve
the issue and created another issue where some dependent packages did not reload
at all. Fixes that include PIE-70265 rolled back the changes made in PIE-66922.
As a result, Integration Server once again reloaded packages over and over again
during repository-based deployment. 

Now, the above issues have been addressed. Integration Server reloads dependent
packages only once during repository-based deployment. 

PIE-72923 (IS_10.7_Core_Fix8)
Integration Server returns "400 Bad Request" for "GET" REST API requests with a
body. 

Integration Server expects "GET" REST API requests without a body. However, when
a GET REST API request has a body, Integration Server cannot process the request
and responds with "400 Bad Request". 

This issue is now resolved.

PIE-72963 (IS_10.7_Core_Fix8)
Integration Server acting as an OAuth resource server does not include client_id
and client_secret in the introspection request to an external authorization
server. 

When Integration Server is acting as an OAuth resource server, it sends a token
introspection request to the OAuth authorization server. If Integration Server
uses a digital certificate to authenticate with an external authorization
server, the client_id and client_secret are not included in the introspection
request. 

This has been resolved. The client_id and client_secret are always included in
introspection requests sent to external authorization servers. 

PIE-73010 (IS_10.7_Core_Fix8)
Repository-based package deployments reset the configurations in the
"aclmap_sm.cnf" file to "Default" on the target Integration Server.

This issue is now resolved.

PIE-73087 (IS_10.7_Core_Fix8)
The webMethods Cloud > Tenant Connections pages for creating and editing tenant
connections is vulnerable to a cross-site scripting (XSS) attack. 

This issue has been resolved.

Important! To fully resolve this issue, you must apply both the Integration
Server Core fix and the WmCloud fix that include PIE-73087. 

PIE-73353 (IS_10.7_Core_Fix8)
In Integration Server, scheduler logs contain the "Could not complete last run
at node" error for a few tasks.

In Integration Server, even though the scheduled tasks run as expected,
scheduler logs contain the "Could not complete last run at node" error for a
few tasks due to a thread timing issue.

This issue is now resolved.

PIE-73362 (IS_10.7_Core_Fix8)
In Integration Server, the "pub.client:restClient" service returns an 
incorrect response for a REST API request that includes a character set
in the Accept header.

This issue is now resolved.

PIE-73448 (IS_10.7_Core_Fix8)
Integration Server throws "java.lang.NullPointerException: null" for service
validation after repository deployment.

After deploying a Java service that does not have any input or output
signature but has the "Validate input" or "Validate output" option checked,
running the service after the repository deployment returns the exception.

This issue is now resolved.

PIE-73620 (IS_10.7_Core_Fix8)
Integration Server throws the "String index out of range" exception
while invoking an API with a "*" character.

In Integration Server, if you configure the SQL injection protection
rule for Enterprise Gateway and invoke an API with a "*" character at
the end of the query string parameter, Integration Server throws the exception. 
For example, http://localhost:1233/invoke/pub.flow:debugLog?message=hi*

This issue is now resolved.

PIE-73712 (IS_10.7_Core_Fix8)
Repository-based deployment for file polling ports does not include the File
Name Filter value. 

This issue is now resolved. A substitution value named fileNameFilter can now be
set as part of deploying a file polling port. 

PIE-73805 (IS_10.7_Core_Fix8)
Integration Server does not retain the log files based on the
watt.server.serverlogFilesToKeep parameter.

When the log file location changes through the watt.debug.logfile
parameter, Integration Server does not retain the files based on the value
configured for the watt.server.serverlogFilesToKeep parameter.

This issue is resolved now.

PIE-73948 (IS_10.7_Core_Fix8)
Microservices Runtime now includes a configuration variables parameter for
setting the default messaging connection alias. 

The application.properties file can now specify the default messaging connection
alias. The key name is: 

messaging.<connectionAliasName>.default=true

Where <connectionAliasName> is the name of the messaging connection alias.

PIE-73980 (IS_10.7_Core_Fix8)
Integration Server shut down may take longer when many JMS triggers are running.

If hundreds of JMS triggers are running, shutting down Integration Server may
take a few additional minutes because each JMS trigger needs to be stopped. 

Now, the time needed to stop a JMS trigger has been significantly reduced,
leading to a faster shut down of Integration Server that runs many JMS triggers. 

PIE-73984 (IS_10.7_Core_Fix8)
Microservices Runtime does not start if a malformed application.properties file
was supplied. 

At start up, Microservices Runtime (or an Integration Server with a
Microservices license), applies a provided application.properties file to set
configuration information. However, if the file is not properly formatted,
Microservices Runtime does not start up. 

Now, if Microservices Runtime cannot apply an application.properties file
because the file is malformed, Micorservices Runtime logs errors about the
malformed file to the server log and error log.  Microservices Runtime writes
the following to the error log: Dynamic variables processor has encountered an
error. Please refer to configuraitonvariables.log for details. Microservices
Runtime logs the actual exception to the error log. 

PIE-73992 (IS_10.7_Core_Fix8)
When generating a configuration variables template, Microservices Runtime does
not include a key that indicates a global variable is secure. 

Now, Microservices Runtime (or an Integration Server with a Microservice
license) adds the key globalvariable.<globalVariableName>.isSecure=true to the
configuration variables template for a global variable for which the Is
Password? check box is selected. 

PIE-74072 (IS_10.7_Core_Fix8)
After applying a fix that includes PIE-67760, service caching might not work.

After applying a fix that includes PIE-67760, invocation of a service whose
results are cached might return empty output. The solution in PIE-67760 changed
the way in which Integration Server cached service results to encode the data
prior to serializing it and placing it in the cache. This change resolved a
StackOverflowError that can result when caching complex data types with many
nested levels. However, the change to PIE-67760 prevents proper deserialization
of results for some data types. 

To address this issue, Integration Server now includes the server configuration
parameter watt.server.serviceResults.cache.encode which controls whether
Integration Server encodes data before serializing it. 

watt.server.serviceResults.cache.encode
Specifies whether Integration Server encodes service results before serializing
it and placing it in the service results cache. Set this parameter to true if
Integration Server encodes service results before serializing the results and
placing the data in the service results cache. A value of true may prevent a
StackOverflowError when the service results contain complex data types with many
nested levels. However, a value of true prevents proper deserialization of
results for some data types and might result in empty output. Set this parameter
to false if Integration Server does not encode service results before
serializing the results and placing the data in the service results cache. The
default value is false. 

You must restart Integration Server for changes to this parameter to take
effect. 

Note: The default value of watt.server.serviceResults.cache.encode is false
which indicates that Integration Server does not encode data before serializing
it. This is the behavior that existed prior to application of a fix that
includes PIE-67760. Installing a fix that includes PIE-74072, reverts
Integration Server to the caching behavior available prior to applying
PIE-67760. If you want the caching behavior available in PIE-67760 (encoding the
data before serializing it), set watt.server.serviceResults.cache.encode to true
and restart Integration Server. 

PIE-74077 (IS_10.7_Core_Fix8)
After installing a fix that includes PIE-70713, if a server configuration
parameter name ends with "password" or "Password", Integration Server
saves the masked value instead of the actual value. 

When editing or viewing extended settings (server configuration parameters) on
the Settings > Extended page in the legacy Integration Server Administrator,
Integration Server masks the value of any parameter whose name ends with
"password" or "Password". However, when saving the parameter value,
Integration Server saves the mask instead of the actual value. 

This issue is now resolved.

PIE-74111 (IS_10.7_Core_Fix8)
After applying a fix that includes PIE-71091, Integration Server performance may
degrade.

The changes made for PIE-71091 might have exposed a performance issue caused by 
a known JDK bug that occurs under heavy load and when underlying services or 
classes retrieve system properties or server configuration properties.

This issue is now resolved.

PIE-74170 (IS_10.7_Core_Fix8)
Changes to Integration Server logic for enabling metering based on license. 

PIE-74176 (IS_10.7_Core_Fix8)
Starting and stopping JMS triggers may result in NullPointerException.

In some scenarios, the hot deployment logic in Integration Server may cause 
NullPointerException to be thrown when a JMS trigger is stopped or started. 

This issue is now resolved.

PIE-74202 (IS_10.7_Core_Fix8)
In Extended settings, the watt.server.idr.createScheduledTask and
watt.net.proxy.proxyAlias server configuration parameters are missing.

This issue is resolved. Now, the "watt.server.idr.createScheduledTask" and
watt.net.proxy.proxyAlias server configuration parameters are available in
"Integration Server Administrator > Settings > Extended".

PIE-74289 (IS_10.7_Core_Fix8)
This fix provides the following built-in security services:

pub.security:decrypt - Decrypts the encrypted data and returns plain data as a
stream object or a byte array. 

pub.security:decryptAndVerify - Decrypts the encrypted data and verifies the
associated digital signature. 

pub.security:encrypt - Converts plain data to encrypted data.

pub.security:generateHashValue - Returns the hashed value for a string input.

pub.security:generateSalt - Creates a salt value.

pub.security:sign - Adds a digital signature to data.

pub.security:signAndEncrypt - Adds a digital signature to data and then
encrypts the data.

pub.security:verify - Verifies the digital signature associated with the data.

For more information, see the webMethods Integration Server Built-In Services
Reference guide, version 10.7 

PIE-74338 (IS_10.7_Core_Fix8)
Enhancements to is_instance script to apply fixes to new instances
automatically. 

The create command in the is_instance script now includes parameters for
specifying Software AG Update Manger information. The create command uses this
information to install the most recent updates applied to another Integration
Server instance to the new instance automatically. At the same time, the script
also uses Update Manager to update existing instances within the Integration
Server installation with the same updates. After creating a new instance, all
instances of Integration Server running on the same host machine and within the
same installation will be at the same fix level. You do not need to shut down
the existing Integration Server instances prior to running the script to create
an instance. 

The new parameters for the create command are as follows:

-Dsum.install.dir=<SUM_installation_location>
-Dsum.image.location=<SUM_image_location>
-Dsum.server=<fix_server_URL>
-Dsum.empower.user=<empower_user>
-Dsum.empower.password=<empower_password>

Where

<SUM_installation_location> Optional. The absolute path to the Software AG
Update Manager installation, specifically the path to the SAGUpdateManager
directory. If you do not specify a value, the script looks for Update Manager in
the current Integration Server installation directory. 

<SUM_image_location> Optional. Absolute path to the location of the Update
Manager installation image. Update Manager can install fixes from an
installation image. If you do not specify a value, the script looks for Update
Manager itself, as opposed to an image, in the current Integration Server
installation directory. For more information about creating installation images,
see the Using Software AG Update Manager documentation. 

<fix_server_URL> Optional. URL of the server from which to download fixes. If
you do not specify a value, the script looks for a fix server URL in the Update
Manager cache. 

<empower_user> Optional. User name for connecting Update Manager to Empower. If
you do not supply a empower_user, the script looks in the Update Manager cached
for credentials that Update Manager previously used to connect to Empower. For
more information about connecting to Empower from Update Manager, see Using
Software AG Update Manager. 

<empower_password> Optional. Password for connecting Update Manager to Empower.
If you do not supply empower_password, the script uses the cached credentials
which Update Manager previously used to connect to Empower. For more information
about connecting to Empower from Update Manager, see Using Software AG Update
Manager. 

Note: If you specify empower_user, you must also specify empower_password.

In addition to the above changes, the delete command for the is_instance script
now includes the following parameter: 
-Dsum.install.dir=<SUM_installation_location>

Where

<SUM_installation_location> Optional. Absolute path to the Update Manager
installation location, specifically the path to the SAGUpdateManager directory.
If you do not specify a value, the script looks for Update Manager in the
current Integration Server installation directory. The script uses the location
information to remove OSGi fix installation metadata for the profile for the
instance that is being deleted. 

PIE-74377 (IS_10.7_Core_Fix8)
Repository-based deployment of email settings fails due to NullPointerException.

Variable substitution for obtaining the password used with email configuration
fails with NullPointerException because Integration Server uses the wrong
property key. 

This issue is now resolved.

PIE-74393 (IS_10.7_Core_Fix8)
The output of the pub.json.schema:validate service does not match with the
signature.

The output signature of the pub.json.schema:validate service has the "code"
string field in the "errors" Document List. When the service runs,
the output has the "error" string field instead of "code", causing a 
discrepancy with the output signature.

This issue is now resolved.

PIE-74395 (IS_10.7_Core_Fix8)
In Integration Server Administrator, if CSRF Guard is enabled, the "Edit FTPS
Port Configuration" link does not behave as expected.

When CSRF Guard is enabled, clicking the "Edit FTPS Port Configuration" link in
'Integration Server Administrator > Server> Ports > View FTPS port
configuration' shows the error: "Access Denied. Invalid CSRF secure token" on 
both new (<host: port>/WmAdmin) and legacy (<host:port>/WmRoot) Integration Server
Administrator.

This issue is now resolved.

PIE-74554 (IS_10.7_Core_Fix8)
webMethods messaging triggers stop receiving messages when Universal Messaging
is configured to use a shared thread pool. 

If Universal Messaging is configured to use a shared thread pool and a fully
active, concurrent webMethods messaging trigger is suddenly restarted, the
trigger may stop receiving messages. (A trigger is considered fully active when
all of its processing threads are invoking services.) This situation occurs
because the trigger may continue to block the incoming notification thread from
Universal Messaging after the trigger abruptly restarts. If Universal Messaging
is configured to use a shared thread pool, the notification thread will not be
interrupted. As a result, the notification thread will not be able to deliver
new messages. 

To resolve this issue, the notification thread is released whenever a webMethods
messaging trigger is stopped. 

PIE-74631 (IS_10.7_Core_Fix8)
Change to address vulnerability to an argument injection attack.

Integration Server uses the system property user.dir to determine the location
of the protoc.exe file. This makes Integration Server vulnerable to an argument
injection attack. 

This has been resolved. Integration Server no longer uses a system property to
determine the location of protoc.exe. 

PIE-74819 (IS_10.7_Core_Fix8)
Change to Integration Server to mitigate Zip security vulnerability in
Files.unzip() method. 

Directory traversal with and without Zip Slip and the Zip Bomb security
exploitation is possible with the method Files.unzip(), which is part of
is-client.jar. 

To prevent exploitation of these security vulnerabilities, Integration Server
now included a server configuration parameter that specifies the maximum size of
a zip file that can be unzipped by this method. 

watt.server.maxzipfilesize
Specifies the maximum zip file size (in MB) that can be unzipped by
Files.unzip(). When this parameter is set to any value greater than or equal to
0, Integration Server checks the size of the zip file called by Files.unzip. If
the zip file is greater than the limit set by watt.server.maxzipfilesize,
Integration Server throws an exception and does not unzip the file. Set to -1 to
skip checking of the zip file size for Files.unzip(). The default is -1. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-75039 (IS_10.7_Core_Fix8)
Change to limit OAuth access tokens and refresh tokens created by Integration
Server to 32 bytes. 

In Integration Server 10.7, OAuth access tokens and refresh tokens created by
Integration Server increased in length from 32 bytes to 64 bytes. The longer
tokens are more secure. However, for legacy applications that store tokens in
fixed-length fields, this increase in size may create a problem. The longer
tokens cannot be stored in in fixed-length fields that are less than 64
characters. 

This has been resolved with the introduction of the server configuration
parameter, watt.server.oauth.token.short. Values for this parameter are true and
false. When set to true, access tokens and refresh tokens will be 32 bytes. When
set to false, access tokens and refresh tokens will be longer than 32 bytes. As
of April 2022, the longer tokens are 64 bytes. The tokens may increase in size
in the future. The default for watt.server.oauth.token.short is false, meaning
Integration Server will create longer access and refresh tokens by default.
Changes to watt.server.oauth.token.short take effect immediately. A server
restart is not needed. 

PIE-72113 (IS_10.7_Core_Fix7)
An application.properties file contains only one set of LDAP configuration asset
properties when there are multiple LDAP directories. 

When generating an application.properties file for a Microservices Runtime (or
an Integration Server with a Microservices license) that has multiple LDAP
directories that use the same directory URL, the application.properties file
contains only one set of LDAP configuration asset properties instead of one set
per LDAP directory. This is because the LDAP asset properties in an
application.properties file use the LDAP directory in the key name. 

To resolve this issue, the key names for LDAP configuration properties now use a
UUID automatically generated by Microservices Runtime instead of the LDAP
directory. For example: 

Directory URL: ldap.<uuid>.url
Principal: ldap.<uuid>.prin
Credentials: ldap. <uuid>.password

When using an application.properties file to create an LDAP configuration, make
sure to specify a unique value in the UUID portion of the key name. 

PIE-72555 (IS_10.7_Core_Fix7)
Delay in updating complex flow services.

Updating a flow service with complex pipeline mappings and several document
references requires Designer to constantly communicate with Integration Server
to reconcile the pipeline mappings, which causes the delay.

This issue is resolved. Now, Integration Server reconciles the pipeline
mappings. 

Note:
As the reconciliation logic is removed from Designer, install this Integration
Server fix with the corresponding Designer fix to resolve the issue.

PIE-72571 (IS_10.7_Core_Fix7)
Integration Server generates a TCP RST (reset) signal when closing an outbound 
socket connection.

Now, Integration Sever no longer generates a TCP RST signal when closing 
outbound socket connections.

PIE-72626 (IS_10.7_Core_Fix7)
Integration Server appears to become unresponsive.

When the data statistics engine used by the Dashboard in Integration Server
Administrator gathers information about JVM thread states, performance may
degrade to the point that Integration Server appears unresponsive for several
seconds. 

This issue is now resolved.

PIE-73014 (IS_10.7_Core_Fix7)
The "pub.file:getFile" service fails with the out-of-memory exception while
loading large files from local file systems.

While loading large files from local file systems using the
"pub.file:getFile" service with the "loadAs" parameter set to "stream", the 
service returns the file content as bufferedInputStream. However, the file load 
fails with the out-of-memory exception.

This issue is now resolved by introducing the "largeFile" optional
String input parameter in the "pub.file:getFile" service. By default, the value 
of the parameter is "false". Setting the parameter to "true" returns the
file content as FileInputStream, and also loads large files successfully.

PIE-73035 (IS_10.7_Core_Fix7)
Integration Server throws ClassCastException during a REST API invocation.

When a provider REST API descriptor is created from a Swagger document that has
one or more properties defined as a string and the format as date or date-time,
the generated service signature represents the properties as variables of type
Object with a Java wrapper type of java.util.Date. When the service is invoked,
the response contains java.util.Date type variables but the service returns a
string value instead of a Date object. As a result, Integration Server throws
ClassCastException. 

Now, for a service output variable defined to be of type Object with a Java
wrapper type of java.util.Date, Integration Server returns a Date object instead
of a String. 

Note: Previously, Integration Server returned a value of type string for dates
without causing a ClassCastException. To maintain compatibility with existing
implementations, Integration Server will not throw an exception when a service
returns a string value for a date type variable. However, Integration Server
does not check whether the string value is a valid date format. 

PIE-73141 (IS_10.7_Core_Fix7)
Integration Server generates a document type with an additional field while
creating a REST API Descriptor (RAD) from a Swagger document, which
causes mapping issues.

If a Swagger document imported in Integration Server as a provider or a
consumer has a definition with an array at the root level, the document type
generated using that definition has _generatedInput as the additional field. 
If the definition is used as a request or response body in an operation,
_generatedInput causes errors while mapping that data.

This issue is resolved. Now, for a Swagger definition with an array at the
root level, a document type is not generated, and the fields are directly
generated under the objects referring to that definition to resolve the mapping
issue. 

PIE-73606 (IS_10.7_Core_Fix7)
In Integration Server, a REST API invocation using the JWT authentication fails.

Integration Server does not support a REST API invocation using the JWT
token when the Swagger document imported in Integration Server does not
have any security definition. Hence, the REST API invocation fails.

This issue is now resolved.

PIE-73617 (IS_10.7_Core_Fix7)
Value substitution does not occur for environment variables used in messaging
assets in a configuration variables template. 

When applying a configuration variables template (application.properties file)
that uses environment variables as the values of messaging assets, the
environment variable value is not used as the actual value of the messaging
asset. 

This issue is now resolved.

PIE-73629 (IS_10.7_Core_Fix7)
Attempt to create messaging assets via application of a configuration variables
template fails. 

Messaging assets cannot be created on Microservices Runtime (or an Integration
Server with a Microservices license) through application of a configuration
variables templates if the messaging.cnf file does not exist in the target
environment. 

This issue is now resolved.

PIE-73690 (IS_10.7_Core_Fix7)
OAuth error responses contain invalid JSON.

Some OAuth error responses contain double quotes within JSON strings, which is
not valid JSON. 

This issue has been corrected.

PIE-73715 (IS_10.7_Core_Fix7)
In a cluster, Integration Server threads are blocked at
wm.serverimp.getServerNodes() while waiting for a response from the Terracotta
Server. 

When an Integration Server is a member of a cluster, the server establishes a
remote server alias connection and creates a pinger thread that periodically
calls wm.serverimp.getServerNodes(). This results in a large number threads
making the same call which can result in blocked thread if the Terracotta Server
is not responding. 

To reduce the number of calls made to wm.serverimp.getServerNodes(), the pinger
thread now calls wm.serverimp.getServerNodes() only once at the time the
pinger thread is created. 

PIE-73730 (IS_10.7_Core_Fix7)
In Integration Server, the log recycle interval is in milliseconds
instead of minutes.

While configuring the log recycle interval for the statistics log entries in
Integration Server using the watt.server.statsLogRotateInterval server 
configuration parameter, the value is taken in milliseconds instead of minutes.

This issue is now resolved.

PIE-73733 (IS_10.7_Core_Fix7)
Upgrade of Apache Lucene libraries to remediate security vulnerabilities.

The Apache Lucene libraries installed with Integration Server have been upgraded
to remediate the security vulnerability CVE-2017-12629
(https://nvd.nist.gov/vuln/detail/CVE-2017-12629) and the potential DoS attack
described in LUCENE-9981 (https://issues.apache.org/jira/browse/LUCENE-9981). 

The old libraries are:
- org.apache.lucene:lucene-core:8.0.0
- org.apache.lucene:lucene-grouping:8.0.0
- org.apache.lucene:lucene-queryparser:8.0.0
- org.apache.lucene:lucene-analyzers-common:8.0.0
- org.apache.lucene:lucene-suggest:8.0.0

The new libraries are:
- org.apache.lucene:lucene-core:8.10.1
- org.apache.lucene:lucene-grouping:8.9.0
- org.apache.lucene:lucene-queryparser:8.10.1
- org.apache.lucene:lucene-analyzers-common:8.10.1
- org.apache.lucene:lucene-suggest:8.9.0

Note: If you uninstall a fix that includes PIE-73733, prior to restarting 
Integration Server, you must manually delete files from the repository. 
See Section 9.0 Uninstallation for more information.

PIE-73908 (IS_10.7_Core_Fix7)
The value of the watt.server.threadPoolMin server configuration parameter cannot
be modified using the Extended settings page in Integration Server
Administrator. 

Attempts to change the value of the watt.server.threadPoolMin parameter using
the Extended settings page in Integration Server Administrator fails with the
error "Invalid input - The Thread Pool Min cannot be greater than the Thread
Pool Max." This occurs even when the provided value is less than
watt.server.threadPool (Thread Pool Max). 

This issue is now resolved.

PIE-74009 (IS_10.7_Core_Fix7)
OAuth scope matching does not work for multiple scopes.

When an OAuth access token is associated with multiple scopes and a resource is
requested that does not match the last of those scopes, the request is denied
with a 401 response. This happens even if the requested resource is in one of
the other scopes on the token. 

This issue is resolved. If a requested resource matches any of the scopes for an
access token, the resource is considered within the scope of the token. 

PIE-74013 (IS_10.7_Core_Fix7)
Updates to webMethods Metering to exclude transactions for services in the
WmOptimize package.

PIE-74726 (IS_10.7_Core_Fix7)
Support for OpenAPI-based consumer REST API Descriptor (RAD).

Integration Server does not support importing an OpenAPI document and
invoking the API as a consumer.

This issue is now resolved by adding support for OpenAPI-based consumer RAD.

PIE-74768 (IS_10.7_Core_Fix7)
The Logged Fields configured for a service are not visible in Advanced Service
Details under the Monitoring tab in Integration Server Administrator.

When the Logged Fields tab for a service in Designer is used to select
individual fields to be audited and the Service Logger is configured to write
to a database, Integration Server writes the fields to the ISCoreAudit database
each time the service is audited. The Monitoring tab in Integration Server
Administrator displays the audited fields. However, Integration Server was not
writing these fields to the ISCoreAudit database. As a result, the fields were
not visible in Integration Server Administrator.

This issue has been resolved.

PIE-71490 (IS_10.7_Core_Fix6)
An update operation on an alert channel using Admin API has validation issues.

The PATCH operation of the "/admin/alert/channels/{id}" API to update an alert
channel has validation issues. 

This issue is resolved now.

PIE-72269 (IS_10.7_Core_Fix6)
Starting Integration Server after installing IS_10.7_Core_Fix5 displays:
"Unable to find message key '14.73' in bundle 
'com.wm.resources.B2BServMsgBundle'".

This issue is now resolved.

PIE-72446 (IS_10.7_Core_Fix6)
The "Configure Global Denial of Service" and "Configure Denial of Service by 
IP  Address" links in Integration Server Administrator are broken. 

On Integration Server Administrator > Security > Enterprise Gateway Rules > 
Denial of Service Options page, the "Configure Global Denial of Service" and 
"Configure Denial of Service by IP Address" links are broken, when CSRF Guard 
is enabled. 

This issue is now resolved.

PIE-72810 (IS_10.7_Core_Fix6)
Dynamic variable processors are registered with the Integration Server to
support externalization of ART-based adapter's specific configurations. 

PIE-70154 (IS_10.7_Core_Fix6)
The flow services containing the pub.smime:processSignedData and
pub.smime:processEncryptedData services sporadically fail with 
"no object DCH for MIME type <mime_type>" error.

This issue is now resolved.

PIE-70325 (IS_10.7_Core_Fix6)
Creating a REST API descriptor (RAD) from a Swagger document with the OAuth
security scheme fails in a Cloud environment.

A RAD with the OAuth security scheme is not supported in a Cloud environment.

This issue is resolved. Now, Integration Server is updated to ignore the scopes
for the OAuth security scheme in a Cloud environment.

PIE-70939 (IS_10.7_Core_Fix6)
Applying an Integration Server fix that includes PIE-69100 might overwrite
custom properties added to custom_wrapper.conf if those properties are defined
using 100 series. 

The resolution for PIE-69100 includes a modification to the custom_wrapper.conf
to define the override file for the java.security file. Application of the fix
that includes PIE-69100, adds the following parameter to custom_wrapper.conf:
wrapper.app.parameter.n= -
Djava.security.properties=config/security/webm_override_java.security where n is
105 for releases 10.5 and lower and 106 for 10.7. If an additional property with
that number already existed in custom_wrapper.conf, it might be overwritten. 

Integration Server adds the following comment to the beginning of the
custom_wrapper.conf file: 

To prevent conflicts with properties added by Software AG, add your custom
properties with 400 series numbers or higher unless otherwise instructed by
Software AG. 

This comment appears only in the custom_wrapper.conf file created for a new
instance of Integration Server. The comment is not added to an existing
custom_wrapper.conf. 

Further, Software AG recommends that any new custom properties added to
custom_wrapper.conf be assigned a number of 400 or higher, i.e., when adding
wrapper.app.parameter.n to custom_wrapper.conf, set n to 400 or higher. Software
AG also recommends that any existing custom properties in the 100-399 range be
moved to 400 or higher to avoid conflicts with any properties added in future
Integration Server fixes. 

PIE-70981 (IS_10.7_Core_Fix6)
An attempt to rename or move a flow service contained in a package where a flow
service in a parent folder is used in a DSP page results in the lower-level flow
service being deleted instead of renamed or moved. 

If an attempt is made to rename or move a different flow service nested at least
three folders deep (folder.subfolder1.subfolder2) in the same folder as a flow
service reference by a DSP page, Integration Server deletes the flow service
instead of renaming or moving them. 

This issue is now resolved.

PIE-71729 (IS_10.7_Core_Fix6)
Migration of REST services from Integration Server versions 10.1 to 10.7
requires manual alteration.

While migrating REST services from Integration Server versions, 10.1 to 10.7,
set the "Match payload with Swagger" REST API descriptor property to "false"
when the request payload for a REST API request does not match the Swagger
definition.

This issue is now resolved.

PIE-71946 (IS_10.7_Core_Fix6)
Integration Server seems to be running out of threads due to Designer sessions
ending abnormally. 

When Designer establishes a session on Integration Server, a socket monitor
thread is created for each session. The socket monitor thread uses an event
listener which waits for a shutdown event that, when received, will result in
the termination of the socket monitor thread and the return of the socket
monitor thread and event listener thread to the thread pool. If a Designer
session ends properly normally, the event listener on Integration Server
receives a shutdown event, the socket monitor thread ends, the event listener
thread ends, and both threads return to the server thread pool. However, if
Designer ends the session abnormally, that is, the sessions are killed, the
socket monitor thread and event listener thread remain on Integration Server
indefinitely. Over time, this results in high thread consumption from Designer. 

To address this issue, Integration Server includes the server configuration
parameter watt.server.event.monitor.timeout to set the socket timeout value so
that socket monitor threads will eventually terminate, allowing the socket
monitor thread and event listener thread to return to the server thread pool. 

watt.server.event.monitor.timeout
Specifies the number of seconds that elapse before the socket monitor thread
created for a Designer session times out, terminating its server thread and the
associated event listener thread. (Integration Server creates a socket monitor
for each Designer session. Each socket monitor uses an event listener to listen
for the shutdown event that occurs when a Designer session ends normally. The
socket monitor uses a thread from the server thread pool as does the event
listener.) The default is 0, which means the socket monitor waits indefinitely
and never times out. 

You must restart Integration Server for changes to take effect. 

Important! Set the watt.server.event.monitor.timeout value with care as a value
that is too low may result in the premature termination of threads, which could
impact the Designer session in unexpected ways. 

PIE-72064 (IS_10.7_Core_Fix6)
Enhancement to Integration Server to control whether a package reloads after a
package that is dependent on it is replaced. 

A package in Integration Server can be identified as dependent on another
package if it references or uses assets from that package. For example, if a
service in package A invokes a service in package B, package A is dependent on
package B and a package dependency should be identified. Establishing a
dependency ensures that packages cannot be active until all dependencies are
met. Additionally, in hot deployment, Integration Server uses package
dependencies to wait for requests to complete before starting the deployment and
to block new requests for services in the deployed package as well as dependent
packages. 

When a package reloads or is replaced via hot deployment, Integration Server
reloads the packages that depend on it as well (that is, Integration Server
reloads all the packages that have established a dependency on the package being
reloaded/replaced). Reloading dependent packages refreshes any cached assets.
During hot deployment, reloading dependents can cause service requests to time
out especially if package dependencies are complex. In some cases, such as
when there are no shared cached assets among the packages, reloading dependent
packages does not provide any benefit. Preventing dependent packages from
reloading may provide a performance improvement. To address this, Integration
Server now includes a property that can be added to the package manifest to opt
out of being reloaded when the package on which it depends is reloaded or
replaced. 

To prevent a package from reloading when the package on which it depends is
reloaded or replaced, do the following: 

1. Use a text editor to open the package manifest file.
For Integration Server, the package manifest file is located at:
<SAG_HOME>/IntegrationServer/instances/<instanceName>/packages/<packageName>/manifest.v3.
For Microservices Runtime, the package manifest is located at:
<SAG_HOME>/IntegrationServer/packages/<packageName>/manfiest.v3. 

2. Add the following within the Values element tag:
<value name="reloadWithDependentPackage">false</value>

3. Save your changes to the manifest.v3 and close the file.

You do not need to reload the package or restart Integration Server for changes
to take effect. 
If the property reloadWithDependentPackage does not exist in a package manifest,
Integration Server reloads the package whenever packages it depends on are
replaced or reloaded. The default value of reloadWithDependentPackage is true. 

PIE-72229 (IS_10.7_Core_Fix6)
The "wm.server.dispatcher:deleteExpiredUUID" scheduled task causes
performance degradation in databases with DB archiving. 

Integration Server runs "wm.server.dispatcher:deleteExpiredUUID" periodically
to remove the expired entries from the WM_IDR_MSG_HST table. However, for a
Microsoft SQL Server database, if the lock escalation is not configured
correctly, the task degrades the database performance. 

This issue is resolved. Integration Server automatically schedules the task 
if the "Document History" functional pool alias is configured. Now,
Integration Server provides the "watt.server.idr.createScheduledTask" parameter
with default value "true" to manage "wm.server.dispatcher:deleteExpiredUUID". 
Add the parameter with value "false" in "Integration Server Administrator >
Settings > Extended > Edit Extended Settings" if any sweeper tasks are active
or performing DB archiving. The configuration does not require a server
restart. However, restart the "Document History" functional pool alias to apply
the change. 

Note:
If the "watt.server.idr.createScheduledTask" value is set to "false",
Integration Server does not schedule the task. To schedule the sweeper
task for removing the expired entries, set the property to "true" and
restart the server or pool alias again. 

PIE-72406 (IS_10.7_Core_Fix6)
Creating an Email port in Integration Server Administrator fails with 
"Access Denied. Invalid CSRF secure token".

Creating an Email port fails with an error: "Access Denied. Invalid
CSRF secure token" in both new (<host:port>/WmAdmin) and legacy
(<host:port>/WmRoot) Integration Server Administrator when the CSRF 
guard is enabled.

This issue is now resolved.

PIE-72534 (IS_10.7_Core_Fix6)
When creating a REST API Descriptor (RAD) by importing a Swagger document,
parameter description is missing in the generated services.

When creating a RAD by importing a Swagger document, the description
of a parameter in the generated services is not displayed as it is not set as
the Comments property of the parameter.

This issue is now resolved when the description of the parameter is set as its
Comments property.

PIE-72554 (IS_10.7_Core_Fix6)
Creating a Rest API Descriptor throws OutOfMemory error.

When a Rest API Descriptor is created as a provider or consumer from a large
swagger document containing a large number of operations, Integration Server
throws OutOfMemory error while generating the services. 

This issue is now resolved.

PIE-72591 (IS_10.7_Core_Fix6)
The "pub.client:restClient" service generates an invalid output for a compressed
response. 

If the response to the "pub.client:restClient" service is compressed and
contains a "Content-Encoding" response header, the service uses the compressed
response without decompressing, which returns an invalid output. 

This issue is resolved. Now, pub.client:restClient supports response compression
if the "Content-Encoding" response header contains gzip or deflate type
compression schemes. 

PIE-72732 (IS_10.7_Core_Fix6)
Option to control whether a REST response includes empty fields.

If the output of a service used as a REST operation does not include a value for
a field defined in the output signature, Integration Server sets a null value
for the field and includes it in the REST response. However, Integration Server
should not include fields in the REST response if a value was not set for the
field in the service output. 

Integration Server now includes a server configuration parameter that controls
whether a REST response includes empty fields or omits them. 

watt.server.rest.includeNullFieldsInResponse
Specifies whether a REST response includes null values for fields for which a
value was not set by the service used as the REST operation. Set to true to use
a null value for empty fields and include them in the REST response. Set to
false to omit empty fields from the REST response. The default is true. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-72768 (IS_10.7_Core_Fix6)
In Integration Server, installing a fix copies the
"webm_override_java.security" file to the "<integration_server_instance>
/config/security" folder regardless of the file existence.

This issue is resolved. Now, installing a fix copies the
"webm_override_java.security" file to the "<integration_server_instance>
/config/security" folder only if the file does not already exist.

PIE-72805 (IS_10.7_Core_Fix6)
For an HTTPS Web Service Endpoint Alias in Integration Server Administrator, 
the "Enable" property under "Reliable Messaging Properties" is incorrectly 
displayed. 

On Integration Server Administrator > Settings > Web Services > 
[webservice_endpoint_alias_name] > View, the "Enable" property is "false" 
despite enabling "Reliable Messaging Properties" while creating an HTTPS Web 
Service Endpoint Alias. 

This issue is resolved now.

PIE-69819 (IS_10.7_Core_Fix6)
When configuring proxy server settings on Integration Server Administrator, 
a tenant account is not enabled for a hybrid connection between an on-premise 
Integration Server and the cloud Universal Messaging.

When configuring proxy server settings on Integration Server Administrator, 
a tenant account is not enabled for a hybrid connection between an on-premise 
Integration Server and the cloud Universal Messaging, resulting in
nRealmUnreachableException because the HPROXY (host:port combination) and HAUTH
(username:password combination) system properties are not set.

This issue is now resolved by introducing the "watt.net.proxy.proxyAlias" server 
configuration parameter. Provide the proxy alias name as a value for the server
configuration parameter on Integration Server Administrator > Settings > 
Extended, and restart Integration Server. This programmatically sets and
retrieves the values of HPROXY and HAUTH from the proxy configuration to 
establish a connection between Integration Server and the cloud Universal 
Messaging.

PIE-72377 (IS_10.7_Core_Fix6)
Integration Server runs out of available threads leading to performance 
degradation. 

When API Gateway server is unreachable, disabling the API Gateway ports does 
not remove the listeners created but enabling the ports creates new listeners. 
Hence, additional listeners are created to listen to API Gateway server 
requests leading to performance degradation. 

This issue is now resolved.

PIE-69345 (IS_10.7_Core_Fix6)
The characters in the response payload for a REST API request are incorrectly 
encoded. 

When Integration Server extracts the request headers from a REST API request 
and includes them in the response payload, the characters in the response 
payload are incorrectly encoded. 

This issue is now resolved.

PIE-73496 (IS_10.7_Core_Fix6)
Updating a JNDI provider alias with security information fails with the "Unable
to create or update JNDI settings" error message. 

Integration Server throws the following exception on updating a JNDI provider
alias without modifying its security information: 

"Missing required parameter passwordChanged for alias test, as password for the
JNDI alias is changed, without this property the password will not get updated
into passman and test lookup will fail always." 

This issue is now resolved.

PIE-64448 (IS_10.7_Core_Fix6)
Repository-based deployments of the user and server alias assets using Deployer
fail. 

It is mandatory to have the
<IS_Installation_Directory>\IntegrationServer\instances\default\config\sftp\sftpLicenseKey.cnf
file in the source directory to complete the deployment successfully. If the
file is not present, the build script fails with the error: "Deployment Error:
NoSuchFileException". 

This issue is now resolved. 

PIE-68515 (IS_10.7_Core_Fix6)
Integration Server does not automatically restart for ACDL-based configuration 
deployment to cloud. 

When Integration Server configurations are deployed to a cloud solution using 
ACDL, Integration Server Administrator on cloud displays the "Restart is 
required for changes to take effect" notification. However, Integration Server 
does not automatically restart. 

This issue is resolved now.

PIE-69365 (IS_10.7_Core_Fix6)
An Integration Server instance created using a Command Central template does not
have the WmMonitor package. 

Despite configuring the Command Central template to install all packages
(package.list=all), the "sagcc create" command fails to install the WmMonitor
package when creating an Integration Server instance. However, when the template
is configured to install specific packages (package.list=WmMonitor, WmTn, and so
on), the WmMonitor package is installed. 

This issue is now resolved.

PIE-69889 (IS_10.7_Core_Fix6)
The "pub.mime:CreateMimeData" service throws the "[ISC.0064.9415] Encoding is
not supported" exception when the character set of the "input" parameter is
empty. 

The "pub.mime:CreateMimeData" checks the character set of the "input" parameter.
If the character set is "null", the service ignores the value and generates the
mime data. However, if the character set is either unsupported or empty, the
service throws the "[ISC.0064.9415] Encoding is not supported" exception. 

This issue is resolved now. Although the character set of the "input" parameter
is empty, the service generates the mime data. 

PIE-70089 (IS_10.7_Core_Fix6)
Scheduler logs a misleading "Could not complete last run" message.

Scheduled jobs do not run during database outage or Integration Server
maintenance, and the scheduler logs the "Could not complete last run" message,
which is misleading. 

The issue is now resolved by updating the message to "Couldn't find in running
task list" for better understanding. 

PIE-70255 (IS_10.7_Core_Fix6)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs.

PIE-70859 (IS_10.7_Core_Fix6)
Integration Server might take a long time to delete an OAuth client
registration. 

When deleting an OAuth client registration, Integration Server attempts to
remove all of that client's tokens from the cache and the database (API Gateway
stores tokens in ElasticSearch instead of a database) before deleting the
registration. In a clustered Integration Server setup, the caches are stored in
distributed cache. Removing the tokens from the distributed cache takes time
and, as a result, deleting a client registration might appear to take a long
time. 

To reduce the time for deleting an OAuth client registration in a cluster,
Integration Server now first deletes the client registration which results in
the automatic deletion of the tokens in the database (or ElasticSearch for API
Gateway). Integration Server then uses a background thread to clear the tokens
associated with the client registration from the distributed cache. When the
logging facility 0010 OAuth is set to the Debug level, Integration Server logs
the activities of the background thread to the server log. 

PIE-71091 (IS_10.7_Core_Fix6)
Integration Server becomes unresponsive.

A known issue in the Java class ReentrantReadWriteLock results in a deadlock
when accessing a class internal to Integration Server. 

To prevent the deadlock from occurring, this fix implements a minor
configuration change that works around the known issue in the
ReentrantReadWriteLock class. 

PIE-71229 (IS_10.7_Core_Fix6)
Memory leak in cron task queue due to immediate, one-time-only cron tasks never
being removed from the queue. 

When Integration Server issued an immediate, one-time-only cron task, the task
job was added to the cron queue but never removed. This resulted in a memory
leak. 

Now, immediate, one-time-only cron tasks are no longer added to the cron queue.
However, Integration Server still adds one-time-only cron tasks scheduled for
future execution to the cron queue. 

PIE-71316 (IS_10.7_Core_Fix6)
When a REST API Descriptor (RAD) is created from a Swagger document and the 
connector services are invoked, the header values are not returned in the
output. 

When the RAD acts as a provider, the response does not have the header
variables. 

When a RAD is created from a Swagger document and the connector services are 
invoked, the header values are not returned in the output because the response 
headers are not added in the output signature of the generated connector
service. 

Similarly, when the RAD acts as a provider, the generated service does not have 
the header variables and hence cannot be set in the service implementation.

This issue is now resolved. The header variables are added in the output
signature of the generated services. Hence, the header values are returned in 
the output when the connector services are invoked. Similarly, when the RAD acts
as a provider and receives a REST request from a client, the header values are
added to the response headers.

PIE-71644 (IS_10.7_Core_Fix6)
Integration Server generates incorrect document type and service signature while
creating a provider or consumer REST API Descriptor (RAD) from a Swagger
document. 

If a Swagger document imported in Integration Server as a provider or as a
consumer has a definition that references another definition as an array at the
root level, the document type and service signature generated using that
definition is not correct, which results in incorrect output at runtime. 

This issue is now resolved by correcting the document types and service
signatures. 

Note: Despite applying the fix, the issue persists for the existing RADs.
Recreate or refresh the RADs to resolve this issue. To refresh a RAD, see
"Refreshing a REST API Descriptor" in webMethods Service Development Help. 

PIE-71675 (IS_10.7_Core_Fix6)
After creating a JDBC pool through application of a configuration variables
template, attempts to connect to the database fail because of incorrect
credentials. 

When creating a JDBC pool by applying a configuration variables template at
start up, the value for the database password is not handled correctly. This
results in the attempts to connect to the database failing because of incorrect
credentials. 

This issue is now fixed.

PIE-71858 (IS_10.7_Core_Fix6)
After applying a fix that includes PIE-66922, some packages are not getting
reloaded after deployment. 

The fix for PIE-66922 addressed the issue where Integration Server reloaded
packages over and over again during repository-based deployment. After the fix,
packages were to reload once only. However, some packages were not reloading at
all. 

To resolve this issue, the code changes added for PIE-66922 have been reverted.
Consequently, Integration Server will once again repeatedly reload some packages
during repository-based deployment. 

PIE-71968 (IS_10.7_Core_Fix6)
When using an external server as an authorization provider, the OAuth
authentication for a REST API request fails.

When using an external server as an authorization provider, Integration Server
fails to match the REST API request URL with the URL template configured for a
scope. This results in authentication failure.

This issue is now resolved.

PIE-72037 (IS_10.7_Core_Fix6)
After applying a fix that includes PIE-70758, an HTTP port cannot be created
using Integration Server Administrator on the diagnostic port. 

When creating an HTTP port while using Integration Server on the diagnostic
port, the Package Name field is not listed in the Ports > Add port > Edit HTTP
configuration page. An HTTP port cannot be created if it cannot be associated
with a package. 

This issue is now fixed.

PIE-72142 (IS_10.7_Core_Fix6)
Users defined in the Common Directory Service central users account cannot be
given read-only access to the Administrator API. 

To enable users with a common directory services to have read-only access to the
Administrator API, Integration Server introduces the following administrative
assets: 

- ReadOnlyAdministrators user group. All members of the ReadOnlyAdministrators
group have read-only access to the Administrator API. 
- ReadOnlyAdministrators ACL. Groups that are allowed access to the
ReadOnlyAdministrators ACL have read-only access to the Administrator API. The
new group ReadOnlyAdministrators have access to the ReadOnlyAdministrators ACL. 

To give a local user (a user defined on Integration Server) read-only access to
the Administrator API, add the user to the ReadOnlyAdministrators group. 
To give a user in the Central Directory Service read-only access to the API, add
the group to which the user belongs to the ReadOnlyAdministrators ACL. 

The first time the WmAdmin package loads after applying a fix that includes
PIE-72142, Integration Server does the following: 

- Creates the ReadOnlyAdministrators user group if it does not exist.
Adds the users belonging to the group set as the value of the
watt.adminapi.group.readOnly server configuration parameter to the
ReadOnlyAdministrators user group. 
- Deletes the user group specified in the watt.adminapi.group.readOnly
parameter. 
- Creates the ReadOnlyAdministrators ACL and adds the ReadOnlyAdministartors
group to the allowed list for this ACL. 
- Deletes the watt.adminapi.group.readOnly server configuration parameter as it
is no longer needed. 

Note: Integration Server allows all users to access the OpenAPI file for a
product using the GET /admin/swagger/{productName} operation. 

PIE-72346 (IS_10.7_Core_Fix6)
Integration Server returns a response in the default media type instead of the
requested media type when the Accept header in the request includes a media type
parameter. 

The presence of a media type parameter in the Accept header of an HTTP request
causes Integration Server to respond with the default media type of text/html
instead of the specified media type. For example, the following Accept header
includes a charset parameter. 

Accept: application/json;charset=UTF-8

Integration Server's response to a request with this Accept header uses the
default media type of text/html instead of the requested media type. 

This has been resolved.

PIE-72380 (IS_10.7_Core_Fix6)
The new Integration Server Administrator has incorrect titles and breadcrumbs
when CSRF Guard is enabled. 

These issues are now resolved.

PIE-72412 (IS_10.7_Core_Fix6)
The link to a service on the "Service Usage" page in Integration 
Server Administrator is broken.

On Integration Server Administrator > Server > Service Usage page, 
the link to a service breaks when the CSRF guard is enabled.

This issue is now resolved.

PIE-72420 (IS_10.7_Core_Fix6)
The "Return to Packages Management" and "Browse services in <Package name>"
links in Integration Server Administrator are missing.

On the Integration Server Administrator -> Packages -> Management -> <Package
name> page, the "Return to Packages Management" and "Browse services in 
<Package name>" links are missing when the CSRF guard is enabled.

This issue is now resolved.

PIE-72441 (IS_10.7_Core_Fix6)
Integration Server Administrator responds slowly to a login attempt or a reload
of the homepage when metering is enabled. 

When metering is enabled, Integration Server periodically performs a "dry run"
of sending data to the webMethods Metering Server. During a dry run, Integration
Server simulates a connection to the webMethods Metering Server. Integration
Server performed a metering dry run after a user logs in to Integration Server
and when a user reloads the home page, resulting in a slow response to the login
attempt or the reload request. 

To prevent this delay, Integration Server now caches the results of the last dry
run and uses them after a login attempt or the request to reload the home page. 

PIE-72497 (IS_10.7_Core_Fix6)
Internal environmental variable not exported correctly to the startup script for
an Integration Server running in a Docker container. 

The startup scripts for an Integration Server running in a Docker container sets
an internal environment variable to notify processes executing within
Integration Server that it is being run in a container. However, the variable
was not exported to the startup script properly and was therefore not available
to the Integration Server. 

This issue is now fixed.

PIE-72511 (IS_10.7_Core_Fix6)
The default access settings for an HTTP port is not restored in Integration 
Server Administrator. 

On both new (<host:port>/WmAdmin) and legacy (<host:port>/WmRoot) Integration 
Server Administrator, enabling CSRF Guard breaks the "Reset to default access 
settings" link on the Security/Server > Ports > Edit Access Mode >
[http_port_name] page. Hence, the user cannot restore the default access 
settings for an HTTP port. 

The issue is resolved now.

PIE-72512 (IS_10.7_Core_Fix6)
The "Edit Account Locking Settings" link opens the "Password Expiration
Settings" page in Integration Server Administrator. 

On Integration Server Administrator > Security > User management > Account 
Locking Settings, the "Edit Account Locking Settings" link opens the "Password 
Expiration Settings" page instead of the "Edit account locking settings" page 
when the CSRF Guard is enabled. 

This issue is now resolved.

PIE-72513 (IS_10.7_Core_Fix6)
The SFTP Client Version in Integration Server Administrator is "Version 
1" instead of "Version 2". 

When CSRF Guard is enabled, the default SFTP Client Version on both new (<host:
port>/WmAdmin) and legacy (<host:port>/WmRoot) Integration Server Administrator 
is "Version 1" instead of "Version 2". 

This issue is now resolved. The default is "Version 2".

PIE-72539 (IS_10.7_Core_Fix6)
After applying a fix that includes PIE-67094, startup services for a deployed
package run twice if the package already exists in the destination environment. 

This issue is now fixed. After deployment, startup services for a package
execute only if the package is new to the environment. 

PIE-72596 (IS_10.7_Core_Fix6)
A user belonging to the Administrators group but not the Developers group cannot
access the Server > Log pages in Integration Server Administrator. 

This issue is now resolved.

PIE-72598 (IS_10.7_Core_Fix6)
Updates to webMethods Metering to exclude transactions for services in the WmMFT
package. 

PIE-72677 (IS_10.7_Core_Fix6)
After migrating to Integration Server 10.7, direct invocation of the OAuth token
endpoint service fails. 

If the redirection endpoint is a service on the Integration Server that is
acting as the OAuth authorization server, rather than issuing an HTTP or HTTPS
call, it is more efficient for that service to directly invoke
pub.oauth:getToken, the OAuth token endpoint service. However, after installing
a fix or migrating to a release that includes PIE-52533, this is no longer
working for confidential clients. The confidential client receives the error
message, "The authorization code supplied with the request was not issued to
this client." 

PIE-52533 updates Integration Server so that the OAuth token endpoint handles
client credentials in token requests in conformance with RFC 6749, the OAuth
specification. Specifically, PIE-52533 ensures that the authorization code
provided to the OAuth token endpoint service was issued to the client making the
request. 

While this is more secure and brings Integration Server behavior into accordance
with RFC 6749, the OAuth specification, the change may cause existing
implementations to end with the following error when the redirection endpoint
was directly invoking the OAuth token endpoint service located on the same
Integration Server: 

[ISS.0010.8039] The authorization code supplied with the request was not issued
to this client. 

This error now occurs because the change for PIE-52533 required confidential
clients doing an invoke of the token endpoint service to include their client_id
and client_secret in the input pipeline passed to the token endpoint service.
That is, a service functioning as the redirection endpoint that invoked the
token endpoint service on the same Integration Server needed to be updated to
include client_id and client_secret in the invocation pipeline. Integration
Server uses the client_id and client_secret information to ensure that the
client making the token request is the client to which the authorization code
was issued. 

Because it may not be practical to update existing solutions, Integration Server
now includes a server configuration parameter to control whether or not
Integration Server verifies that the confidential client supplying the
authorization code to the OAuth token endpoint service is the client to which
the authorization code was issued. 

watt.server.oauth.token.endpoint.local.requireSecret
Specifies whether Integration Server ensures that authorization code provided by
a confidential client invoking the OAuth token endpoint service was issued to
the confidential client when the OAuth token endpoint service is invoked
directly because it is on the same Integration Server acting as the OAuth
authorization server. When set to true, Integration Server uses the credentials
supplied by the requesting client to ensure that the authorization code provided
by the client requesting the OAuth token matches the credentials of the client
that requested the authorization code. The client_id and client_secret must be
in the input pipeline passed to the token endpoint service. When set to false,
Integration Server does not ensure that the authorization code provided by the
client matches the credentials of the client that actually requested the token.
The default is false, which is less secure. 

You do not need to restart Integration Server for changes to
watt.server.oauth.token.endpoint.local.requireSecret to take effect. 

Note: The watt.server.oauth.token.endpoint.local.requireSecret value applies
when getting an initial access token and when using a refresh token to get a new
access token. 

Note: Public clients doing an invoke of the token endpoint service on the same
Integration Server as the redirection endpoint must continue to include their
client_id in the input pipeline passed to the token endpoint service. 

Clients that use HTTP or HTTPS to request an access token from the OAuth token
endpoint must continue to send these requests as they have been. 
- Confidential clients must use their client_id and client_secret in the HTTP
Authorization header. 
- Public clients must include their client_id in the body of the request.

PIE-72782 (IS_10.7_Core_Fix6)
Deployment fails with a ServiceException when attempting to deploy assets to a
target server that does not have a pub-sub license. 

An attempt to deploy assets to a target server that does not have a pub-sub
license, such as an API Gateway, fails with a ServiceException and the following
error message: 

[ISS.0153.9012] The webMethods Messaging subsystem was not initialized. No
webMethods Messaging features are available. See server log for more details. 

This occurs even when messaging aliases are not selected for deployment.

PIE-72982 (IS_10.7_Core_Fix6)
A JMS trigger fails with "JMS Trigger <trigger_name> failed preprocessing: 
java.lang.NumberFormatException: Null is not a valid int". 

When a JMS trigger that uses RabbitMQ as the JMS provider receives a message 
without a value in the message priority field, the JMS trigger fails with the 
exception. 

The issue is resolved. Now, Integration Server sets the message priority 
value as 4 for the JMS messages for which the parsing fails with 
java.lang.NumberFormatException while retrieving the message priority.

PIE-73112 (IS_10.7_Core_Fix6)
A few Integration Server classes listed in the whitelistclasses.xml file were
removed after installing an Integration Server fix. 

This issue is now resolved. The removed classes have been re-added to the
whitelistclasses.xml file. 

PIE-73136 (IS_10.7_Core_Fix6)
The metering simulator fails to initialize when services, schedulers, or
triggers are invoked. 

When the "watt.server.metering.simulator.enabled" server configuration parameter
is set to "true" and services, schedulers, or triggers are invoked, the metering
simulator fails to initialize with NullPointerException. 

This issue is now resolved.

PIE-73255 (IS_10.7_Core_Fix6)
Integration Server decodes the "+" character into a space character.

Integration Server decodes the "+" character to a space character in the
payload of an OpenAPI request.

This issue is now resolved.

PIE-73274 (IS_10.7_Core_Fix6)
Integration Server throws NullPointerException during service auditing.

When the service custom fields logger, which is an internal audit logger that
logs the specified input and output field values is not present, Integration
Server throws a NulPointerException during service auditing. 

This issue is now resolved.

PIE-73283 (IS_10.7_Core_Fix6)
The canceled task Process Engine Storage Cleaner runs once even after
Integration Server enters the quiesce mode.

This issue is now resolved.

PIE-73308 (IS_10.7_Core_Fix6)
The resolution for PIE-72497 does not solve the issue for Microservices Runtime.

The startup scripts for an Integration Server or Microservices Runtime running
in a Docker container sets an internal environment variable to notify processes
executing within Integration Server/Microservices Runtime that it is being run
in a container. The solution for PIE-72497 ensured that the variable was
exported to the startup script properly and therefore available to the
Integration Server. However, this did not solve the issue for Microservices
Runtime. 

The startup scripts for Microservices Runtime running in a Docker container now
set the internal environment variable correctly. 

PIE-73420 (IS_10.7_Core_Fix6)
When Integration Server exits the quiesce mode, the dependent packages 
occasionally load in an incorrect order.

This issue is now resolved.

PIE-72310 (IS_10.7_Core_Fix6)
Depending upon the size and complexity of a document, Integration Server might
take a long time to encode the document using the Integration Server binary or
XML protocols. 

This issue is now resolved.

PIE-69668 (IS_10.7_Core_Fix6)
Option to determine object equality for IData objects might offer performance
improvements with flow services that process large and complex data. 

Integration Server provides a new implementation for determining object quality
for IData objects. The new implementation may improve performance where services
process very large and complex data. Set watt.client.hashcode.legacy to false to
use the new implementation. Set watt.client.hashcode.legacy to true to use the
existing, legacy implementation. The default is true. You must restart
Integration Server for changes to this parameter to take effect. 

PIE-70572 (IS_10.7_Core_Fix6)
Statistics Data Collector cannot delete all old data at one time.

When the Statistics Data Collector attempts to delete all old data in a single
execution, the attempt fails because it would require extending the undo
tablespace. 

To resolve this issue, Statistics Data Collector deletes old data in batches
using a scheduled system task that runs every 4 hours. (Note this is a JVM
system task, not an Integration Server system task). For every scheduled delete
task, Statistics Data Collector deletes the batches of data collected over a 4
hour period starting with the oldest data. The delete task performs batch
deletions every 30 seconds until all data older than the retention date is
removed. 

Note: The retention date is controlled by the retentionDays parameter in the
IntegrationServer_dir/instances/instanceName/config/monitor/monitor.cnf. 

PIE-71791 (IS_10.7_Core_Fix6)
After upgrading to a new Cloud version, sometimes a flow service does not work
until it is resaved. 

This issue is now resolved.

PIE-71912 (IS_10.7_Core_Fix6)
An http request that follows a DELETE request fails with HTTP/1.1 400
[ISC.0064.9101] Bad Request. 

When Integration Server receives a DELETE request and the code handling the
request does not consume the entire request body, the remaining request body is
left in the input stream. When a subsequent request arrives on the same
connection, the request fails with the following error: HTTP/1.1 400
[ISC.0064.9101] Bad Request. The request is treated as invalid because the
leftover data from the DELETE request is used as the beginning of the subsequent
request. 

Now, Integration Server discards any unread data when it is done handling a
DELETE request. 

PIE-72160 (IS_10.7_Core_Fix6)
A NullPointerException occurs when applying a configuration variables template
to a new or containerized instance of Microservices Runtime. 

When Microservices Runtime applies a configuration variables template that
creates new assets to a new instance or a containerized instance, Microservices
Runtime first checks whether a certain configuration file already exists before
creating new asset. The configuration check fails with a FileNotFoundException
because the subdirectory under /config that Microservices Runtimes checks for
does not yet exist. 

This issue is now resolved. Configuration checks now account for new or
containerized instances where subdirectories under /config might not yet exist. 

PIE-72221 (IS_10.7_Core_Fix6)
Attempt to create a Universal Messaging connection alias using configuration
variables fails with NullPointerException. 

When Microservices Runtime attempts to create a Universal Messaging connection
alias through application of a configuration variables template, the attempt
fails with NullPointerException if the template does not include username and
password. 

This issue is now resolved.

PIE-72661 (IS_10.7_Core_Fix6)
Incorrect password used for keystore and truststore aliases with the same name
but different passwords. 

If a keystore alias and a truststore alias have the same name, Integration
Server uses the same password handle for both aliases. However, when the
keystore and truststore alias have different passwords, Integration Server might
use the wrong password for the alias. 

Now, Integration Server always uses different password handles for keystore and
truststore aliases. 

PIE-71872 (IS_10.7_Core_Fix6)
Updates to webMethods Metering for enabling metering based on the license key.

PIE-72015 (IS_10.7_Core_Fix6)
Integration Server logs an entry in the server log, even when no requests are 
waiting on the API Gateway registration port.

Integration Server logs an entry in the server log as "0 Requests are waiting"
when no requests are waiting on the API Gateway registration port, which might
trigger a false positive alarm.

This issue is now resolved. Integration Server does not log any entry in the 
server log when no requests are waiting on the API Gateway registration port.

PIE-72273 (IS_10.7_Core_Fix6)
When migrating an Integration Server instance from 10.7 or above to a later
version, the monitor.cnf file is not migrated. 

The monitor.cnf, which was added in 10.7, contains configuration for the
Statistics Data Collector and is located at
\IntegrationServer\instances\<instanceName>\config\monitor. When migrating from
Integration Server 10.7 to a later version, the monitor.cnf is not migrated. 

This issue is now resolved.

PIE-66298 (IS_10.7_Core_Fix5)
Integration Server does not provide a helpful exception when an email port
cannot be enabled. 

An email port (also called an email listener) might fail to enable if there are
problems with provided credentials or the truststore used with the port.
Integration Server does not indicate what prevents the port from starting. 

Now, when an email port cannot be enabled, Integration Server displays an
exception indicating what caused the failure. 

PIE-67581 (IS_10.7_Core_Fix5)
Integration Server incorrectly handles LOOP steps for a flow service.

Consider a flow service that accepts inputs as two document lists (doc1 and 
doc2), and both of them reference the same document (doc3). Now, while 
inserting a LOOP step to this flow service and modifying the input for doc1, 
Integration Server must only modify the input pipeline for doc1; however, 
Integration Server modifies the input pipeline for doc2 as well.

This issue is resolved now.

PIE-67768 (IS_10.7_Core_Fix5)
Change to OData to write query options from $select parameter to the server log.

When a GET request that includes the query parameter $select is received by an
OData service created using external entities, Integration Server writes the
query options from the $select parameter to the server log in name=value pairs.
For example: 

[ISS.0158.0054I] (tid=353) Following are the query options for the OData service
request: 
$orderby = null
$top = null
$skip = null
$inlinecount = null
$select = SKU

PIE-68029 (IS_10.7_Core_Fix5)
New Integration Sever Administrator displays a basic authentication pop-up.

A basic authentication popup appears in error when all of the following are
true: 

- The new Integration Server Administrator is in use
- The IS session has expired or Integration Server has restarted
- The web browser makes connection request for logging in to Integration Server
Administrator 

This issue is now fixed.

PIE-68168 (IS_10.7_Core_Fix5)
The pub.flow:getLastError service output is not populated.

In rare circumstances, unusual internal server errors that occur while a flow
service is invoking another service prevent the pub.flow:getLastError service
output from being populated. 

This issue is now resolved. The rarely occurring, unusual error is now handled
by flow in the same way as typical errors. 

PIE-68273 (IS_10.7_Core_Fix5)
Enhancement to HTTP logging to write the log in common log format or combined
log format. 

The HTTP logging provided by Integration Server does not capture the client IP
address related to a request/response pair. To address this, Integration Server
HTTP logging can be configured to write entries that conform to the common log
format, the combined log format, or the existing legacy format. 

When HTTP logging is enabled, Integration Server writes a single entry for each
HTTP/S request/response pair to the following file:
IntegrationServer/instances/<instance_name>/logs/http.log. 

Whether or not Integration Server performs HTTP logging and in what format is
controlled by the watt.server.httplog server configuration parameter. Set the
parameter to one of the following values: 
common - Integration Server writes HTTP log entries that conform to the common
log format. 
combined - Integration Server writes HTTP log entries that conform to the
combined log format. 
custom - Integration Server writes HTTP log entries in the legacy format that
was used for HTTP logging prior to this fix.
 
Prior to this fix, the possible values for watt.server.httplog were true or
false. These values can still be used. When set to true, Integration Server
writes HTTP log entries in the legacy format that was used for HTTP logging
prior to this fix. When set to false, Integration Server does not perform HTTP
logging. 

When the watt.server.httplog server configuration parameter is set to any value
besides common, combined, custom, or true, or set to no value at all,
Integration Server does not perform HTTP logging. 

There is no default value for watt.server.httplog which means HTTP logging is
not performed by default. 

You do not need to restart Integration Server for changes to the
watt.server.httplog parameter to take effect. 

PIE-68782 (IS_10.7_Core_Fix5)
Integration Server incorrectly processes LOOP steps for a recursive document.

In Designer, consider a recursive document whose children are document lists and 
a flow service containing a LOOP step that accepts this recursive document as an 
input. If the LOOP step is looping over a particular level of documents, 
Integration Server must consider all the documents until that level as single 
(scalar) documents and the remaining children as document lists. Instead, 
Integration Server considers all the documents as single documents in the 
pipeline. Due to this, users cannot map these documents to the document lists.

This issue is resolved now.

PIE-68830 (IS_10.7_Core_Fix5)
When Integration Server loads the WmTN package, it does not synchronize the WmTN 
document types to Universal Messaging and results in the following error.
[ISS.0153.0108E] webMethods Messaging trigger <trigger_name> was unable to 
subscribe to UM channel: com.wm.app.b2b.server.dispatcher.exceptions.
MessagingSubsystemException:
com.pcbsys.nirvana.client.nChannelNotFoundException: 
Channel could not be found on the server:Find :
/wm/offline/wm/tn/rec/TaskFailure 

This issue is resolved now. Now, while loading a WmTN package Integration Server 
synchronizes the WmTN document types to Universal Messaging by invoking a WmRoot 
service (checkAndSyncInternalDocs). To complete resolution of this fix, you must 
also install the latest TN fix that includes OTN-22212.

PIE-69051 (IS_10.7_Core_Fix5)
In the new Integration Server Administrator, clicking some links on the
Enterprise Gateway pages results in NullPointerException. 

When clicking the Edit Device Types link or the Edit Mobile Applications link on
the Security > Enterprise Gateway rules > Mobile application protection options
page, Integration Server throws NullPointerException. 

This issue is now resolved.

PIE-69097 (IS_10.7_Core_Fix5)
This fix provides the following additions and enhancements to the 'alert'
services.

Added services

pub.alert:deregisterChannel: Deregisters a registered custom alert channel.
pub.alert:registerChannel: Registers a custom alert channel.
pub.alert:getChannel: Gets the details of a specific channel.
pub.alert:updateChannel: Updates the settings of a registered custom channel.

Modified services

pub.alert.notifier:create and pub.alert.notifier:update - These services now
include the consumptionMode and autoMark input parameters. These are optional.

consumptionMode specifies whether notifications are created for all alerts
or only the latest alerts.
autoMark specifies whether notifications are automatically marked as read
or a user must do it manually.
The channelIDs parameter now accepts channel IDs as array elements instead
of comma-separated values.
The severityCutoff parameter now accepts a severity name instead of the
severity cutoff identifier.

pub.alert.notifier:list - The service now includes the consumptionMode
and autoMark parameters in the output.

pub.alert:channels - Each channel now has two additional parameters:

emissionEnabled indicates whether alerts are emitted for the channel
and stored in the database or not.
systemNotificationEnabled indicates whether notifications are enabled or not
for a channel.
This service now lists 13 alert channels instead of 10. The additional alert
channels are Metering Log, User Management, and Master Password.

pub.alert:countAll - This service now includes the optional filter parameters
to get the count of a subset of all alerts in the system.

pub.alert:countUnread - This service now includes the notifierName and filter
parameters to get the count of unread alerts for a notifier or a subset of the
unread alerts. Both the parameters are optional and can be used independently
or together.

pub.alert:fetchAll - The service now includes the optional filter parameters to
fetch a subset of all the alerts in the system. The service also includes the 
sortBy and sortOrder optional input parameters to sort the fetched alerts.

pub.alert:fetchUnread - The pub.alert:fetch service is renamed to
pub.alert:fetchUnread, which now includes the notifierName and filter parameters
to fetch the unread alerts for a notifier or a subset of the unread alerts.
Both the parameters are optional and can be used independently or together.
The service also includes the sortBy and sortOrder optional input parameters to
sort the fetched alerts.

pub.alert:channels - The service now includes the description, emissionEnabled,
and systemNotificationEnabled output parameters for each channel.

pub.alert:getSettings - The enabledEmissionChannels and
enabledSystemNotifierChannels parameters in the service output display channel
IDs as an object list and not as comma-separated values.

pub.alert:setSettings - The enabledEmissionChannels and
enabledSystemNotifierChannels input parameters in the service accept channel
IDs as array elements and not as comma-separated values.

For more information, see the webMethods Integration Server Built-In Services
Reference guide, version 10.7.

PIE-69259 (IS_10.7_Core_Fix5)
New public service to synchronize publishable document types with Universal
Messaging including updating the protocol buffer descriptor prior to
synchronizing. 

pub.utils.messaging:syncDocTypesToUM
WmPublic. Synchronizes one or more publishable document types with the
associated provider definition (channel) on Universal Messaging. For each
publishable document type with an encoding type of protocol buffers, the
service: 
- Creates an updated protocol buffer definition
- Compiles the updated definition into an updated protocol buffer descriptor
- Sends the updated protocol buffer descriptor to Universal Messaging
This is different from pub.publish:syncToProvider which synchronizes the
existing protocol buffer descriptor with Universal Messaging. 

Input Parameters

reportOnly - java.lang.Boolean Optional. Indicates whether the service updates
and synchronizes the protocol buffer descriptors with Universal Messaging and
returns a summary of the changes or if the service returns only a summary
without making any changes. Set to: 
- true to return a summary of the publishable document types for which the
service would successfully and unsuccessfully update the protocol buffer
descriptor, including the errors and warnings that would be encountered. The
service does not update any protocol buffer descriptors. This is the default. 
- false to update the protocol buffer descriptor for the selected document types
and synchronize the protocol buffer descriptor with the associated channel on
Universal Messaging. The service returns a summary of the changes. 

backupPackages - java.lang.Boolean Optional. Indicates whether the service
creates a package archive for each package affected by this service prior to
creating a new protocol buffer definition for the publishable document types.
Set to: 
- true to create an archive for each package that contains a publishable
document type that will be updated by this service. The archive will be named
packageName.zip_timeStamp and placed in the following directory: Integration
Server_directory \instances\instance_name\replicate\archive. This is the
default. 
- false to skip creating an archive of each affected package before making
updates. 

Important: Software AG recommends that you set backupPackages to true when
reportOnly is set to false if you have not taken other measures to back up the
packages containing the publishable document types to be synchronized using the
pub.utils.messaging:syncDocTypesToUM service. After the service executes
successfully, restoring from a backup file is the only way to revert a change
made by the service. 

packageNames - String List Optional. Name of the packages containing the
publishable document types that you want to synchronize. 
The packageNames and documentTypesNames input parameters are mutually exclusive.
If you specify a value for both parameters, the service fails with an exception.
If you do not specify a value for either, the service updates publishable
document types that use the protocol buffer encoding type in all packages that
do not start with the letters "wm" in any case combination. 

documentTypeNames - String List Optional. Fully qualified names of the
publishable document types that you want to synchronize. 

Output Parameters

affectedPackages - Document Conditional. An IData containing key=value pairs
that identify the packages impacted by the synchronization and the name of the
archive created for the package. The service returns an archive name only if
reportOnly is set to false and backupPackages is set to true. The archive will
be named packageName.zip_timeStamp and will be located in the following
directory: Integration Server_directory
\instances\instance_name\replicate\archive. 
The service returns affectedPackages only if the service finds at least one
publishable document type to update and synchronize. 

failedPackages - Document List Conditional. List of the packages that could not
be archived. If Integration Server cannot create a package archive for any of
the affected packages, the service ends with an error and nothing is migrated. 
The service attempts to archive a package only when backupPackages is set to
true. 
The service returns the failedPackages parameter only if one of the following
occurs: 
-  The backupPackages input parameter is set to true and an error prevented the
service from archiving at least one package. 
-  A package listed in the packageNames input parameter did not contain any
publishable document types to update. 

failedPackges/package - String Name of the package that the service could not
archive because of an error. 

failedPackages/errors - String Text of the error message that caused package
archiving to fail. 

updatedDocumentTypes - Document List Conditional. List of the publishable
document types updated by the service.The service returns the
updatedDocumentTypes parameter only if the service updated one or more
publishable document types. 

updatedDocumentTypes/package - String Name of the package containing the updated
publishable document type. 

updatedDocumentTypes/name - String Fully qualified name of the updated
publishable document type. 

skippedDocumentTypes - Document List Conditional. List of the publishable
document types that were not updated because there were no changes to make. Some
reasons the service might skip a publishable document type include, but are not
limited to: 
  The publishable document type uses a Broker connection alias.
- The publishable document type does not use protocol buffers as the encoding
type. 
- Values were not specified for either the packageNames or the documentTypeNames
input parameters and Integration Server found publishable document types in
packages whose names started with the letters "wm" in any case combination 
The service returns the skippedDocumentTypes parameter only if the service
skipped updating one or more publishable document types. 

skippedDocumentTypes/package - String Name of the package containing the skipped
publishable document type. 

skippedDocumentTypes/name - String Fully qualified name of the skipped
publishable document type. 

skippedDocumentTypes/reason -String Message indicating why the service did not
update the publishable document type. 

failedDocumentTypes - Document List Conditional. List of the publishable
document types that the service could not update because of an error. The
service returns the failedDocumentTypes parameter only if there were one or more
publishable document types that the service could not update because of an
error. 

failedDocumentTypes/package - String Name of the package containing the
publishable document type that the service could not update because of an error. 

failedDocumentTypes/name - String Name of the publishable document type that the
service could not update because of an error. 

failedDocumentTypes/errors - String Text of the error message that prevented the
service from updating the publishable document type. 

providerSyncResults - Document List Conditional. Results of synchronizing the
updated publishable document types with the messaging provider. The service only
produces this output parameter when reportOnly is set to false and the service
updated at least one publishable document type. 

providerSyncResults/successfulPDTs - String List Fully qualified names of the
publishable document types that the service synchronized successfully with the
messaging provider. 

providerSyncResults/unsuccessfulPDTs - String List Fully qualified names of the
publishable document types that the service did not synchronize successfully
with the messaging provider. 

providerSyncResults/errors - Document List List of any errors that occurred
during document type synchronization. 

providerSyncResults/warnings -Document List List of any warnings that occurred
during document type synchronization. 

Usage Notes

The pub.utils.messaging:syncDocTypesToUM service can be useful for updating the
protocol buffer descriptors for multiple publishable document types at once. For
example, if an Integration Server fix alters the way in which a protocol buffer
descriptor is generated, to see the full effect of the fix, you would need to
edit all of the publishable document types that use the protocol buffer encoding
type, save them to cause an updated protocol buffer definition to be created and
the updated protocol descriptor to be compiled, and then sync the publishable
document types with the provider. While this can be done on an individual
publishable document type basis with Designer, using the
pub.utils.messaging:syncDocTypesToUM service enables the updating and
synchronizing of many publishable document types at one time. 

The pub.utils.messaging.syncDocTypesToUM updates publishable document types
contained in packages that begin with "Wm" when the document type is
specified in documentTypeNames or the package is specified in packageNames only. 

The pub.utils.messaging:syncDocTypesToUM service synchronizes the updated
protocol buffer descriptor for a publishable document types with the
corresponding Universal Messaging channel. Be sure to review the contents of
providerSyncResults/errors and providerSyncResults/warnings for errors and
warnings that Integration Server generated during synchronization. 

If Integration Server did not successfully synchronize an updated publishable
document type use the returned errors in providerSyncResults/errors to determine
why Integration Server could not synchronize the publishable document type.
Then, fix the cause of the error and synchronize the publishable document type
with the messaging provider. You can synchronize documents using Designer or by
executing the pub.publish:syncDocTypesToUM service. 

The pub.utils.messaging:syncDocTypesToUM service will not modify any publishable
document types or webMethods messaging triggers that are locked for edit by
another user or checked out at the time the service executes. 

To use the pub.utils.messaging:sycnDocTypesToUM service to update a publishable
document type, the user or client invoking the service must have Write access to
the publishable document type. 

To generate additional logging information in the Server log when the
pub.utils.messaging:sycnDocTypesToUM service executes, set the logging level for
the server log facility 0154 Protocol Buffer Encoding (Universal Messaging) to
Debug or Trace. 

PIE-69287 (IS_10.7_Core_Fix5)
When a GraphQL resolver service results in an error, the details of the error
are missing in the output of the service. 

This issue is resolved now.

PIE-69462 (IS_10.7_Core_Fix5)
Restarting Integration Server restores the removed My webMethods Server (MWS)
roles. 

Users can remove the "My WebMethods Administrator" and "My WebMethods Users" 
default roles from an ACL in Integration Server and add custom roles. However,
restarting Integration Server restores the removed default roles.

This issue is now resolved by introducing the
"watt.server.removeDefaultMWSRolesInISACL" server configuration parameter. 
By default, the value of the parameter is "false". Set the parameter to "true" 
to exclude the default MWS roles from an ACL.

Restart Integration Server for the change to take effect.

PIE-69494 (IS_10.7_Core_Fix5)
For a REST API call, Integration Server logs the request payload and the
response body in the server log.

The request payload and the response body might contain sensitive information
that must not be exposed. However, Integration Server logs the request payload
and the response body in server logs.

The issue is now resolved by changing the Logging Level for Integration Server
from "Info" to "Debug".

PIE-69570 (IS_10.7_Core_Fix5)
Integration Server throws the following error while sending a keep-alive message 
to the specified destination on the JMS provider.
"[ISS.0134.0096E] Could not create Destination to Ping Connection Alias 
:com.wm.app.b2b.server.jms.ResourceUnavailableException: [ISS.0134.9073] JMS 
connection alias <Alias_Name> is disabled."

When the server configuration parameter, 'watt.server.jms.connection.
pingDestination' is set to '<destinationName>', Integration Server performs a 
lookup for the destination before setting the destination for the connection 
alias. However, Integration Server cannot perform a lookup for the destination 
and ping the destination.

This issue is now resolved.

PIE-69599 (IS_10.7_Core_Fix5)
The /metrics endpoint does not return Prometheus metrics for a layered product
unless the package for the layered product is reloaded after Integration Server
starts up. 

The /metrics endpoint gathers and returns statistics about Integration Server
and layered products (those products that reside on top of Integration Server
such as ActiveTransfer) in a Prometheus format. However, a call to the /metrics
endpoint returned metrics for layered products configured to provide metrics
only if the layered product package (such a WmMFT) was reloaded after
Integration Server started up. Package reload should not be required for metrics
to be returned by a layered product. 

This issue is now resolved.

PIE-69605 (IS_10.7_Core_Fix5)
Integration Server becomes unresponsive when pub.xml:xmlStringToXMLNode receives
invalid XML. 

When the pub.xml:xmlStringToXMLNode service receives invalid XML as input, the
JVM might hang which causes Integration Server to become unresponsive. 

This issue is now resolved. The pub.xml:xmlStringToXMLNode service now handles
invalid XML in such a way to prevent the JVM from hanging and Integration Server
from becoming unresponsive. 

PIE-69651 (IS_10.7_Core_Fix5)
Scheduled tasks on Integration Server do not resume after a temporary database
outage. 
 
After the database recovers from an outage or it is restarted, Integration
Server does not automatically connect to the database and requires a restart.
Hence, scheduled tasks do not resume automatically. 
 
This issue is now resolved.

PIE-69662 (IS_10.7_Core_Fix5)
Creating a consumer REST API Descriptor (RAD) from a 
swagger document results in a stack overflow exception.

In Designer, creating a consumer RAD from a swagger 
document that has a self-referenced schema results in a 
stack overflow exception, and the swagger document is 
not imported.

This issue is now resolved.

PIE-69744 (IS_10.7_Core_Fix5)
Delete REST API requests with an empty body result in NullPointerException.

When a REST API is invoked with the DELETE method, content-type as
'application/json', and no request body, Integration Server throws
'java.lang.NullPointerException'.

This issue is now resolved.

PIE-69861 (IS_10.7_Core_Fix5)
LDAP queries take longer than expected to retrieve user or group information. 

To display user information on the 'User Management' page in Integration Server
Administrator, Integration Server internally queries the associated LDAP server
and fetches all attributes instead of only the required attributes, which
results in an unexpected delay. For example, the following LDAP query to get the
group membership of the user - 'userName0001' retrieves all attributes, whereas
only {cn} or 'common name' attribute is required. 

Starting node: cn=groups,dc=CompanyName 
Filter: (member=uid=userName0001,CN=qp-customers,CN=customers,C=at,
DC=CompanyName) 
Search scope: subtree 
Returning Attributes: ALL 

This issue is now resolved by optimizing queries to fetch only the necessary 
attributes.

PIE-69901 (IS_10.7_Core_Fix5)
The /metrics endpoint returns an error when a layered product that gathers and
returns statistics is disabled. 

The /metrics endpoint gathers and returns statistics about Integration Server
and layered products (those products that reside on top of Integration Server
such as adapters and webMethods Trading Networks) in a Prometheus format. When
the package for a layered product is disabled, a call to the /metrics endpoint
results in NullPointerException and does not return statistics for Integration
Server or other layered products. Additionally, Integration Server does not
provide any information as to the cause of NullPointerException. 

Now, when the /metrics endpoint is called and the package for a layered product
that gathers and returns Prometheus metrics is disabled, Integration Server logs
the following errors: 
ISS.0085.931 Could not retrieve prometheus statistics for product
\<productName>, because its package, <packageName>, is disabled or deleted. All
Prometheus stat providers should be unregistered before their sources are made
no longer available. 
ISS.0085.9319 Could not retrieve prometheus statistics for product <productName>
because its getPackage() method returned a null value. 

Additionally, Integration Server returns metrics for Integration Server as well
as any layered products whose packages are not disabled. 

PIE-69908 (IS_10.7_Core_Fix5)
Serial webMethods messaging triggers can process messages out of order.

On Universal Messaging, when the client window size for the listener
corresponding to a trigger is > 1 and the durable type is serial, messages can
be sent to one trigger only. However, that trigger can receive multiple
messages. The trigger writes these messages to a local queue, and another thread
reads from the queue and processes the messages in the order they were received.
To maintain serial processing order, the trigger retrieves messages from the
queue and processes them using a single thread. However, if there is any type of
disruption to the connection to Universal Messaging and the queued messages need
to be rolled back from Integration Server, there is no guarantee that the
messages will be redelivered in the same order. Consequently, a serial trigger
can process messages out of order. 

To resolve this issue and ensure serial processing even when connection
disruptions occur, the client window size on Universal Messaging needs to be set
to 1. Universal Messaging will delivery only one message at a time to the
listener and therefore the trigger. Currently, the serial webMethods messaging
trigger does not set the client window size. Instead, the trigger relies on the
default value set on the Universal Messaging server, which is 100. Note this
value is configurable from Enterprise Manager via Cluster Config >
ClientQueueWindow. Integration Server now sets the client window size to 1 when
the webMethods messaging trigger is serial. This setting will override the value
set on the Universal Messaging server. This ensures that a serial webMethods
Messaging trigger will always receive messages in order even when the connection
is disrupted. 

PIE-69966 (IS_10.7_Core_Fix5)
Integration Server decodes a percent-encoded forward slash in a REST request URI
inconsistently.

Integration Server must use the percent-encoded forward-slash (%2F or %2f) in a
REST request URI as is. However, when a REST request URI has %2f, Integration 
Server converts it to forward-slash "/", which is incorrect.

This issue is now resolved.

PIE-70105 (IS_10.7_Core_Fix5)
webMethods Metering updates to exclude WmSAP services from counted transactions.

PIE-70117 (IS_10.7_Core_Fix5)
Incorrect keystore provider is displayed while editing the keystore properties
in Integration Server Administrator.

While editing the Keystore properties in Integration Server Administrator, the
Provider corresponding to the Type must be displayed. However, the first value
in the Provider drop-down list is displayed regardless of the Type selected.

This issue is now resolved.

PIE-70160 (IS_10.7_Core_Fix5)
The watt.server.terracotta.license.path parameter specifies the location of the
Teracotta license file. If the path to the file does not include a folder named
"Terracotta", migration fails with a StringIndexOutOfBoundsException.

The issue is now resolved. If the watt.server.terracotta.license.path parameter 
on the source Integration Server points to a license file inside the 
Integration Server installation directory
(<install_dir>/..../terracotta-license.key), the migration utility migrates the 
parameter value to the target Integration Server, specifically 
<destination_install_dir>/..../terracotta-license.key.

However, if the watt.server.terracotta.license.path parameter value in the
source Integration Server points to a license file outside the Integration Server 
installation directory, then the migration utility does not migrate the value of
this parameter. The migration utility writes the following exception to the 
migration log:

Exception while updating the terracotta license path. Terracotta license path 
will not migrated.

PIE-70229 (IS_10.7_Core_Fix5)
Fields with a "null" value in a JSON file are absent in the document type 
generated from the JSON file.

In Designer, when you use a JSON file containing fields with a "null" value
to generate a document type, such fields are not present in the generated
document type.

This issue is now resolved. The fields with a "null" value in the JSON file
are defined as strings in the generated document type.

PIE-70263 (IS_10.7_Core_Fix5)
Using Asset Build Environment (ABE) for building single packages ends with a
failed build. 

A previous change to deployment to allow system Access Control Lists to be
deployed resulted in the inability of ABE to successfully build single packages
for export. 

This issue is now resolved.

PIE-70265 (IS_10.7_Core_Fix5)
After applying a fix that includes PIE-66922, some dependent packages do not
reload during repository-based deployment. 

The resolution to issue PIE-66922 prevented some packages from reloading
repeatedly during repository-based deployment. However, after applying a fix
that includes PIE-66922, some dependent packages do not reload at all. 

This issue is now fixed.

PIE-70341 (IS_10.7_Core_Fix5)
When migrating to an Integration Server version 10.7 from an earlier version,
the predefined truststore DEFAULT_JVM_TRUSTSTORE is not created but should be. 

This issue is now resolved.

PIE-70433, PIE-70434, PIE-70435, PIE-70436, PIE-70438, and PIE-70439 (IS_10.7_Core_Fix5)
Reflective cross-site scripting vulnerability in Integration Server
Administrator. 

This fix addresses a cross-site scripting vulnerability.

PIE-70494 (IS_10.7_Core_Fix5)
Integration Server does not handle multipart REST requests with large files.

Integration Server working as an OpenAPI provider does not handle multipart REST
requests with large files, which results in corrupted files.

This issue is now resolved.

PIE-70501 (IS_10.7_Core_Fix5)
The logging level for a message identifying enabled protocols for outbound
connections was Info which resulted in many messages in the server log. 

When establishing an outbound connection, Integration Server writes the
following Info level message identifying the protocols enabled for the
connection. 

[ISC.0006.0038I] (tid=<threadID>) Outbound SSL connection <port> is configured
to support protocols <list of supported protocols>. 

When this is an Info level message, the server log could contain many of these
messages. 

The logging level of this message has been lowered to Debug.

PIE-70523 (IS_10.7_Core_Fix5)
Updates to Integration Server Administrator:

As part of IS_10.7_Core_Fix5, the following additional options are available on 
the Server > Quiesce page.

- Disable Audit Logging: This allows you to disable the audit logging in the
quiesce mode.
- Disable System Tasks interacting with Database: This allows you to disable
system tasks in the quiesce mode.
- Disable Alerts and Notifications: This allows you to disable alerts and 
  notifications in the quiesce mode.
- Disable Statistics Data Collector: This allows you to disable the statistics 
  data collector in the quiesce mode.
Select these options for Integration Server to work with a read-only database as
part of a disaster recovery setup.

Note:
It is recommended to enter and exit the quiesce mode in the following manner:
1. Enter the quiesce mode, and then enable the database for read-only
operations. 
2. Enable the database for read-write operations, and then exit the quiesce
mode. 

For more information, see "webMethods Integration Server Administrator's Guide".

If you select the "Disable Alerts and Notifications" option on the Server >
Quiesce page and the server is in quiesce mode, alerts are not emitted, and 
running alerts and notifier services might throw an exception.

Updates to Deployer:

You can deploy the quiesce settings asset from a source repository to a target
Integration Server. The ID and supported substitution variables in quiesce
settings are:

Asset type ID - isquiescesettings

Substitution Values:

- portAlias: The Integration Server port to use as the quiesce port on the
target servers. Ensure that the port alias is associated with either the WmRoot
or the WmPublic package and is of type HTTP or HTTPS.
- systemTasksDisabled: Specifies whether the system tasks on the target servers 
  are disabled during quiesce mode. Default is false.
- alertingDisabled: Specifies whether alerts or notifications are disabled on
the target servers during quiesce mode. Default is false.
- auditingDisabled: Specifies whether audit logging is disabled on the target 
  servers during quiesce mode. Default is false.
- statisticsDataCollectorDisabled: Specifies whether the statistics data
collector is disabled on the target servers during quiesce mode. Default is 
false.
  
For more information, see the webMethods Deployer User's Guide.

Other changes:

The configuration types and configuration instances in SPM are updated with the 
new IS-QUIESCE-OPTIONS.
You can manage or configure the quiesce options for different Integration Server
instances centrally using Command Central.
You can also manage quiesce settings by invoking an Admin API with this
end-point: 
"http://server:port/admin/quiesce/config".

PIE-70531 (IS_10.7_Core_Fix5)
Updates to webMethods metering to exclude services in WmServiceMock package from
metering. 

PIE-70590 (IS_10.7_Core_Fix5)
During startup, Integration Server writes critical log level messages to the
configuration variables log when Integration Server does not have a
Microservices license. 

Integration Server writes the following log messages to the
configurationvariables.log at the Critical level when Integration Server does
not have a Microservices license: 

[ISS.0028.0103C] License file
/opt/webm1/IntegrationServer/instances/admin/config/licenseKey.xml is not
enabled for the Microservices functionality. 
[ISS.0028.0104C] Unable to perform configuration variables processing because
license is not valid. 

The above messages should not be written at the Critical level as an Integration
Server without a Microservices license does not have access to the configuration
variables features. 

Now, the above messages are Info level messages.

PIE-70621 (IS_10.7_Core_Fix5)
Incomplete navigation link title for a folder on the Set ACLs page in
Integration Server Administrator.

On Integration Server Administrator -> Packages -> Management -> Browse Folders,
the link to return to a folder from the SET ACLs page must be, 
"Return to browsing <folder name>". However, the link title is incomplete. For
example, the Set ACLs page displays "Return to browsing" instead of "Return to
browsing com", where com is the folder in Integration Server setup.

This issue is now resolved.

PIE-70641 (IS_10.7_Core_Fix5)
External Active Directory Federation Service (ADFS) user with a domain-based
login ID such as 'eur\user' is unable to log on to API Gateway Cloud.

Integration Server has been updated to support this use case for API Gateway
Cloud. 

PIE-70662 (IS_10.7_Core_Fix5)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs.

PIE-70709 (IS_10.7_Core_Fix5)
If a cache is configured to persist to disk and the cache manager to which the
cache belongs is deleted and then recreated with the same name, an attempt to
create a cache with the same name in the new cache manager fails with the
following error message: 

[ISS.0017.0018] The <cacheName> Cache already exists

This error occurs Integration Server did not delete the directory that held the
persisted information for the cache manager and its caches when the cache
manager was deleted. 

Now, when deleting a cache manager, Integration Server deletes the directory
that contains the persisted information for the cache manager and its caches. 

PIE-70713 (IS_10.7_Core_Fix5)
The diagnostic archive does not mask passwords.

When the diagnostic utility creates a diagnostic archive, passwords are
displayed in clear text in some of the files. 

The diagnostic utility now masks these passwords.

PIE-70725 (IS_10.7_Core_Fix5)
Integration Server does not reject unsigned SAML assertions.

Integration Server does not fail the authentication when it processes an
unsigned SAML assertion. This exposes Integration Server to the risk of someone
manipulating the SAML assertion by changing the contents of the SAML assertion. 

This issue is now resolved. Integration Server fails the authentication when
handling unsigned SAML assertion. Integration Server also writes the following
warning message to the server.log: 
[ISS.0012.0032W] Warning! Rejecting SAML assertion from issuer "<issuer_name>"
because the SAML assertion is not signed 

PIE-70758 (IS_10.7_Core_Fix5)
Server log contains access denied message when a Designer user belonging to the
Developers ACL connects to Integration Server. 

The internal service wm.server.packages:packageList that Designer uses to
display the packages on an Integration Server had the Administrators ACL
assigned to it. As a result, when a user with only Developer ACL privileges used
Designer to connect to Integration Server, Integration Server wrote the
following error to the server log: 

[ISS.0053.0002C] (tid=<threadID>) Access denied for user <userName> on port
<portNumber> -> 'wm-message' from <IPAddress>. 

This issue is now fixed. Users who belong to a group with only Developer ACL
privileges can use Designer to successfully connect to and view the contents of
packages in Integration Server. 

PIE-70832 (IS_10.7_Core_Fix5)
Integration Server loads the configuration specified in monitor.cnf only on
start up. 

The Statistics Data Collector can be configured through configuration parameters
available in the monitor.cnf which is located in Integration
Server_directory/instances/instanceName/config/monitor/. Integration Server load
this file only upon start up and not each time the Statistics Data Collector
restarts. 

Now, Integration Server loads the monitor.cnf file on start up and when the
Statistics Data Collector restarts. 

PIE-70870 (IS_10.7_Core_Fix5)
Diagnostic data retrieved for an Integration Server running in a Docker
container does not contain the server log. 

Now, the server.log is included in the diagnostic data returned for an
Integration Sever running in a Docker container. 

PIE-70877 (IS_10.7_Core_Fix5)
Updates to webMethods Metering to exclude WmPRT package services from metering.

PIE-70889 (IS_10.7_Core_Fix5)
On UNIX systems, if the internal service wm.server.util:remoteInvoke is passed
/dev/zero for the privKeyFile input, the service fails with an Out of Memory
issue and Integration Server shuts down. 

Now, Integration Sever performs input validation for the internal service
wm.server.util:remoteInvoke and reports an error if /dev/zero is detected for
the path for privKeyFile or any of the certificate file paths provided as input
to the service. 

PIE-70945 (IS_10.7_Core_Fix5)
Integration Server creates an invalid URL alias to access a resource when a
REST API Descriptor (RAD) is created or updated.

When a RAD is created or updated using an existing REST resource and the
'Base Path' is set to any of the Integration Server directives such as /restv2
or /rad, Integration Server creates an invalid URL alias with the directive
to access the REST resource. The incoming REST API requests that use the
directives are redirected to the RAD and the requests fail.

The issue is resolved now. A RAD is not saved if its 'Base Path' is set to
any of the Integration Server directives.

PIE-70972 (IS_10.7_Core_Fix5)
Integration Server Administrator displays an incomplete list of logs.

This issue is now resolved.

PIE-71008 (IS_10.7_Core_Fix5)
Logging out of the new Integration Sever Administrator does not prevent the user
from getting back into the legacy Integration Server Administrator using the
same browser. 

When a user logs out from the new Integration Server Administrator, the user
session is not removed. When the user points their browser to the legacy
Integration Server Administrator at http://<host:port>/WmRoot/, the user can
access the legacy Integration Server Administrator without logging in. 

Now, the new Integration Server Administrator removes the user's session when
the user logs out. 

PIE-71121 (IS_10.7_Core_Fix5)
When exporting a package to Cloud Container, Integration Server now adds
references to native Trading Networks assets. 

Assets that have a namespace name starting with "wm.tn" are now added as
references to generated ACDL files for Cloud Container if the package being
exported contains references to those Trading Networks assets. Previously,
referenced native Trading Networks were not explicitly added as references in
the generated ACDL file for Cloud Container. 

PIE-71179 (IS_10.7_Core_Fix5)
Updates to webMethods Metering updates.

Updates to webMethods Metering to ensure that services in packages from layered
products are not metered. 

PIE-71231 (IS_10.7_Core_Fix5)
Integration Server does not map the JSON request body of REST APIs to the input 
signature of the corresponding service.

If the request body of a legacy REST API has a JSON array at the root level, 
Integration Server does not map the request parameters to the input signature
of the corresponding service.

This issue is resolved now.

PIE-71244 (IS_10.7_Core_Fix5)
The statistics log does not contain column names after the log rotates.

The column names appear in the first statistics log created upon Integration
Server start up. However, after the statistics log rotates, the column names are
missing. This occurs regardless of the format of the statistics log (.log or
.csv). 

This issue is now resolved.

PIE-71317 (IS_10.7_Core_Fix5)
When a service ends with an error, under some circumstances Integration Server
will throw NullPointerException, which obscures the service error. 

This has been resolved. NullPointerException is no longer thrown.

PIE-71322 (IS_10.7_Core_Fix5)
Expansion of the CLIENT_SECRET column in the IS_OAUTH_CLIENTS table.

The resolution to PIE-69684 ensures that OAuth client secrets are encrypted and
base-64 encoded before being saved to the database. This increases the length of
the saved client secrets. To ensure that the CLIENT_SECRET column in the
IS_OAUTH_CLIENTS table is wide enough to accommodate the encrypted values, it is
now being expanded. 

PIE-71343 (IS_10.7_Core_Fix5)
The watt.server.defaultPackage server configuration parameter is missing from
the internal list of parameters for which a restart is required when the
parameter value is changed. 

The internal list of server configuration parameters for which Integration
Server restart is required for changes to take effect is now updated to include
watt.server.defaultPackage. 

PIE-71448 (IS_10.7_Core_Fix5)
Support for using Kubernetes Secret with Microservices Runtime. 

You can use a Kubernetes Secret with Microservices Runtime by specifying the
Secret as a property value in the configuration variables file that is passed
into a Microservices Runtime running in a Docker container. 

Prior to using a Secret with a configuration variables files
(application.properties), you must do the following: 
- Create the Secret with Kubernetes 
- Mount the Secret as a data volume  

To use a Kubernetes Secret for a property value in a configuration variables
file, set the key-value pair for the asset property using the following format: 

key=$secret{SecretName}
For example:

truststore.DEFAULT_JVM_TRUSTSTORE.ksPassword=$secret{TruststorePasswordSecretName}
user.userName.password=$secret{mySecretPassword}

When you start the container, you can set the SECRET_PATH environment variable
to the path where the Secret will be present inside the container. You do not
need to specify this environment variable if the Secret is mounted at
/etc/secrets. 

When Microservices Runtime applies the configuration variables file,
Microservices Runtime looks for the location of the Secret by first checking if
the SECRET_PATH environment variable is present. If so, then Microservices
Runtime reads the Secret from the path present in this environment variable. If
the SECRET_PATH environment variable was not provided when the container
started, then Microservices Runtime expects the Secret will be mounted at
/etc/secrets and will read the Secret from there. 

If Microservices Runtime cannot find the Secret used in the configuration
variables file (the Secret is not present or access to the file is restricted
due to file permissions), the following Info level message will be written to
the configurationvariables.log 

[ISS.0028.0039I] Exception occurred while reading secret file: <pathToFile>
Microservices Runtime supports one Secret per container (each Secret can contain
multiple entries) and a Secret of type Opaque only. 

Note: Kubernetes Secrets can be used with a Microservices Runtime or an
Integration Server with a Microservices license. 

PIE-71473 (IS_10.7_Core_Fix5)
Updates to webMethods Metering to exclude WmBusinessRules package from metered
transactions. 

PIE-71548 (IS_10.7_Core_Fix5)
Thread deadlock in receiving and processing access token expiration
notifications. 

When Integration Server is in a cluster and receives notifications from the
Terracotta Server Array that an OAuth access token has expired, Integration
Server performs housekeeping operations on the token caches. These operations
are performed with the same thread that received the expiration notification
which can result in a thread deadlock. 

Integration Server now uses a dedicated thread for processing access token
expiration notifications. Because the token housekeeping operations are
performed by a different thread than the one receiving the expiration
notification, the thread deadlock does not occur. 

PIE-71549 (IS_10.7_Core_Fix5)
Fixes for the OAuth functionality.

This fix resolves two issues for the OAuth functionality.

- After applying a fix that contains PIE-67827, editing and then saving an OAuth
client registration that uses a confidential client results in the loss of the
client secret. Instead of saving the encrypted client secret value, Integration
Server saves the masked client secrete value of ******. 
Now, Integration Server saves the original encrypted client secret value and not
the masked value. 

- When using OAuth with a stateless cluster, the active access tokens may be
loaded into all of the Integration Servers in the stateless cluster. When the
access token expires, multiple Integration Servers in the stateless cluster may
try to remove the expired token. If one of the Integration Servers succeeds in
removing the expired token, attempts by other Integration Severs in the
stateless cluster fail with NullPointerException. 

Now, NullPointerException no longer occurs if another Integration Server
attempts to remove the same expired token. 

PIE-71594 (IS_10.7_Core_Fix5)
Service results caching performance seems to have degraded.

Blocked threads prevented retrieval of service results values from cache.

This issue has been resolved.

PIE-71632 (IS_10.7_Core_Fix5)
The ports on Integration Server running in a container cannot be accessed when
watt.server.inetaddress parameter is set to any value rather than the default
empty value. 

This issue is now resolved.

PIE-71710 (IS_10.7_Core_Fix5)
Statistics Data Collector default restart time is now 6 hours instead of 24.

When Statistics Data Collector restarts, the indexed data stored in <Integration
Server_directory>/instances/<instanceName>/monitorRepo is re-indexed and the
size of the data is reduced. The frequency with which Statistics Data Collector
in Integration Server restarts is determined by the restartHours parameter
located in the <Integration
Server_directory>/instances/<instanceName>/config/monitor/monitor.cnf.
Previously, the default value was 24 hours. However, this could allow the
/monitorRepo directory to consume a lot of disk space. 

Now, the default value of the restartHours parameter is 6 hours.

PIE-71773 (IS_10.7_Core_Fix5)
The internal service wm.server.access:setUserDisabled did not specify the
correct possible values for the mode input parameter. 

The wm.server.access.setUserDisabled service signature indicates that the valid
value for the mode input parameter are "ENABLED" and "DISABLED".
However, the service did a case-sensitive comparison of the supplied values
against the lower case "enabled" and "disabled". As a result, the
service did not behave as expected. 

Now, the service performs a case-insensitive check of the supplied mode value.

PIE-71825 (IS_10.7_Core_Fix5)
Integration Server Administrator displays an alert about a search request
failure and there is no data in the Dashboard. 

If the Statistics Data Collector attempts to recover from an error during a
restart, a StackOverFlowError occurs and prevents the Statistics Data Collector
from recovering. Integration Server Administrator displays the following alert: 

[ISS.0030.0385] Search request failed. Details: [ISS.0045.0152] The Statistics
Data Collector status is CLOSING. It is not able to complete the search
operation at this time. 

This issue is now resolved by eliminating the recovery upon restart of the
Statistics Data Collector. If Statistics Data Collector is restarting, the
recovery is not necessary. 

PIE-71832 (IS_10.7_Core_Fix5)
Integration Server Administrator displays an error for "Http failure during
parsing..."

When the watt.server.http.useAcceptHeader parameter is set to false, Integration
Server serves out a response in the HTML format. However, the new Integration
Server Administrator expects a JSON response. This results in Integration Server
Administrator displaying an error beginning with "HTTP failure during parsing
for..."

Now, Integration Server uses the JSON handler for all requests from the new
Integration Server Administrator. 

PIE-71945 (IS_10.7_Core_Fix5)
When using Java 8, certain outbound HTTP/S calls from Integration Server fail if
TLSv1.3 is the only enabled protocol. 

If the watt.net.jsse.client.disabledProtocols parameter is configured such that
TLSv1.3 is the only enabled protocol, then outbound HTTP/S calls made to certain
websites (e.g., https://www.google.com, https://www.yahoo.com, etc., ) fail with
the errors like "javax.net.ssl.SSLHandshakeException: Remote host terminated the
handshake" or "javax.net.ssl.SSLHandshakeException: Received fatal alert:
illegal_parameter". 

To avoid this issue, add the JVM parameter
jdk.tls.client.enableStatusRequestExtension=true to one of the following files: 

If you are using Integration Server, add the JVM parameter to: <SAG
install_dir>/profiles/IS_<profilename>/configuration/custom_wrapper.conf 

If you are using Microservices Runtime, add the JVM parameter to: <SAG install
dir>/IntegrationServer/bin/server.bat|sh 

PIE-71960 (IS_10.7_Core_Fix5)
The OAuth implementation in Integration Server now supports Proof Key for Code
Exchange (PKCE) on a per client basis. 

Previously, Integration Server added support for PKCE in PIE-69002 which
introduced the global OAuth setting Require PKCE (which corresponds to the
watt.server.oauth.requirePKCE server configuration parameter). When Require PKCE
is set to yes, this setting requires all OAuth public clients to use PKCE with
the authorization code grant. Now, Integration Server provides the ability to
require use of PKCE on a client by client basis. 

The Security > OAuth > Client Registration > Edit client registration page in
Integration Server Administrator now has a Require PKCE field that sets the PKCE
usage requirement for a client. It has three possible values. 

- Use OAuth Global Setting. Whether the client is required to use PKCE is
determined by the value of the Require PKCE global setting (i.e., the
watt.server.oauth.requirePKCE parameter). If the value of  the Require PKCE
global setting changes, the client's requirement to use PKCE changes with it. 
- No. The client is not required to use PKCE.
- Yes. The client is required to use PKCE.

Because PKCE may be required for public clients only, the Require PKCE field is
enabled when the Type field is set to Public. The Require PKCE field is disabled
when the Type field is set to Confidential. 

Even if a client is not required to use PKCE, it may still do so to protect
itself against the authorization code interception attack. Use of PKCE is
strongly encouraged for all public clients using the authorization code grant.
See the description for PIE-69002 in the IS_10.7_Core_Fix4 Readme and
https://datatracker.ietf.org/doc/html/rfc7636 for more information about PKCE
and what an OAuth public client must do to use it. 

PIE-71996 (IS_10.7_Core_Fix5)
Single sign-on with OpenID does not work when using the new Integration Server
Administrator. 

OpenID single sign-on does not occur when accessing the new Integration Server
Administrator directly using https://server:openid-port/WmAdmin/ where
openid-port is a port that uses an identity provider for authentication. Instead
of showing the OpenID provider's login page, Integration Server Administrator
displays a basic login dialog box. 

This issue is now resolved. Accessing the Integration Server Administrator using
https://server:openid-port/WmAdmin/ now shows the OpenID provider's login
page. 

PIE-72041 (IS_10.7_Core_Fix5)
Clicking the "Try the New Administration Console" link on the legacy Integration
Server Administration requires the user to log in again. 

After logging into the legacy Integration Server Administrator, clicking the
"Try the New Administration Console" link goes to the login screen and require
the user to log in again. 

This issue is now resolved. Clicking the "Try the New Administration Console"
link does not prompt the user to log in again to access the new Integration
Server Administrator. 

PIE-72129 (IS_10.7_Core_Fix5)
Dynamic variable processors are registered with the Integration Server to
support externalization of ART notifications and listeners. 

PIE-68911 (IS_10.7_Core_Fix4)
The pub.mime:createMimeData service ends with an error when the supplied input 
has a content type of application/pkcs7-signature.

When the input to pub.mime:createMimeData service has a content type of 
application/pkcs7-signature, the service ends with the following error:

Unknown mime type: application/pkcs7-signature; name=<.p7s file in the input>

The pub.mime:createMimeData service uses the Entrust IAIK library to create the
MIME object when the content type is application/pkcs7-signature. However, this 
library does not support the content type application/pkcs7-signature which 
results in the service ending with an error.

The pub.mime:createMimeData service now uses Bouncy Castle to create the MIME 
object when the content type is application/pkcs7-signature. The Bouncy Castle 
libraries includes handlers for the content type application/pkcs7-signature.

PIE-69502 (IS_10.7_Core_Fix4)
Enhancement to the pub.oauth:introspectToken and pub.oauth:getToken services to
work in a stateless cluster. 

When Integration Servers are configured to connect to the same databases but are
not configured to store information in a distributed cache in Terracotta Sever
Array, the Integration Servers are in a stateless cluster. An access token can
already be used by any Integration Server in the stateless cluster to invoke
services. However, the pub.oauth:introspectToken service cannot be used to check
whether an access or refresh token generated by another Integration Server in
the stateless cluster is active. 

Now, an access or refresh token created by one Integration Server in a stateless
cluster can be used by any other Integration Server that uses the same database
and the pub.oauth:introspectToken service can be used to introspect the token. 

PIE-64930 (IS_10.7_Core_Fix4)
Change to Integration Server to control whether a port configured to deny
requests will have a default allow list of predefined services. 

For a port configured to deny requests, Integration Server automatically adds a
predefined list of built-in services and internal services to the allow list.
Some of these services have an Execute ACL set to anonymous which is an
undesirable configuration in some environments. 

To resolve this issue, Integration Server includes a server configuration
parameter that determines whether Integration Server adds the predefined list of
services to the allow list for a port configured to deny access. 

watt.server.security.createDefaultServicesOnPorts
Specifies whether a default list of internal and built-in services is added to
the allow list of a port configured to deny access. Some of the internal
services have an Execute ACL set to anonymous which may be a security
vulnerability in some environments. Set to true to include the predefined list
of internal and built-in services in the allow list. Set to false to add no
internal or built-in services to the allow list. The default is true. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-67563 (IS_10.7_Core_Fix4)
When a service uses a table object of the "com.wm.util.Table" class as an
input parameter of type DocumentList, resubmitting the service from My
webMethods Server results in the "java.lang.ClassNotFoundException:
Class:com.wm.util.Table" exception. 
 
For the resubmission to work, the pipeline objects are deserialized. However, to
address Java deserialization vulnerability, Integration Server deserializes only
the Java objects listed in the <Integration
Server_directory>/instances/instanceName/config/security/whitelistclasses.xml
file. Since the "com.wm.util.Table" class is not listed in the
whitelistclasses.xml file, it is not deserialized, and Integration Server throws
the exception. 
 
This issue is resolved by adding the "com.wm.util.Table" class to the
whitelistclasses.xml file. 

PIE-67261 (IS_10.7_Core_Fix4)
Integration Server does not honor the timeout period for JDBC connection
requests from Active Transfer server. 

When a large number of JDBC connections are requested from Active Transfer
server with a timeout period for the connections, Integration Server does not
consider the timeout period for a connection and returns a 'null' connection. 

This issue is now resolved.

PIE-65607 (IS_10.7_Core_Fix4)
JMS triggers that use the Horizontal Scalability feature with Universal
Messaging may experience delays when receiving messages. 

The Horizontal Scalability (HS) feature in Universal Messaging allows clients to
seamlessly publish and consume messages from multiple independent realms and
clusters using a single connection. When a JMS trigger uses a JMS connection
configured with an HS URL, the JMS trigger will request and receive messages
from more than one Universal Messaging server per polling request. It's possible
for the JMS trigger to receive one message from each Universal Messaging server
in the realm or cluster for each request. When more than one message is received
per request, the JMS trigger caches the extra messages at the session-level
(where session refers to the javax.jms.Session). The next time the JMS trigger
requests an additional message, the trigger retrieves a message from the cache.
A concurrent JMS trigger uses more than one session to receive messages. A
concurrent trigger can use up to one session for each thread set in the Max
execution threads property. When many sessions are in use for a trigger, the JMS
trigger may not retrieve the cached messages for processing immediately. The
delay in retrieving cached messages is especially noticeable when the
destination from which the trigger receives messages on Universal Messaging is
nearly empty. 

Now, Integration Server checks if the cached messages for a JMS trigger have
been processed. If a session for a JMS trigger has cached messages, Integration
Server assigns the session a higher priority. This ensures that the JMS trigger
can retrieve the messages immediately. 

PIE-66032 (IS_10.7_Core_Fix4)
The pub.oauth:removeExpiredAccessTokens service removes expired access tokens
but does not return any output to indicate the number of expired tokens that
were removed. 

The pub.oauth:removeExpiredAccessTokens service now returns the output parameter
removedTokensCount. This field, which is of type String, indicates the number of
expired tokens removed by the service. If the service did not remove any expired
tokens to be removed, the value of removedTokensCount is 0. 

PIE-67175 (IS_10.7_Core_Fix4)
A request fails when Integration Server cannot write a log message to the server 
log.

As part of handling a request, Integration Server writes messages to the server 
log. In some cases, the attempt to write a message to the sever log failed and 
the exception was rethrown, which caused the request to fail.

Now, a failed attempt to write a message the server log will not cause the 
client request to fail. If an attempt to write a message to the server log 
fails, Integration Server writes the message the wrapper.log.

PIE-67811 (IS_10.7_Core_Fix4)
A delay is observed when Integration Server runs the "pub.client:http" service
to connect to a target server through a proxy server. 

If the proxy server cannot connect to the target server when Integration Server
runs the "pub.client:http" service, Integration Server disconnects from the
proxy server and attempts to connect to the target server directly. This process
results in a delay of 3 to 4 minutes during the service execution. 

This issue is now resolved.

PIE-68082 (IS_10.7_Core_Fix4)
In an Integration Server setup with Enterprise Gateway, when a native service
running on Integration Server sends an HTTP response to Enterprise Gateway with
Transfer-Encoding as chunked in the HTTP header, Enterprise Gateway sends back
the response to the external client and then closes the internal socket.
However, this creates an internal socket between Enterprise Gateway and
Integration Server for every new request resulting in performance degradation. 

This issue is resolved now.

PIE-68482 (IS_10.7_Core_Fix4)
Incorrect date format in server log to be rolled over results in a
ParseException. 

An incorrect date format in the server log to be rolled over results in the
following error message in the wrapper.log: 

java.text.ParseException: Unparseable date

The error also prevents Integration Server from rolling over the server log.

PIE-69002 (IS_10.7_Core_Fix4)
The OAuth implementation in Integration Server now supports Proof Key for Code
Exchange (PKCE). 

Proof Key for Code Exchange (PKCE) is an OAuth standard that mitigates the
authorization code interception attack. Public OAuth clients that use the
authorization code grant are vulnerable to this attack and should use PKCE to
protect themselves. 

The PKCE standard is defined at https://datatracker.ietf.org/doc/html/rfc7636.
The PKCE standard describes how the client should generate the additional inputs
passed to these endpoints. 

When PKCE is required for OAuth clients when Integration Server is the
authorization server,  OAuth clients must provide additional inputs to the
following pub.oauth services: 

pub.oauth:authorize
code_challenge - String. Optional. The transformed version of the
code_verifier created by the client application. 
code_challenge_method - String. Optional. The method used to transform the
code_verifier created by the client application. Set to "plain" or
"S256". If code_challenge_method is not provided the Integration Server
acting as the authorization server assumes a value of "plain". 

Integration Sever saves the supplied code_challenge and code_challenge_method
values in the OAuthPKCECache. 

Note: The code_challenge and code_challenge_method input parameters are required
for a public client when watt.server.oauth.requirePKCE is set to true and  the
authorization code grant type, i.e., response_type is set to code. If
watt.server.oauth.requirePKCE is set to false but the OAuth client supplies a
code_challenge, the client must also supply a matching code_verifier to the
token endpoint. 

The pub.oauth:authorize service is the authorization endpoint for the
Integration Server acting as the authorization server. The authorization
endpoint URL is: https://%3chost%3e:%3cport%3e/invoke/pub.oauth/authorize 

pub.oauth:getToken
code_verifier - String. Optional. The code_verifier generated by the client
application. Integration Server applies the code_challenge_method to transform
the supplied code_verifier value. If the transformed value matches the
code_challenge sent to the authorization endpoint, the token endpoint returns an
access token. 

Note: The code_verifier input parameter is required when a code_challenge has
been sent to the authorization endpoint and the grant_type is
authorization_code. 

The pub.oauth:getToken service is the token endpoint for the Integration Server
acting as the authorization server. The token endpoint URL is:
https://%20%3chost%3e:%3cport%3e%20/invoke/pub.oauth/getToken 

Integration Server introduces a server configuration parameter that you can use
to require use of PKCE for all public OAuth clients using the authorization code
grant. 

watt.server.oauth.requirePKCE
Specifies whether PKCE is required for all public OAuth clients  using the
authorization code grant. 
When set to true, all OAuth clients must supply a code_challenge and
code_challenge_method to the authorization endpoint (pub.oauth:authorize
service) and a code_verifier to the token endpoint (pub.oauth:getToken service).
When watt.server.oauth.requirePKCE is not set to true (for example the value is
false or null), OAuth clients are not required to supply the additional inputs.
However, any clients that do send a code_challenge and code_challenge_method to
the authorization endpoint will be using the PKCE feature in Integration Server
to mitigate the authorization code interception attack. A subsequent request by
the client to the token endpoint must include the code_verifier input parameter. 

The default value for watt.server.oauth.requirePKCE is false. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-69004 (IS_10.7_Core_Fix4)
Requests for an OAuth access token in a cluster can result in an "Access denied"
error. 

When a confidential OAuth client is created on a clustered Integration Server,
the client's user account is saved to the local file system but not to the other
servers in the cluster. When the client sends a request to the OAuth token
endpoint on another server in the cluster, a user account is dynamically created
for the client on the other server. Integration Server creates the user account
with an internal call to the wm.server.access:addUsers service. If the token
endpoint is accessed on a port that does not allow execution of the
wm.server.access:addUsers service, the client will receive an "Access denied"
error. 

This has been resolved. When a user account is dynamically created for an OAuth
client, the port access check is not executed. 

PIE-69367 (IS_10.7_Core_Fix4)
Designer cannot connect to an Integration Server due to insufficient file
creation permissions.

When Designer connects to an Integration Server, it tries to create a log file.
However, if the user does not have write permissions, Designer cannot connect
to Integration Server.

This issue is resolved. Now, by default, Designer does not create a log file
while connecting to an Integration Server. If you want to collect more logging
information, set the 'watt.client.logFile={log_file_path}' property in the "{
Software AG_directory}\Designer\eclipse\configuration\config.ini" file so that 
Designer creates the log file at the configured location.

PIE-69535 (IS_10.7_Core_Fix4)
The patch history in Integration Server Administrator dos not show partial
package deployments of Wm* packages. 

After applying a fix or migrating to a release that includes PIE-62988, the
patch history visible on the Support > webMethods Packages and Updates was
modified to hide partial package deployment of Wm* packages. This change was
made specifically to hide partial package deployment of webMethods adapter
packages (WmJDBCAdapter, WmMQAdapter, WmAS400, and WmSAP can be partially
deployed). However, this change introduced confusion and inconsistencies for Wm*
packages that can be partially deployed, such as the WmTN package. 

To provide consistency, the change introduced by PIE-62988 has been reverted.
The patch history in Integration Server Administrator lists all Wm* packages
that result from partial deployment. 

PIE-69547 (IS_10.7_Core_Fix4)
Integration Server incorrectly accepts an additional data type for the 'data' 
input parameter while processing the 'pub.compress:decompressData' service.

While using the 'pub.compress:decompressData' service to decompress the data, 
it accepts the 'data' input parameter either as 'bytes' or
'java.io.InputStream'. However, Integration Server incorrectly accepts the
'data' as a 'string' for the 'pub.compress:decompressData' service.

This issue is resolved now.

PIE-69548 (IS_10.7_Core_Fix4)
While using the 'pub.compress:compressData' service to compress a string, the 
service does not provide any character encoding option to convert the string to 
bytes.

Now, the 'pub.compress:compressData' service accepts an input parameter 
'encoding' of type string that accepts the name of a registered IANA character 
set specifying the encoding type (for example, ISO-8859-1).

PIE-68725 (IS_10.7_Core_Fix4)
If a transient error occurs when Integration Server retrieves a group list for 
a user from the associated LDAP server, then Integration Server uses the 
partially returned list.

This issue is resolved now. In such scenarios, Integration Server returns 
an empty group list.

PIE-61708 (IS_10.7_Core_Fix3)
In webMethods Cloud, attempts to move a newly created SOAP application from one
folder to another encounter issues if the application contains a document
reference. 

If a SOAP application in webMethods Cloud contains a document reference, copying
the application from one folder to another does not work correctly because the
copied document reference points to the old folder location and not the new
location. 

This issue is now resolved.

PIE-65069 (IS_10.7_Core_Fix3)
Integration Server has issues at runtime while working with a REST API 
Descriptor (RAD) created from a Swagger document containing arrays as root 
elements in the response.

When you are creating a provider or consumer RAD by importing a Swagger document 
that has operations containing arrays as root elements in the response, 
Integration Server sends an incorrect response while working as a provider and 
incorrectly executes the connector services while working as a consumer.

These issues are resolved now.

PIE-65495 (IS_10.7_Core_Fix3)
The pub.client:http service does not honour the value of the watt.net.maxRetries
property. 
 
Regardless of the value set for the watt.net.maxRetries property, Integration
Server considers the default value of watt.net.maxRetries, which is 1. It does
not consider 0 or a value greater than 1 (default value). Additionally, despite
receiving a SocketTimeoutException with the "read timed out" message,
Integration Server continues to try to connect with the target. This is
inconsistent if the connection is established, as the response is not received
within the specified timeout value, yet the connection with the target gets
established. 
  
This issue is now resolved. 

PIE-66849 (IS_10.7_Core_Fix3)
WmJMSAdminException occurs when attempting to create a destination on Broker via
Designer. 

When creating a JMS connection alias that uses the native webMethods API,
Integration Server incorrectly creates the connection as encrypted even when the
Encrypted check box is not selected. This results in the following exception
when attempting to use Designer to create a destination on Broker. 

com.webmethods.jms.admin.WmJMSAdminException: [BRM.10.5102]  JMS: Cannot make an
authenticated connection to Broker: password is missing.

This issue is now resolved.

PIE-66946 (IS_10.7_Core_Fix3)
Integration Server does not roll over server log files correctly.

When Integration Server rotates the server log, Integration Server also ensures
that the number of server log files (the current file plus archived ones) does
not exceed the value of watt.server.serverlogFilesToKeep. However, Integration
Server deletes the most recent archived server log file instead of the oldest
one. 

This issue is now corrected.

PIE-66986 (IS_10.7_Core_Fix3)
Integration Server does not remove expired OAuth tokens from the cache or
database. 

Integration Server maintains some base OAuth token information in the
OAuthTokens cache and access token information in the OAuthAccessTokens cache.
However, Integration Server does not correctly remove token data associated with
expired access tokens from the caches or the database. 

This fix resolves the following issues surrounding OAuth tokens, the caches, and
the database: 
 
- Integration Server removes expired OAuth access tokens from the cache but does
not remove the corresponding record from the database. This is more prevalent
when Terracotta Server Array (TSA) is in use. Now, Integration Server ensures
automatic deletion of expired access tokens from the TSA cache and the database. 

- The OAuthTokens cache increases in size as used tokens are removed from the
database but left in the TSA caches. Now, when the access token that corresponds
to a token or refresh token expires, Integration Server automatically removes
the token or refresh token from the TSA cache. If the refresh token is valid and
is used again, Integration Server re-retrieves the corresponding token and
refresh token from the database and adds them to the TSA cache. Integration
Server will remove the tokens in the TSA cache after the access token expires. 

PIE-66988 (IS_10.7_Core_Fix3)
Enhancement to Integration Server to add support for FIPS-certified cipher.
 
In conjunction with the webMethods Shared Components (issue WSC-660),
Integration Server now includes support for a FIPS-certified cipher with the
outbound password encryption and the master password features. Specifically, the
password manager in Integration Server now supports an Entrust AES cipher
algorithm with a 256-bit key. 
 
Integration Server does not automatically switch to the new cipher algorithm nor
does it migrate existing passwords that were encrypted using a previous
algorithm. If you want to use the FIPS-certified cipher with passwords, you must
edit the passman configuration. 
 
To configure Integration Server to use the new cipher algorithm for all
passwords (existing and future ones), do the following after applying a fix that
includes PIE-66988 and the companion shared components fix that includes
WSC-660: 
1. Shutdown Integration Server.
2. Navigate to the IntegrationServer/instances/<instance_name>/config/ directory
and backup the following files: 
    - configPassman.cnf
    - passman.cnf
    - txnPassStore.dat
    - empw.dat
Note: If you are using Microservices Runtime, navigate to
IntegrationServer/config. 
3. In the above directory, delete the following files
     - passman.cnf
     - txnPassStore.dat
     - empw.dat
4. Using a text editor, open the configPassman.cnf file located in the same
directory. 
5. Make the following changes to configPassman.cnf
     5.1 Before the master.password.field.fileName parameter, add the following
parameter: 

MasterPasswordClass=com.webmethods.sc.security.passman.impl.masterpw.entrust.EntrustAesMasterPassword
     5.2 Change the value of default.encryptor parameter to EntrustAes.
Note: You can comment out the current default.encryptor parameter using # and
then add the line: 
                       default.encryptor=EntrustAes
     5.3 At the end of the file, add the parameter: sanity.encryptor=EntrustAes
6. Save your changes to configPassman.cnf and close the file.
7. Start Integration Server.
8. Set the values of any outbound passwords (keystores, JDBC pools, etc.). This
is necessary because deleting the *.dat files removed any saved outbound
passwords. The new values for outbound passwords will be encrypted using the new
cipher encryptor. 

Note: If you have multiple Integration Servers that use the same passwords, you
can make the changes described above in one Integration Server. Then, after
installing the fixes that contain PIE-66988 and WSC-660 on another Integration
Server, while the Integration Server is still shut down, copy the passman.cnf,
configPassman.cnf, txnPassStore.dat, and empw.dat files from the first
integration Server to the IntegrationServer/instances/<instance_name>/config/
directory on the second Integration Server. 

PIE-67120 (IS_10.7_Core_Fix3)
Incorrect dependency displayed between a document type and a simple type in an
IS schema. 

When using schema domains, if there are simple types with the same name in both
the default schema domain and another schema domain, the dependency manager in
Designer might show incorrect dependencies between the document types that
reference those simple types. 

This issue is now resolved.

PIE-67151 (IS_10.7_Core_Fix3)
When a web service connector receives an HTTP 4xx response other than a 400,
Integration Server does not pass the fault details back to the caller but
should. 

Now, Integration Server processes HTTP 4xx responses received by a web service
connector similarly to HTTP 400 responses. Integration Server returns the fault
details present in the response to the caller. 

PIE-67515 (IS_10.7_Core_Fix3)
Integration Server incorrectly assigns the status for JMS messages as 'IN_DOUBT' 
instead of throwing an error message during a database failover.

In Designer, when you configure the exactly-once processing for a JMS trigger by
setting the "Detect duplicates" and "Use history" properties to "True" under 
"Properties > Exactly once" and if a database failover happens while entering a 
record into a table, Integration Server incorrectly assigns the status for the 
messages as 'IN_DOUBT' instead of throwing an error message. 

This issue is resolved now.

PIE-67821 (IS_10.7_Core_Fix3)
Integration Server throws an error while importing a Swagger document containing 
an inline schema in the request body.

When you create a provider or consumer REST API descriptor (RAD) by importing a 
Swagger document that contains an inline schema in the request body, Integration 
Server throws an error and does not import the document.

This issue is now resolved.

PIE-67825 (IS_10.7_Core_Fix3)
After applying a fix that includes PIE-66955, the configuration variables
(application.properties) could only set a keystore alias type to the default
value. 

This issue is now resolved. An application.properties template can be used to
set a keystore alias type to a value other than the default. 

PIE-67885 (IS_10.7_Core_Fix3)
Unable to establish a connection to Enterprise Gateway Server on the loopback
interface: 127.0.0.1. 

An Enterprise Gateway Server instance may have an internal server port on the
loopback interface and also have an external registration port on the same host.
In such an environment, a create, update, or delete operation on the
registration port generates the error, "Failed to create Gateway Listener as
Port xxxx is already associated with another listener", though there is no such
listener. 

The issue is now resolved.

PIE-68067 (IS_10.7_Core_Fix3)
Integration Server incorrectly enables a suspended JMS trigger even though a
resource monitoring service is not configured.

In Designer, when you configure the exactly-once processing for a JMS trigger by
setting the "Detect duplicates" and "Use history" properties to "True" under 
"Properties > Exactly once" and the 
"watt.server.trigger.preprocess.suspendAndRetryOnError" parameter to "true", 
Integration Server suspends the trigger if the history database contains issues 
and monitors the database availability using a resource monitoring service.
When the database is available, the monitoring service enables the trigger.

Now, if any issue occurs while processing the trigger and if the "Transient 
error handling > On retry failure" property is set to "Suspend and retry later", 
and a resource monitoring service is not configured, Integration Server must 
only suspend the trigger and not enable it automatically.

This issue is now resolved.

PIE-68163 (IS_10.7_Core_Fix3)
Integration Server Administrator cannot be used to change the state of a
webMethods messaging trigger. 

When the server configuration parameter watt.server.ns.lockingMode is set to
none, Integration Server Administrator cannot be used to suspend or resume
document retrieval or document processing for a webMethods messaging trigger.
Instead, the following error occurs: 

com.wm.app.b2b.server.ServiceException: [ISS.0098.9072] Trigger "<triggerName>"
is locked. Change not permitted. 

This is incorrect. When watt.server.ns.lockingMode is set to none, locking
should be disabled and Integration Server Administrator can be used to change
the state of the trigger. 

This issue is now resolved.

PIE-68170 (IS_10.7_Core_Fix3)
After an Integration Server instance is migrated from 10.3 to 107, applying the
application.properties file results in the JDBC Functional Alias configuration
variables (jdbcfunc.functionName.connPoolAlias) being uneditable. 

This issue is now resolved.

Note: The configuration variables functionality is available in Microservices
Runtime or in an Integration Server with a Microservices license. 

PIE-68317 (IS_10.7_Core_Fix3)
Enhancement to Integration Server to control whether an outbound call from
Integration Server follows redirection. 

Previously, when Integration Server makes an outbound call and receives a
response code is between 300 and 400, Integration Server automatically redirects
to the location specified in the response header. However, an application may
sometimes require Integration Server to not follow that redirection. For
example, an application may need to first see the cookies returned by the
initial request before making the redirection request. Some applications may not
need to follow a redirection request. 

To resolve this issue, Integration Server now includes the server configuration
parameter watt.net.http.followRedirect that controls following redirection
requests on a server-wide basis and a pub.client:http input parameter that
controls following redirection requests on a case by case basis. 

watt.net.http.followRedirect
Specifies whether Integration Server automatically follows redirection when an
outbound HTTP requests receives a response code is between 300 and 400. Set to
true for outbound requests to follow the redirect. Set to false for outbound
requests to not follow the redirect and instead return the response code and all
of the response headers from the original outbound request. The default is true. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

The watt.net.http.followRedirect behavior can be over-ridden on a case-by-case
basis via the followRedirect input parameter for the pub.client:http service. 

followRedirect - String. Optional. Whether the outbound request follows a
redirect when receiving a response code between 300 and 400. Set to one of the
following: 

yes - if the request follows the redirect
no - if the request does not follow the redirect and instead return the
response code and all of the response headers from the original outbound
request. 
<null> - if the value of the watt.net.http.followRedirect parameter determines
whether or not the request follows a redirect. 
Note: A value of yes or no overrides the value of the
watt.net.http.followRedirect parameter. 

PIE-68330 (IS_10.7_Core_Fix3)
In Integration Server 10.5, the output of the built-in service,
pub.xml:documentToXMLString, shows some data loss when the document to be
converted (the document input parameter) has a document list that contains
nested objects types. 
 
The issue is now resolved.

PIE-68339 (IS_10.7_Core_Fix3)
Integration Server becomes unresponsive.

Integration Server threads become blocked due to a synchronization error in the
JDBC driver for SQL server driver. 

The issue has been resolved by changing the synchronization logic.

PIE-68340 (IS_10.7_Core_Fix3)
Integration Server utilizes high amounts of CPU.

A thread synchronization issue around obtaining cluster status for an
Integration Server results in high CPU utilization. 

This issue has been resolved by removing a redundant call that caused incorrect
synchronization. 

PIE-68646 (IS_10.7_Core_Fix3)
Integration Server encodes documents in the pipeline very slowly.

Depending upon the size and complexity of a document, Integration Server might
take a long time to encode the document using the Integration Server binary
protocol. 

To address this issue, Integration Server introduces the ability to use a faster
and slightly more memory efficient implementation of IDataBinCoder. Set
watt.sever.idatacoder.legacy to false to use the faster, more efficient
IDataBinCoder implementation. 
 
watt.server.idatacoder.legacy
Specifies whether a newer version or legacy version of the IDataBinCoder for
encoding documents using the binary protocol. Set to true to use the legacy
version. Set to false to use a newer version which may be significantly faster
and slightly more memory efficient for large, complex documents. The default is
true. 

Restart of Integration Server is not required for changes to take effect. 

Note: Any documents persisted to disk can be decoded even if the
watt.server.idatacoder.legacy value changes between the time the document was
encoded and the time the document needs to be decoded. That is, persisted data
can be decoded regardless of the version of IDataBinCoder used to persist encode
it. 

PIE-68651 (IS_10.7_Core_Fix3)
When an InputStream is passed to the responseStream input parameter off the
pub.flow:setReponse2 service, the service does not close the stream after
sending the HTTP response to the client. 

Now, the pub.flow:setReponse2 service closes the stream after sending the
response. 

PIE-68778 (IS_10.7_Core_Fix3)
When Integration Server experiences a heavy load of outbound calls, the number
of newly created sessions may result in out of memory and/or stability issues. 

When making an outbound HTTP/S call, Integration Server uses an existing session
or creates a new session. Whether Integration Server reuses an existing session
or creates a new session depends on the following: 

-  Whether the server configuration parameter
watt.server.new.http.session.context is set to true. 
-  If there is a newSession parameter set to yes in the pipeline. The
pub.client:http service has a newSession input parameter. 
-  If watt.server.new.http.session.context is set to false and the newSession
parameter is not in the pipeline or it exists but has the value "no", then
Integration Server checks to see if there is already a session assigned to the
service thread. If a session is available on the service thread, Integration
Server uses it. If there is not a session available, Integration Server creates
one with the name "(httpclient)". 

The new sessions created under heavy load tend to occupy more memory and create
stability issues for Integration Server. This is because sessions created under
heavy load are less likely to be reused. Additionally, the interval at which
Integration Server executes the session sweeper scheduled system task to clean
up expired sessions is the same as the value of the watt.server.clientTimeout
parameter. (The watt.server.clientTimeout, which has a default of 10 minutes,
specifies the amount of time, in minutes, after which an idle session times
out.) If the session sweeper task executes every ten minutes and the session
itself must be idle for ten minutes before it times out, idle sessions could
remain in Java heap. As more and more outbound calls are made, more and more new
sessions are created. This leads to issues with heap exhaustion. 

To address the issues caused by new sessions created under heavy outbound load,
Integration Server introduces the following changes: 

-  Reducing the idle period of a newly created session for an outbound HTTP/S
call and providing the ability to configure this idle period. The new server
configuration parameter watt.net.http.clientSession.idleTimeout specifies how
many milliseconds a newly created outbound HTTP/S session can be idle before the
session times out and can be removed by the session sweeper. A lower idle
timeout for a session allows Integration Server to more quickly remove a session
that is not likely to be reused. The default value is 20,000 ms (i.e., 20
seconds). Outbound HTTP/S sessions have the name "(httpclient)". You do not need
to restart Integration Server for changes to this parameter to take effect. 
-  A new configuration parameter for controlling the interval at which the
session sweeper system task executes. The watt.server.session.sweeperInterval
specifies the interval, measured in milliseconds, between execution or the
session sweeper task. The parameter applies to all inbound and outbound
sessions. The default is 120,000 ms (2 minutes). You must restart Integration
Server for changes to this parameter to take effect. 

Note: If the watt.server.clientTimeout value is less than the
watt.server.session.sweeperInterval, Integration Server uses the
watt.server.clientTimeout value as the interval for the session sweeper
scheduled task. That is, when scheduling the sessions sweeper system task,
Integration Server uses the shorter of the time values set for
watt.server.session.sweeperInterval or watt.server.clientTimeout. Keep in mind
that watt.sever.clientTimeout value uses minutes as the unit of measure and
watt.server.session.sweeperInterval uses milliseconds. 

PIE-68848 (IS_10.7_Core_Fix3)
Integration Server throws an IndexOutofRangeException when at the end of an
enumeration list. 

This issue is now resolved.

PIE-68855 (IS_10.7_Core_Fix3)
The application.properties template does not contain the Initial Context Factory
value for a JNDI provider but should. 

When Microservices Runtime (or an Integration Server equipped with a
Microservices license) generated an application.properties template, the JNDI
provider portion of the template did not contain a configuration variable for
the Initial Context Factory. 

This issue is now resolved.

PIE-68858 (IS_10.7_Core_Fix3)
In some cases, a few properties are not migrated correctly and the Integration
Server instance fails to start after migration to a newer version. 

A few properties in AuditConfig.xml and the Terracotta license path in
server.cnf continue to point to the source installation after a migration. In
such cases, the migrated Integration Server instance fails to start. 

This issue is resolved now. The properties in AuditConfig.xml and the Terracotta
license path in server.cnf file point to the target installation. 

PIE-68900 (IS_10.7_Core_Fix3)
Previously, a configuration variables template could be used to set the user and
password for a Broker connection alias only. 

Microservices Runtime and an Integration Server with a Microservices license now
support setting the following values for a Broker connection alias via an
application.properties file. 

Broker Host: messaging.BROKERALIAS.brokerHost
Broker Name: messaging.BROKERALIAS.brokerName
Client Group: messaging.BROKERALIAS.clientGroupName
Keystore: messaging.BROKERALIAS.certfile
Keystore Password: messaging.BROKERALIAS.keystorePassword
Truststore: messaging.BROKERALIAS.truststore
Username: messaging.BROKERALIAS.user
Password: messaging.BROKERALIAS.password

You can also create a Broker connection alias via application of a configuration
variables template. However, only one Broker connection alias can exist on a
Microservices Runtime (or an Integration Server). If the application.properties
file being applied to the Microservices Runtime specifies a Broker connection
alias, but a Broker connection alias already exists on Microservices Runtime, an
error is written to the configurationvariables.log and the Broker configuration
is not updated. 

PIE-68910 (IS_10.7_Core_Fix3)
When server logging facility 0012 is set to TRACE, an OutOfMemoryException can
occur when Integration Server processes tokens from an OpenID provider. 

This has been resolved. The OutOfMemoryException no longer occurs when
Integration Server logs OpenID activity. 

PIE-69100 (IS_10.7_Core_Fix3)
After applying the Java package update that includes JDK 1.8.0_292, Integration
Server is not able to use TLSv1.1 or TLSv1. 

The Java package update for JDK 1.8.0_292 disables the use of TLSv1.1 and TLSv1
using the jdk.tls.disabledAlgorithms parameter in the java.security file. After
applying the Java package update, Integration Server is not able to use TLSv1.1
or TLSv1. 

Note: Java package updates are available in Software AG Update Manager in
Infrastructure > Java Package. For 10.5, the Java package fix CJP_10.5_Fix134
contains JDK 1.8.0_292. 

Integration Server provides an override file for the java.security file named
webm_override_java.security. The override file is installed into
IntegrationServer_dir\instances\instanceName\config\security folder. This file
is then registered with Java using the
-Djava.security.properties=config/security/webm_override_java.security in the
custom_wrapper.conf. Note these changes are made programmatically. 
 
Note: When applying a fix that includes PIE-69100 to Microservices Runtime, the
override file is installed in IntegrationServer_dir\config\security.  Changes in
the override file are applied programmatically. 

Although Integration Server allows the use TLSv1.1 and TLSv1, Software AG
recommends adjusting your enabled protocols to be more secure and use TLSv1.2 or
higher. To change the allowed protocols, set the
watt.net.jsse.*.enabledProtocols configuration parameters on Integration Server
or Microservice Runtime versions 10.5 and lower or by using the
watt.net.jsse.*.disabledProtocols properties on version 10.7. 

PIE-69213 (IS_10.7_Core_Fix3)
A misspelling of the word adapter resulted in an incorrect URL for the Open API
document for the Adapter Runtime. 

The incorrect URL was: /admin/swagger/adpaterRuntime

This has been resolved. The correct URL is: /admin/swagger/adapterRuntime

PIE-69422 (IS_10.7_Core_Fix3)
Enhancement to Microservices Runtime to allow metrics for layered products to be
returned when the metrics endpoint is invoked. 

Previously, Microservices Runtime (or an Integration Server with a Microservices
license) gathered and returned metrics for Microservices Runtime only. The data
returned when the metrics endpoint was called did not include any data for
layered products (Software AG products that reside on top of Microservices
Runtime). 

Now, metrics for layered products can be gathered and returned when the metrics
endpoint is called. For a list and description of metrics returned by layered
products, consult the documentation for those products. 

PIE-69684 (IS_10.7_Core_Fix3)
Integration Server stores OAuth client_secrets in clear text.

When a confidential OAuth client is created, Integration Server generates a
client_secret. The client_secret is similar to a password and must be stored
securely.  Integration Server saves client_secrets in clear text in the
database. However, if the database itself is not encrypted, this represents a
security vulnerability. 

This vulnerability had been addressed previously with PIE-67827 which changed
the Integration Server behavior to store the client_secrets in the secure
password store. However, this solution does not work well for Integration
Servers in a cluster because the password store resides on each server's local
file system. As a result, the client_secret values are not shared among all the
servers in a cluster. 

This fix addresses the security vulnerability and the shortcomings of using the
local password store, by encrypting each client_secret before writing it to the
database. When Integration Server reads client_secrets from the database,
Integration Server holds them in memory in encrypted form. Integration Server
decrypts the client_secret only when they are being used. 

When Integration Server starts after this fix is installed, Integration Server
encrypts clear text client_secrets in the database. Integration Server also
encrypts client_secrets found in the password store and saves them to the
database. 

PIE-61708 (IS_10.7_Core_Fix3)
In webMethods Cloud, attempts to move a newly created SOAP application from one
folder to another encounter issues if the application contains a document
reference. 

If a SOAP application in webMethods Cloud contains a document reference, copying
the application from one folder to another does not work correctly because the
copied document reference points to the old folder location and not the new
location. 

This issue is now resolved.

PIE-61404 (IS_10.7_Core_Fix2)
Pipeline data may become corrupted after service resubmitted via Monitor.

When using the service resubmission functionality in Monitor, the pipeline
passed to the service may decode equivalent objects as references to the same
object instead of unique objects that contain equivalent data. An incorrectly
decoded pipeline introduces the potential for data corruption. 

This issue is now fixed. Integration Server decodes equivalent objects in the
service resubmission pipeline as unique objects that contain equivalent data. 

PIE-63155 (IS_10.7_Core_Fix2)
Integration Server throws a document validation error while publishing a 
document that depends on a document in another package and the two packages were 
not installed in the correct order.

Consider two IS packages: package 'A' and package 'B'. Package 'B' contains a
document 'B1' which refers to a document 'A1' in package 'A'. The packages are 
installed in the correct order: first package 'A' and the package 'B'.
 
Now, suppose you modify elements in document 'A1' and then reinstall the 
packages in the reverse order: first package 'B' and then package 'A'. 
Thereafter, when you try to publish document 'B1', Integration Server does 
not publish it because document 'B1' refers to an earlier version of document 
'A1', which is not available.

This issue is now resolved. Now, even if the packages are installed in the 
reverse order, you will be able to publish the dependent document 'B1'.

PIE-66254 (IS_10.7_Core_Fix2)
Integration Server does not remove the durable from Universal Messaging for
packages that are deployed using WmDeployer. 

In Designer, when you create and enable a webMethods messaging trigger for
Universal Messaging, Integration Server creates a durable in Universal
Messaging. When you remove the same trigger from Designer, and the "Client
Prefix Is Shared" setting in Integration Server Administrator (on the "Settings
> Messaging > webMethods Messaging Settings > Universal Messaging Connection
Alias" page) is set to "No", then Integration Server removes the durable from
Universal Messaging. However, when you remove the trigger from the package
directly on the Integration Server and then deploy the package to another
Integration Server using WmDeployer, Integration Server does not remove the
durable from Universal Messaging. 

This issue is resolved. Now, a new parameter "Delete Universal Messaging
Durable" (<DeploymentSet_Name> > Packages > <Package_Name> > Properties >
Package Deployment Options) is added to the WmDeployer project page (accessible
from the "Packages > Management > WmDeployer" page in Integration Server
Administrator). When set to "Yes", Integration Server removes the durable from
Universal Messaging. The default value of "Delete Universal Messaging Durable"
is "No". 

PIE-66342 (IS_10.7_Core_Fix2)
The SSL debug log contains exceptions indicating that Integration Server
attempts to incorrectly close SSL connections. 

When Integration Server connects to URLs/endpoints using TLS and SSL debugging
is in use, the following exception is logged upon closing the connection:
"closing inbound before receiving peer's close_notify". This exception occurs
when Integration Server attempts to close SSL connections incorrectly. 

This issue has been fixed.

PIE-66486 (IS_10.7_Core_Fix2)
The Integration Server migration utility updates the Server ID in database
tables even for an upgrade on the same host. 

The issue is now resolved. 

PIE-66664 (IS_10.7_Core_Fix2)
The APIs tab on the Dashboard displays inconsistent data in the Top 5 Slow APIs
by Response Time chart and the Average response time value in the table. 

The response time values for the Top 5 Slow APIs by Response Time chart should
be the same as the Average response time for those APIs in the table below the
chart. 

Now, those values are the same.

PIE-66711 (IS_10.7_Core_Fix2)
Support for adding the SameSite attribute to the Set-Cookie HTTP response header
in Integration server. 

Integration Server includes a new server configuration parameter,
watt.server.http.header.sameSite, that enables you to add the SameSite attribute
to Set-Cookie HTTP response headers. 

Valid values for watt.server.http.header.sameSite are: None, Strict, and Lax. If
the parameter is set to None, all clients that include cookies with their
requests must use a secure HTTP (HTTPS) port. If you want to return Set-Cookie
headers without the Secure attribute, set watt.server.http.header.sameSite to
Strict or Lax. 

There is no default value for the watt.server.http.header.sameSite parameter.
Therefore, by default, the SameSite attribute is not added. 

A server restart is not required for this configuration parameter to take
effect. 

Notes:
* The HTTP standard states that when the SameSite attribute of the Set-Cookie
HTTP response header is None, the Secure attribute must be specified. To include
the Secure attribute in the HTTP response header, set the server configuration
parameter watt.server.http.header.useSecure to true. 
* If you try to set watt.server.http.header.sameSite to None in IS
Administrator, when watt.server.http.header.useSecure is set to false, IS
Administrator displays a warning message and does not allow you change the
value.  
* If you edit the server.cnf configuration file directly and specify an invalid
configuration, IS logs a warning and the invalid configuration is ignored. As
the value of watt.server.http.header.sameSite is ignored, the SameSite attribute
is not added to the Set-Cookie HTTP response header. 
* If you set the Set-Cookie header and include the SameSite attribute using the
pub.flow:setResponseHeader or pub.flow:setResponseHeaders services then IS
ignores the value of the watt.server.http.header.sameSite parameter. 

PIE-66793 (IS_10.7_Core_Fix2)
The pub.security.util:getCertificateInfo service returns only the last two
digits of the certificate expiration year which can lead to incorrect
calculations for certificates expiring in 2100 or later. 

The pub.security.util:getCertificateInfo service uses a preset date format that
returns only the last two digits of the certificate expiration year. This
creates ambiguity as a certificate that expires in 2109 returns an expiration
year of 09, which some systems might treat aa 2009. 

To address this issue, the pub.security.util:getCertificateInfo service now
includes the optional parameter dateFormat which is of  type String. The value
of dateFormat must be a pattern used by java.text.SimpleDateFormat, for example
"MM/dd/yyyy". Use the dateFormat parameter to specify the date format to use for
the date returned by the notBefore and notAfter fields in the validity output
parameter. 

PIE-67052 (IS_10.7_Core_Fix2)
Integration Server does not log exceptions that occur during an attempt to
establish an LDAP connection if a timeout occurs during the connection attempt. 

If an exception and timeout occur during an attempt to establish an LDAP
connection, Integration Server does not log the exception and the login attempt
fails. 

Now, Integration Server logs a message about the timeout and includes
information about the type of exception. 

PIE-67149 (IS_10.7_Core_Fix2)
pub.storage data can become inaccessible in a cluster.

Integration Server has a performance optimization in the pub.storage
implementation. This optimization caches database keys in local memory. When in
a cluster, this local cache can get out of sync with the database if another
server in the cluster deletes then recreates data with the same storeName and
key as the locally cached data. 

This issue has been addressed by disabling this optimization by default and
introducing a server configuration parameter to provide the option of enabling
the behavior. When Integration Server is not running in a cluster, the
optimization can be enabled by setting watt.server.storage.optimizeForStandalone
to true. When set to true, Integration Server caches database keys in local
memory, which may result in a small performance improvement for pub.storage.
When set to false (the default), Integration Server does not cache database keys
in local memory. 

Important! Do not set watt.server.storage.optimizeForStandalone to true when in
a cluster as this may lead to pub.storage database becoming inaccessible. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-67311 (IS_10.7_Core_Fix2)
Service caching performance appears to degrade under heavy load.

This issue is now resolved.

PIE-67416 (IS_10.7_Core_Fix2)
Under heavy load, server processing that relies on the
java.lang.invoke.MethodHandles class degrades resulting in high CPU usage and
OutOfMemoryExceptions 

Integration Server can encode an Object into a stream of bytes and decode a
stream of bytes, if properly encoded, back into an Object. The process of
decoding bytes uses the java.lang.invoke.MethodHandles class during the creation
of object instances. Under heavy loads, the performance of the
MethodHandles.lookup() method degrades. This can create a bottleneck in the
server's processing, eventually leading to high CPU usage and
OutOfMemoryExceptions. 

This has been resolved. The use of MethodHandles has been replaced.

PIE-67626 (IS_10.7_Core_Fix2)
When you create a JNDI connection alias using a WmRoot internal service and do
not update the required input parameters that enable the JNDI password to be
saved in the password manager, Integration Server fails to look up JNDI 
administered objects.

This issue is resolved. Now, Integration Server displays an error message
indicating that the input parameters are invalid or missing in the service 
request, and does not save the JNDI connection alias.

PIE-67687 (IS_10.7_Core_Fix2)
Enhancement to diagnostic utility to gather data for webMethods messaging and
JMS messaging. 

The diagnostic utility in Integration Server now gathers data about webMethods
messaging and JMS messaging and includes this information in the diagnostic
report. The diagnostic information includes trigger conditions, JMS connection
alias information, messaging connection alias information. The additional
information may help with debugging and diagnosing issues in Integration Server. 

PIE-67760 (IS_10.7_Core_Fix2)
Services results caching causes a StackOverflowError.

The Java serialization used by Integration Server for caching service results
used recursive calls. In some situations, the level of recursion resulted in a
StackOverflowError. 

This issue is resolved by changing the serialization used for caching service
results. 

PIE-67780 (IS_10.7_Core_Fix2)
If an email listener port in Integration Server is configured to invoke a flow
service, Integration Server creates a session for each invocation, which expires
in 600 seconds even though the flow service is configured as stateless and the
port is configured to invoke the service as a non-administrator user. 

This issue is resolved. Now, a session is created for each invocation of a
stateless flow service and the session expires only after the service execution
completes. 

PIE-67813 (IS_10.7_Core_Fix2)
For a Microservices Runtime or an Integration Server running in a Docker
container, the default ACL for accessing the /health and /metrics endpoint
should be "Anonymous" but is not. 

This issue is resolved.

PIE-67827 (IS_10.7_Core_Fix2)
Integration Server Administrator displays the OAuth client secret in clear text.

The Security > OAuth > Client Registration > Edit page displays the client
secret in clear text in the Secret field. Additionally, the database table that
stores the client secret also stores the client secret in clear text. 

To resolve this security vulnerability, the Security > OAuth > Client
Registration > Edit page now masks the contents of the Secret field and includes
a Reveal Secret button which displays the secret in clear text when clicked. The
database table that stores the client secret now uses an encrypted value instead
of clear text. The fix also migrates all existing clear text values for the
client secret in the database to be oauth.client.%CLIENT_ID%.secret where
%CLIENT_ID% is a variable that refers to an encrypted value in the outbound
password store. 

PIE-67872 (IS_10.7_Core_Fix2)
HTTP PUT requests from Integration Server to load-balanced Microsoft IIS servers
using NTLM authentication fail intermittently. 

During an NTLM handshake with a load-balanced Microsoft IIS server, Integration
Server does not return the cookie sent by the load balancer. So, NTLM Type 1 and
Type 3 requests reach different Microsoft IIS servers resulting in an
unsuccessful handshake. 

This issue is now resolved.

PIE-68051 (IS_10.7_Core_Fix2)
New Prometheus metric for service errors that excludes services from packages
listed in watt.server.stats.packages.exclude. 

The watt.server.stats.packages.exclude server configuration parameter excludes
services from statistics. By default, internal services that belong to packages
that start with Wm are excluded from various statistics. However, the Prometheus
metric sag_is_number_service_errors_per_minute returned by the /metrics endpoint
includes all services. 

To address this, the /metrics endpoint now returns the following Prometheus
metric: 
sag_is_number_service_errors_excluding_internal_svc_per_minute
The number of service errors in the last minute, which includes any service that
gets an exception of any kind but excludes any services in a package set in the
watt.sever.stats.packages.exclude server configuration parameter. 
Prometheus label: host

PIE-68171 (IS_10.7_Core_Fix2)
After migrating Microservices Runtime or an Integration Server instance from
10.3 to 10.7, the /health endpoint does not return information for the
ClusterHealthIndicator. 

This issue is now resolved.

Note: The /health endpoint functionality is available in Microservices Runtime
or in an Integration Server with a Microservices license. 

PIE-68268 (IS_10.7_Core_Fix2)
Integration Server erroneously treats automatic creation of a Broker connection
alias as an event that requires a restart of Integration Server. 

Pre-defined, system generated assets should not result in the banner stating
"Restart is required for changes to take effect." appearing at the top of
Integration Server Administrator. However, when Integration Server creates a
Broker connection alias during the very first time an installation of
Integration Server starts up, the restart required banner appears. 

This issue has been resolved by modifying the mechanism that detects restarts to
ignore system generated assets created on initial startup of Integration Server. 

PIE-68376 (IS_10.7_Core_Fix2)
After applying fix that includes PIE-67359, attempts to export configuration
result in no buildFiles being generated. 

The resolution for PIE-67359 contained logic that ensured files were only copied
to the Cloud deployment location if there were no errors during export. However,
this broke configuration export where asset types that could be successfully
exported were while asset types for which errors occur were not exported. 

To address this issue, the logic of exporting to cloud has been changed to allow
successful export of packages and asset types for which errors do not occur and
ensure that failed package exports do not generate NullPointerException. 

PIE-68473 (IS_10.7_Core_Fix2)
When a package containing a Web Services Descriptor is deployed to webMethods
Cloud Container, the WSDL URL is not updated correctly. 

The issue is resolved now.

PIE-68570 (IS_10.7_Core_Fix2)
Using a configuration variables template (application.properties) to set the
JNDI password does not result in the password being set in the outbound password
store. 

This issue is now fixed.

PIE-68592 (IS_10.7_Core_Fix2)
Addition of log4j2 jar files to the Integration Server and Microservices Runtime
classpaths. 

To support resolution of the shared component issue WSC-665, this fix adds the
log4j-jul.jar and log4j-12api.jar files to the classpath of Integration Server
and Microservices Runtime. 

Important! To resolve WSC-665 on a Microservices Runtime, you must apply the fix
that contains PIE-68592 to Microservices Runtime before applying the shared
components (WSC) fix. For Integration Server, the fix containing PIE-68592 does
not need to be applied before the WSC fix. 

PIE-68620 (IS_10.7_Core_Fix2)
The first time an Integration Server instance is started, the AuditConfig.xml
file is created. If the IS Core Audit JDBC functional alias is not configured,
the Service Custom Fields Logger is not added to the AuditConfig.xml. If the IS
Core Audit JDBC functional alias is subsequently configured and the Service
Logger is changed to use a database destination, the Service Custom Fields
Logger is added to AuditConfig.xml, but it incorrectly has a file system
destination. The entries logged by the Service Custom Fields Logger are used by
webMethods Monitor and must be written to a database, not to the file system. 

This has been fixed. When the Service Custom Fields Logger is created, it will
have a database destination. 

PIE-66839 (IS_10.7_Core_Fix1)
Statistics Data Collector now performs a scheduled restart once every 24 hours.

Statistics Data Collector, which is the Integration Server component responsible 
for the capture and retrieval of statistical information for its service 
invocations, now periodically restarts itself. The purpose of the restart is to 
minimize the disk file consumption produced by its document index from an 
embedded third-party library (org.apache.lucene). Restart of the Statistics 
Data Collector does not affect a running Integration Server.
 
PIE-65314 (IS_10.7_Core_Fix1)
When asynchronous request-reply operations for JMS messaging are consecutive, 
the second reply operation fails.

With Integration Server, an asynchronous request-reply for JMS messaging 
consists of invoking the pub.jms:sendAndWait service with the async input 
parameter set to true, followed by invoking the pub.jms:waitForReply service. 
The first service sends the request message and the second service waits for 
the reply message. When this sequence of services is invoked more than once 
within the scope of single top-level service, the second pub.jms:waitForReply 
service fails because the session to the JMS provider was closed by the previous 
invocation of the service.

Now, the session established by the pub.jms:waitForReply service is closed when 
the top-level service completes instead of when the pub.jms:waitForReply 
service completes.
 
PIE-67535 (IS_10.7_Core_Fix1)
When migrating to Integration Server 10.7 from an earlier version, the migration 
utility should remove SSLv3 as an enabled protocol but does not.

This fix addresses the issue. Integration Server 10.7 migrator automatically 
adds SSLv2Hello, SSLv3, and TLSv1 to the disabled protocols list even if any of 
them are found in the enabled protocols properties that are getting converted. 
The disabled protocols lists are controlled by 
the watt.net.jsse.client.disabledProtocols and watt.net.jsse.server.disabledProtocols 
server configuration parameters.

PIE-67719 (IS_10.7_Core_Fix1)
Concurrent delete statements can cause deadlocks in the document history database.

webMethods messaging triggers and JMS triggers use the document history database 
to ascertain if a received message is a duplicate. An entry written to the 
document history database expires after an amount of time configured on a per 
trigger basis. While triggers remove expired entries from the database, 
Integration Server also runs a scheduled task periodically to remove expired 
entries. If multiple threads call the logic to delete expired entries at 
the same time, threading concurrency issues may occur and result in 
a deadlock in the document history database.

To address this issue, Integration Server now ensures that the logic to delete 
expired entries in the document history database is called synchronously.
 
PIE-66940 (IS_10.7_Core_Fix1)
New classes in Integration Server Java API for generating a SAML 2.0 
bearer assertion for integration with an SAP system.

Integration Server now includes the 
com.softwareag.is.auth.saml.issuer.SAMLIssuerUtils.generateSamlAssertion method 
which can be used for generating a SAML 2.0 bearer assertion. For more information 
about this method and related classes, review the updated Java API documentation 
for Integration Server located at https://documentation.softwareag.com/.

Note: The resulting SAML 2.0 bearer assertion has been tested for integration 
with an SAP system.

PIE-66948 (IS_10.7_Core_Fix1)
When there are multiple requests by the webMethods Adapter for JDBC to create an 
adapter connection using Kerberos authentication, one request succeeds but the 
remainder fail with a JAAS authentication error.

The webMethods Adapter for JDBC uses Oracle's JDBC driver. When the adapter 
makes JDBC connections using Oracle's ojdbc8 driver to connect to the database, 
it sometimes fails with a JAAS authentication error. This makes it impossible 
for the JDBC connections made by the JDBC adapter to use Kerberos authentication.

This fix extends PIE-64956, making it possible for adapter connections made by 
the webMethods Adapter for JDBC adapter to use Kerberos authentication.

To use Kerberos authentication with for connections made by the webMethods 
Adapter for JDBC, do the following:

1. Add the login context to the database URL for the webMethods Adapter for JDBC 
connection alias by including the parameter loginConfigName=<loginContext>.
2. Set the watt.server.jdbc.datadirect.useJaasSubjectForKerberos server configuration 
property to true. You do not need to restart Integration Server for changes to 
this parameter to take effect.
3. If using Oracle's ojdbc8 driver, configure the adapter connection alias to 
use Kerberos for authentication and another user to access the database by 
adding the following database URL parameter to the adapter connection alias URL: 
ReAuthenticateUser= userName

Following is a sample URL used by the JDBC adapter connection with the Oracle's 
JDBC driver:
driverType=thin;loginTimeout=10;url=jdbc:oracle:thin:@
(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=<db-server.company.com>)(PORT=<1234>))
(CONNECT_DATA=(SERVICE_NAME=<db-service-name>)));
loginConfigName=<JAAS_CONFIG_FOR_USER>;ReAuthenticateUser=<username>;
connectionProperties=
{oracle.net.authentication_services=(KERBEROS5),oracle.net.
kerberos5_mutual_authentication=true};

With the above URL, the webMethods Adapter for JDBC adapter first establishes 
the connection to the database using the Kerberos JAAS authentication. 
If the ReAuthenticateUser connection parameter is specified then Integration Server 
invokes the APIs provided by the Oracle driver to switch the username from the 
Kerberos authenticated user to the user specified by the ReAuthenticateUser user 
parameter. This JAAS authentication avoids the JAAS authentication errors caused 
by the Oracle's JDBC driver.
 
PIE-63695 (IS_10.7_Core_Fix1)
Integration Server reloads the dependent packages of a WmDeployer runtime 
project (accessible from the "Packages > Management > WmDeployer" page in 
Integration Server Administrator) even when the "Reload Packages" property of 
the project (Projects > <Project_Name> > Properties > Packages > Reload Packages)
is set to "No".

This issue is resolved.
 
PIE-66690 (IS_10.7_Core_Fix1)
Currently, if a Java or Flow service creates an FTP(S) or SFTP session by 
invoking the pub.client.ftp:login or pub.client.sftp:login service, then the 
session does not close automatically. You must invoke the pub.client.ftp:logout 
or pub.client.sftp:logout service explicitly to close the session.

This issue is resolved by introducing the following server configuration 
properties:

watt.client.ftp.session.logoutOnServiceCompletion: Set the value to "true" to 
automatically close the FTP(S) session created by the pub.client.ftp:login 
service, when the top-level service execution completes. If the value is set 
to "false", you must invoke the pub.client.ftp:logout service to close the 
FTP(S) session. The default value is "false".

watt.client.sftp.session.logoutOnServiceCompletion: Set the value to "true" to 
automatically close the SFTP session created by the pub.client.sftp:login 
service, when the top-level service execution completes. If the value is set 
to "false", you must invoke the pub.client.sftp:logout service to close the 
SFTP session. The default value is "false".

You do not need to restart Integration Server for a change in these properties 
to take effect.
 
PIE-67263 (IS_10.7_Core_Fix1)
The "pub.client.sftp:chmod" public service accepts only three octal digits for 
the "mode" input parameter and does not accept a value for the sticky bit.

This issue is resolved. Now, you can set the sticky bit using the 
"pub.client.sftp:chmod" public service.
 
PIE-66900 (IS_10.7_Core_Fix1)
Integration Server incorrectly logs an error while restarting the server or 
reloading the WmPRT package. 

When client authentication for a Universal Messaging connection is set to 
"Username/Password" or "Certificate Based" in Integration Server Administrator 
(Settings > Messaging > webMethods Messaging Settings > Universal Messaging 
Connection Alias), Integration Server logs an error while restarting the server 
or while reloading the WmPRT package. 

This issue is resolved. Now Integration Server checks whether WmPRT documents 
are already synchronized with the Universal Messaging server during server 
restart or during WmPRT package reload and does not log any error.
 
PIE-66928 (IS_10.7_Core_Fix1)
A scheduled task does not run and the scheduler logs the "Could not complete 
last run" error because the ScheduleDB.checkInvalidTasks() job runs when 
the scheduler is still in the process of scheduling the task.

This issue is now resolved.
 
PIE-61795 (IS_10.7_Core_Fix1)
Integration Server migrated to Google Cloud Platform from on-premise throws 
the following error for scheduled jobs:
[ISS.0137.0013E] Scheduler: Error updating task in database:
Deadlock found when trying to get lock; try restarting transaction.

This issue is resolved now. 
 
PIE-62850 (IS_10.7_Core_Fix1)
Integration Server logs a SOAPException but does not indicate the underlying 
cause of the exception. While processing the body of a SOAP message, Integration 
Server sometimes logs the following:
com.wm.app.b2b.server.SOAPException: [ISS.0088.9134] Exception occurred while 
processing the body of the message
This message does not indicate the underlying cause of this exception.

This issue is now resolved. As part of the message for [ISS.0088.9134], 
Integration Server includes an underlying exception.
 
PIE-64091 (IS_10.7_Core_Fix1)
Integration Server ignores the Connection Timeout parameter configured for 
LDAP Directory servers.

This issue is resolved now.
 
PIE-64326 (IS_10.7_Core_Fix1)
OpenID Connect fixes and improvements.

This fix includes the following OpenID Connect fixes and improvements:

- Azure AD returns some errors that do not conform to the OpenID Connect standard. 
Integration Server now handles these non-conformant responses correctly.
- When a request is received on a port protected by an OpenID provider, an 
unused session remained on Integration Server after the client was redirected to 
the provider's login page. Now, Integration Server discards the session 
immediately.
- TRACE level logging has been added to aid in troubleshooting.
- It is now possible for the Id Provider name to be different than the provider's 
configuration file name. Previously, a configuration file named 
IntegrationServer\instances\<instance_name>\config\security\openid\ProviderXYZ.json 
must have contained a name field with the value "ProviderXYZ". Now, the 
provider's name and the file name can be different.
 
PIE-64334 (IS_10.7_Core_Fix1)
Designer does not retry connecting to Integration Server after disconnection due 
to a connection reset on the network and might lose connection to Integration 
Server, especially if the Integration Server instance is hosted remotely or in 
the cloud. 

This issue is resolved now by adding the retry behavior and the number of 
retries is configurable using the "watt.clientConnection.numberOfRetries" system 
property. You can configure the number of retries by adding this property to 
Designer at startup using the command line or add it to the 
"Software AG_directory\Designer\eclipse\configuration\config.ini" file. By 
default, watt.clientConnection.numberOfRetries=3, which means, in case of a 
connection reset, Designer attempts to reconnect three times. If the reconnect 
attempt fails three times, Designer disconnects from Integration Server.
Note: You can also connect to Integration Server manually using the Preferences 
dialog under "Window > Preferences > Software AG > Integration Servers" in 
Designer.
 
PIE-64500 (IS_10.7_Core_Fix1)
In an Integration Server configured with an LDAP server, if the number of results 
of a query for user groups exceeds the maximum size limit configured on the LDAP 
server, the Size Limit Exceeded error occurs on the LDAP server.

To resolve this issue, the following new server configuration properties are 
introduced:

watt.server.ldap.groupSearchFilter: Specifies the filter that Integration Server 
and SoftwareAG Platform Manager (SPM) plugin use when searching for user groups 
in the connected LDAP servers. This parameter helps to narrow down the search 
results and has no default value.

watt.server.jndi.searchresult.pageSize: Specifies the batch size of user groups 
that Integration Server retrieves from the connected LDAP servers. 
Use this parameter to limit the page size of LDAP search results. 
Set this parameter to 0 to retrieve all user groups from the LDAP servers at once. 
The default value is 1000.

Integration Server need not be restarted for the change to take effect.
 
PIE-64521 (IS_10.7_Core_Fix1)
Integration Server cannot enable webMethods messaging trigger for Broker.

When creating a webMethods messaging trigger for Broker, Integration Server 
fails to start the trigger and throws the following exception.
"com.wm.app.b2b.server.dispatcher.exceptions.MessagingSubsystemException: 
[ISS.0153.9998] webMethods Messaging Trigger <TRIGGER_NAME> experienced an 
unexpected error: Internal error: TriggerOutputControl is null."

When creating a webMethods messaging trigger, if you do not associate a document 
type and service for the trigger, Integration Server does not start the trigger. 
However, Integration Server incorrectly restarts the trigger and throws the 
following exception assuming that the trigger has already started.
"[ISS.0153.0998E] Unable to restart webMethods Messaging UM trigger 
<TRIGGER_NAME>: com.wm.app.b2b.server.dispatcher.exceptions.
MessagingSubsystemException: [ISS.0153.9998] webMethods Messaging Trigger 
<TRIGGER_NAME> experienced an unexpected error: Internal 
error: TriggerOutputControl is null."

These issues are now resolved.
 
PIE-64558 (IS_10.7_Core_Fix1)
When a malicious source tries to invoke a service in Integration Server through 
Enterprise Gateway, the security log records only the IP address of Enterprise 
Gateway and not that of the malicious source.

This issue is resolved now by introducing the server configuration property: 
watt.server.securityLog.eg.enableExternalClientIP.

If this property is set to true, then the security log records the IP address of 
the source. Otherwise, the log records the Enterprise Gateway IP address. The 
property is set to false by default.

Integration Server need not be restarted for the change to take effect.

PIE-64763 (IS_10.7_Core_Fix1)
When deploying users to Cloud solutions using Designer and the ACDL-based 
approach, the password field for each user asset is not visible for variable 
substitution in Designer's deployment wizard.

With this fix the password field will be visible and available for variable 
substitution.
 
PIE-64766 (IS_10.7_Core_Fix1)
Integration Server does not name the rolled over server log files correctly.

When size-based roll over is configured for the server log through the 
watt.server.serverlogRotateSize server configuration parameter, Integration 
Server sometimes uses the previous day date in the name of the rolled over 
server log file. Integration Server should use the current date in the name 
of the rolled over log file.

This issue is now resolved.
 
PIE-65135 (IS_10.7_Core_Fix1)
Restart of the Software AG Platform Manager (SPM) logs the following error in 
the SPM log default.log, when the Pub/Sub license is not enabled:
2020/04/22 21:14:35 WARN #00000 Error: (id: 1587582875981) Loaded configuration 
cannot be null. caused by: java.lang.IllegalStateException: Loaded configuration 
cannot be null.

This issue is resolved now.
 
PIE-65332 (IS_10.7_Core_Fix1)
Integration Server authenticates a user by searching the user's username and 
password in the local system. 
If a match is not found, Integration Server attempts to authenticate the user 
through the connected LDAP servers even if the username exists in the local 
system and only the user-entered password is incorrect. 
Currently, this behavior cannot be controlled.

To control this behavior, the "watt.server.ldap.checkLocalUserInLDAP" server 
configuration property is introduced. The default value of this property is 
"true". Set this property to "false" to skip LDAP-based authentication if the 
username exists in the local system.
 
PIE-65346 (IS_10.7_Core_Fix1)
Integration Server returns an incorrect HTTP error when an invalid input is 
passed to a REST v2 service.

If the payload of a REST v2 request to Integration Server contains an input that 
cannot be converted to the required type, Integration Server incorrectly sends 
the "500 error" as the HTTP response.

This issue is now resolved. Integration Server now sends the "400 Invalid Input" 
HTTP error along with the error details.
 
PIE-65416 (IS_10.7_Core_Fix1)
When running Integration Server or Microservices Runtime in an Alpine OS container, 
it may not be possible to create, edit, or synchronize a publishable document 
type with Universal Messaging.

Requests to create or update the provider definition on Universal Messaging may 
fail with the following error:

UM admin operation failed [create channel]: com.wm.util.coder.ProtoBufException: 
[ISC.0076.9021] Error invoking the protocol buffer compiler. 
Error: java.io.IOException: Cannot 
run program "/xxx/common/bin/protoc" 
(in directory "/xxx/IntegrationServer/bin/../packages/xxx/ns/yyy): error=2, 
No such file or directory.

Where "xxx" and "yyy" in the message will contain one or more directory names.

This issue is now resolved.

PIE-65498 (IS_10.7_Core_Fix1)
Integration Server generates an incorrect output service signature on importing
an OpenAPI document.

When you create a provider REST API descriptor using an OpenAPI document that
contains an operation response referencing an empty schema, Integration
Server generates an incorrect document structure in the output service signature.

This issue is now resolved.
 
PIE-65740 (IS_10.7_Core_Fix1)
Integration Server throws an incorrect validation message while executing the 
generated service after importing an OpenAPI document.

When you create a provider REST API descriptor using an OpenAPI document that 
contains a JSON schema property of type number or integer whose exclusiveMaximum 
or exclusiveMinimum constraint is set to true, and the value of the property
sent to the service is the same as either of the two constraints values, 
Integration Server throws an incorrect validation message.

This issue is resolved. Now Integration Server displays correct validation 
message.
 
PIE-66114 (IS_10.7_Core_Fix1)
Email notification for service execution failure does not include service 
name or the time of failure.

When a service execution fails, Integration Server sends an email to the 
email address specified in the Email Notification section of the 
"Settings > Resources" screen in Integration Server Administrator. 
The email contains detailed service exception but does not include the name of 
the service that failed to execute and the time at which the failure occurred.

This issue is resolved now.
 
PIE-66160 (IS_10.7_Core_Fix1)
Statistics Data Collector now performs a scheduled restart once every 24 hours.

Statistics Data Collector, which is the Integration Server component responsible 
for the capture and retrieval of statistical information for its service 
invocations, now periodically restarts itself. The purpose of the restart is 
to minimize the disk file consumption produced by its document index from an 
embedded third-party library (org.apache.lucene). Restart of the Statistics 
Data Collector does not affect a running Integration Server.
 
PIE-66187 (IS_10.7_Core_Fix1)
The server log contains the message "BinCoder decode error creating Java serialized 
object. Excpt:java.lang.ClassNotFoundException: Class:java.lang.NullPointerException, 
not in White List".

Integration Server could not deserialize NullPointerException because it was 
not whitelisted.

The Class:java.lang.NullPointerException class is now added to the white list 
along with other classes to allow NullPointerException to be thrown and handled 
by Integration Server correctly.
 
PIE-66279 (IS_10.7_Core_Fix1)
When creating a JDBC pool alias by applying a configuration variables template 
at startup, creating the pool alias fails if the exiting pool alias is null.

When using application of a configuration variables template to create a JDBC 
pool alias and then associate the alias with a JDBC functional alias, 
Microservices Runtime (or an Integration Server with a Microservices license) 
creates the JDBC pool alias but does not associate the pool alias with the JDBC 
functional alias.

This issue is now resolved. A JDBC pool alias can be created and assigned via 
application of a configuration variables template.

PIE-66318 (IS_10.7_Core_Fix1)
Issues with REST request payloads that have numeric values containing spaces and 
REST responses with the contentType set to date. 

When a numeric value in a REST request sent to an Integration Server REST V2 
resource includes a space, Integration Server processes the request incorrectly. 
For example, a request payload containing " 20.5". Additionally, if one of the 
fields in the REST response has a contentType as date, Integration Server 
returns an incorrect date format as a response.

These issues are now resolved.
 
PIE-66389 (IS_10.7_Core_Fix1)
When Integration Server is in quiesce mode, the server log contains multiple 
messages stating "The ServiceResults Cache is not alive (STATUS_SHUTDOWN)".

These messages are logged because Integration Server is attempting to sweep 
the ServiceResults Cache but the cache is not available because Integration 
Server is in quiesce mode. When Integration Server is in quiesce mode, 
Integration Server should not sweep the ServiceResults cache.

Now, when in quiesce mode, Integration Server does not sweep the 
ServiceResults Cache.
 
PIE-66393 (IS_10.7_Core_Fix1)
Integration Server does not honor the value of watt.server.stats.logFilesToKeep.

Integration Server keeps an unlimited number of statistics log files regardless 
of the value of watt.server.stats.logFilesToKeep.

This issue is now resolved.
 
PIE-66394 (IS_10.7_Core_Fix1)
A StackOverflowError occurs during service results caching.

When a high volume of requests invoke the same service and that service has 
cached results, a race condition occurs where the cached results become 
corrupted. This results in a StackOverflowError.

Now, Integration Server synchronizes access to retrieving and updating the 
cached results for a service, which prevents the corruption.
 
PIE-66445 (IS_10.7_Core_Fix1)
The stat sag_is_avg_time_per_http_requests returns the wrong data in Prometheus 
stats.

The incorrect Integration Server stats value is being returned for the stat 
sag_is_avg_time_per_http_requests statistic.

The correct value is now returned for stat sag_is_avg_time_per_http_requests. 
 
PIE-66538 (IS_10.7_Core_Fix1)
Command Central does not display all the supported RDBMS options.

While creating a new instance in Command Central and selecting the RDBMS, 
Command Central does not list all the supported RDBMS options.

This issue is now resolved.
 
PIE-66576 (IS_10.7_Core_Fix1)
Cross-site scripting vulnerability in two pages of the Integration 
Server Administrator UI.

The Extended Settings and Mime Types pages of Integration Server Administrator 
had a cross-site scripting vulnerability.

The issue is resolved now.
 
PIE-66629 (IS_10.7_Core_Fix1)
On the Settings > Cluster page in Integration Server Administrator, 
the Server Start Time value is not in the correct format.

The Server Start Time for a clustered Integration Server instance should be 
shown in the format "yyyy-MM-dd HH:mm:ss z" by default or the format specified 
by the watt.server.dateStampFmt configuration parameter. However, the Server 
Start Time is shown as UNIX time.

This issue is now resolved.
 
PIE-66640 (IS_10.7_Core_Fix1)
When Alpine is used as a base Docker image for Microservices Runtime, 
the root user is used to launch the process.

This issue is now resolved. Microservices Runtime now uses sagadmin user 
when using Alpine as a base Docker image.
 
PIE-66681 (IS_10.7_Core_Fix1)
The Logs pages are not refreshing automatically.

In Integration Server Administrator, the logs displayed under the Logs menu 
should refresh automatically. 
The refresh rate is controlled by the watt.server.log.refreshInterval server 
configuration parameter. However, the logs were not refreshing automatically.

This issue is now resolved.
 
PIE-66701 (IS_10.7_Core_Fix1)
When using the pub.smime.keystore: createSignedAndEncryptedData built-in 
service, if the explicit property is set to false, then processing the signed data 
with the pub.smime:processSignedData service (after processing the encrypted data) 
fails with the error "com.wm.app.b2b.server.ServiceException: [ISS.0086.9055] 
Could not retrieve content from input". 

The issue is fixed now.
 
PIE-66732 (IS_10.7_Core_Fix1)
During start up, Integration Server logs erroneous messages about adding My 
webMethods user groups to ACLs even though My webMethods Server is not installed.

When Integration Server starts up, it attempts to add the My webMethods Users 
and My webMethods Administrators user groups to the default Integration Server 
Access Control Lists (ACLs). This occurs even when My webMethods Server is not 
installed and the user groups do not exist on Integration Server. Error similar 
to the following appear in the server log:

[ISS.0024.0015E] Integration Server cannot add group "My webMethods Users" 
to ACL "Anonymous" 
because group "My webMethods Users" is not found.

This issue is now resolved. Integration Server now verifies the existence of a 
user group before attempting to add it to an ACL.
 
PIE-66876 (IS_10.7_Core_Fix1)
All Prometheus metrics reported when the metrics endpoint is called now have 
a host label.

Some of the Prometheus metrics reported by Microservices Runtime (or an 
Integration Server with a Microservices license) did not include the Prometheus 
label "host". The host label is used to capture the hostname of the machine 
that produced the data. This is useful when metrics are collected from many 
installations.

Now, all Prometheus metrics returned by Microservices Runtime include the 
host label.
 
PIE-67176 (IS_10.7_Core_Fix1)
Change in the default value of watt.server.stats.logfile to be logs/stats.csv.

The default value of watt.server.stats.logfile should be logs/stats.csv because 
the default format of the statistics log is a comma-separated values.
The default value of watt.sever.stats.logfile is now logs/stats.csv instead 
of logs/stats.log.
 
PIE-67326 (IS_10.7_Core_Fix1)
Unable to delete any user-created custom JAAS realm from Command Central.

The issue is resolved now.
 
PIE-67359 (IS_10.7_Core_Fix1)
When using Designer to deploy packages to cloud, NullPointerException is 
thrown when a package fails to deploy.

Now, failure of a package to deploy is handled more gracefully.
 
PIE-67478 (IS_10.7_Core_Fix1)
Changes to resource names in Integration Server Administrator API to improve 
usability. Some resource names in the Administrator API were very long or 
included trailing periods.

In this fix, resource names were shortened and trailing periods were removed.
 
PIE-67517 (IS_10.7_Core_Fix1)
When enhanced logging for messaging is configured to write to the messaging 
audit log, Integration Server does not persist the change across restart.

When the Logging Type for enhanced messaging logging is set to Messaging 
Audit Log, after Integration Server restart the logging type reverts to the 
server log.

Now, when the Logging Type is set to Messaging Audit Log, Integration Server 
persists the change across restart.
 
PIE-67621 (IS_10.7_Core_Fix1)
Connecting to Integration Server from Designer takes minutes when running on 
a macOS. 

This issue has been resolved.
 
PIE-67641 (IS_10.7_Core_Fix1)
The About page of the new Administrator console shows some blank lines in 
the Japanese locale.

This issue is resolved now.
 
PIE-67822 (IS_10.7_Core_Fix1)
An attempt to delete a JDBC pool linked to a JDBC driver that does not exist 
fails with NullPointerException.

Now, a JDBC pool linked to a non-existent JDBC driver can be deleted.
 
PIE-62470 (IS_10.7_Core_Fix1)
The wm.server.dispatcher:deleteExpiredUUID system task, which deletes expired 
documents in the document history database, is scheduled even though the 
document history JDBC pool is not configured.

This issue is now fixed.
 
PIE-64157 (IS_10.7_Core_Fix1)
Removal of class from whitelist to address security vulnerability.

The java.net.URL class was removed from the whitelist and factored out of the 
HttpContext as the java.net.URL class has a known vulnerability to 
serialization attacks.
 
PIE-66693 (IS_10.7_Core_Fix1)
Designer does not properly reduce the dimension of an input or output XML 
document list in a Loop step.

In the Pipeline view in Designer, the dimension of an XML document list within 
a Loop step is not reduced. This prevents mapping within the Loop step.

This issue is now resolved.
 
PIE-66903 (IS_10.7_Core_Fix1)
For Enterprise Gateway custom filters created from API Gateway, Integration 
Server removes the payload from the pipeline for the custom service that is 
invoked.

The issue is resolved now.
 
PIE-66910 (IS_10.7_Core_Fix1)
Redundant caching of sessions. 

When services are invoked or web pages are requested, user sessions are written 
to the session cache twice. This redundancy is not needed and can put a strain 
on the session cache when processing a high volume of requests.

This has been resolved. The redundant caching of sessions has been eliminated.

PIE-66920 (IS_10.7_Core_Fix1)
Filters are not working for a webMethods messaging trigger that receives 
messages from Universal Messaging.

Integration Server generates the incorrect protocol buffer descriptor for a 
publishable document type that contains multiple document reference variables 
that have the same name but refer to IS document types in different folders.

To resolve this issue, Integration Server now uses the fully qualified name of 
the document reference in the protocol buffer descriptor.

Important! To complete resolution of this issue, for each publishable document 
type that contains multiple document reference variables with the same name but 
different document type references, a new protocol buffer descriptor must be 
generated and then synchronized with Universal Messaging. 
After applying a fix that contains PIE-66920, edit the publishable document 
type, save it, and then synchronize it with Universal Messaging.
 
PIE-66922 (IS_10.7_Core_Fix1)
During repository-based deployment, Integration Sever packages reload many times.
Integration Server reloads packages over and over again during repository-based 
deployment. 

Now, Integration Server ensures that packages load only once during 
repository-based deployment.
 
PIE-67000 (IS_10.7_Core_Fix1)
Integration Server Scheduler does not pause on quickly switching between 
the pause and resume states

Involving the commands Pause Scheduler, Resume Scheduler, and Pause Scheduler 
in quick succession in Integration Server Administrator does not pause the 
Scheduler.

The issue is fixed now.
 
PIE-67094 (IS_10.7_Core_Fix1)
During package deployment, startup services begin executing before Integration 
Server applies the ACLs contained in the deployment metadata.

Now, during package deployment, Integration Server applies the ACLs from the 
deployment metadata and then begins executing the package startup services.
 
PIE-67272 (IS_10.7_Core_Fix1)
Integration Server does not return an error message to the API Gateway when you 
attempt to update an active listener using webMethods API Gateway.

This issue is resolved now. Integration Server returns an error message to API 
Gateway indicating that the listener must be disabled before updating its 
configuration. Similarly, when you attempt to update a primary listener, 
Integration Server returns an error message indicating that the primary 
listener should not be updated.
 
PIE-62179 (IS_10.7_Core_Fix1)
Updating the Integration Server license key in Command Central does not reflect 
in Integration Server Administrator.

Integration Server Administrator displays the message "License Key is Expired 
or Invalid" even after a valid license key is added on the IS Configuration 
page of Command Central.

The issue is resolved now.
 
PIE-62959 (IS_10.7_Core_Fix1)
User Interface issue in Integration Server Administrator when it is accessed 
from webMethods Cloud Container.
 
If you are using the Google Chrome browser and access Integration Server 
Administrator from webMethods Cloud Container, a user interface issue causes 
the page to automatically scroll upon clicking the Settings menu.

To work around this issue, use a different browser.
 
PIE-65372 (IS_10.7_Core_Fix1)
While converting a document to a JSON string, the built-in service 
pub.json:documentToJSONString converts Unicode values to the corresponding 
Unicode characters. For example, if the document contains the value "\u2605", 
the service converts it to the character "*".

This issue is resolved now.
 
PIE-66897 (IS_10.7_Core_Fix1)
When creating a REST API Descriptor (RAD) using a Swagger document that contains
an object array in which some of the nested properties are 'required', 
Integration Server sets all the fields of the document type generated for the 
object array as 'optional'.

This issue is now resolved. 
 
PIE-66984 (IS_10.7_Core_Fix1)
CSRF token errors in RESTv2 requests to unprotected URLs.

If a REST endpoint is added to "Unprotected URLs" in the CSRF page in
Integration Server Administrator and CSRF guard is enabled, Integration Server
should exclude requests to that endpoint from CSRF secure token checks.
However, an error is returned if a REST request at an unprotected URL
does not meet the CSRF secure token checks.

The issue is fixed now.
 
PIE-67003 (IS_10.7_Core_Fix1)
Attempts to create an Integration Server document type from a schema that 
contains an xsd:any element that is part of nested choices elements fail with 
NullPointerException at 
com.wm.lang.schema.ComplexModel.mergeChoiceName(ComplexModel.java:297)

This issue is fixed now.
 
PIE-67104 (IS_10.7_Core_Fix1)
Messages are incorrectly discarded from the client side queue because 
Integration Server does not properly save the time to live for the publishable 
document type.

Integration Server does not properly save the Time to live value for a 
publishable document type. This results in published instances of the document 
type being discarded from the client side queue prematurely.

This issue is now resolved.
  
PIE-66955 (IS_10.7_Core_Fix1)
The configuration variables log contains passwords if the passwords were 
provided in the application.properties file.

The configuration variables log now masks any passwords with ******.



8.0 Installation

Install using Software AG Update Manager. For instructions, see the 
documentation at https://docs.webmethods.io.



9.0 Uninstallation

Note: These instructions can only be used to uninstall the most recently 
installed fix. This action will revert your installation to the previously 
installed fix. You cannot use these instructions to uninstall the previously 
installed fix.

Uninstall using Software AG Update Manager. For instructions, see the 
documentation at https://docs.webmethods.io.

The steps for uninstalling IS_10.7_Core_Fix25 depend on the previous fix level.

If the previous fix level is lower than Integration Server 10.7 Core Fix 11,
perform the following steps to uninstall IS_10.7_Core_Fix25:

1. Select Security Infrastructure 10.7 Fix 6 (SIN_10.7_Fix6) or later located under
Infrastructure > Shared Platform.

2. Select Integration Server 10.7 Core Fix 25 (IS_10.7_Core_Fix25) located
under the Integration Server or Microservices Runtime group.

3. Select the ZSL 10.7 Fix 1 (ZSL_10.7_Fix1) or later located under the
Infrastructure > Shared Platform > Bundles.

4. Select Shared Libraries BaseSecurity 10.7 Fix 2 (TPP_10.7_BaseSecurity_Fix2) 
or later located under the group Third-Party Libraries.

5. If Platform 10.7.0 Fix 0012 (OGI_10.7_Fix0012) or later is installed, then 
select the fix.

6. If Java Package 1.8 Fix 148 (CJP_10.7_Fix148) or later is installed, then 
select the fix.

7. Click Uninstall or Next. Complete uninstallation of the fixes.

If the previous fix level is either Integration Server 10.7 Core Fix 11 
(IS_10.7_Core_Fix11) or Integration Server 10.7 Core Fix 12 (IS_10.7_Core_Fix12), 
perform the following steps to uninstall IS_10.7_Core_Fix25:

1. Select Security Infrastructure 10.7 Fix 6 (SIN_10.7_Fix6) or later located under
Infrastructure > Shared Platform.

2. Select Integration Server 10.7 Core Fix 25 (IS_10.7_Core_Fix25) located
under the Integration Server or Microservices Runtime group.

3. Select the ZSL 10.7 Fix 1 (ZSL_10.7_Fix1) or later located under the
Infrastructure > Shared Platform > Bundles.

4. If Platform 10.7.0 Fix 0012 (OGI_10.7_Fix0012) or later is installed, then 
select the fix.

5. If Java Package 1.8 Fix 148 (CJP_10.7_Fix148) or later is installed, then 
select the fix.

6. Click Uninstall or Next. Complete uninstallation of the fixes.

7. After successful uninstallation of the fixes, reinstall the following fixes:
   - Select Security Infrastructure 10.7 Fix 6 which is located under the group 
     Infrastructure > Shared Platform.
     Software AG Update Manager automatically selects the following dependencies:
        - Infrastructure > Shared Platform > Bundles > ZSL 10.7 Fix 1
        - Infrastructure > Shared Platform > Platform 10.7.0 Fix 0012

If the previous fix level is Integration Server 10.7 Core Fix 13 
(IS_10.7_Core_Fix13) or later, perform the following steps to uninstall 
IS_10.7_Core_Fix25:

1. Select Integration Server 10.7 Core Fix 25 (IS_10.7_Core_Fix25)
located under the Integration Server or Microservices Runtime group.

2. Click Uninstall or Next. Complete uninstallation of the fixes.



10.0 Globalization

This fix conforms to the internationalization standards of the webMethods product 
suite and includes support for operation in any country, locale, or language as 
specified in the Installing webMethods Products guide. It was not tested with 
non-English configurations and non-ASCII data. However, this fix has no 
globalization impact and can be applied to systems running in any supported 
locale or configuration.


10.1 Localization

This fix does not require an updated language pack. It might contain new messages 
and these messages will appear in English.



11.0 Copyright

Super iPaas Integration LLC, an IBM Company 2024.