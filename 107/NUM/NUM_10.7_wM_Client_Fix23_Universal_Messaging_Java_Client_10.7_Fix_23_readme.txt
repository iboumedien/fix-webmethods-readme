              IBM webMethods Universal Messaging webMethods Client 10.7 SP0 Fix 23 Readme
          
                                  December 2024

________________________________________________________________________________

This file provides important information for applying IBM webMethods Universal Messaging Client 10.7 
SP0 Fix 23 to IBM webMethods Universal Messaging 10.7 SP0 installations. For additional information 
about IBM webMethods Universal Messaging, see the index.html file in the docs directory of your 
installation. 


Contents:

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements
5.0   Platform Support
6.0   Cautions and Warnings 
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization 
11.0  Copyright
12.0  Contacting Us



1.0 Fix Name

IBM webMethods Universal Messaging webMethods Client 10.7 SP0 Fix 23 Build ***BUILD_NUMBER***



2.0 Fix ID

NUM_10.7_wM_Client_Fix23



3.0 Product(s)/Component(s) Affected

IBM webMethods Universal Messaging webMethods Client 10.7 SP0



4.0 Requirements

None.



5.0 Platform Support

Same platforms as product release.



6.0 Cautions and Warnings

None.


7.0 Fix Contents

In addition to including resolutions to product defects, a fix may also include
enhancements to existing functionality and features. Any of these items can 
result in new or changed built-in services, APIs, or configuration parameters. 
Review the fix contents carefully before applying the fix.
 	
This fix is cumulative, which means that it is an aggregate of previous fixes 
for the release.

NUM-23730 (NUM_10.7_wM_Client_Fix23)

The client side API com.pcbsys.nirvana.client.nSession#deleteRealm has been changed to ensure that 
the realm name to be removed is first removed locally on the connected realm server before the 
connected realm server name is removed remotely.  This API is also used in the Enterprise Manager 
whenever a realm server is first selected and the right mouse button context menu item "Remove A 
Realm" is executed or performed.

NUM-21794 (NUM_10.7_wM_Client_Fix22)

Improved logging when different threads try to close an http connection simultaneously in a 
Universal Messaging client.

NUM-21335 (NUM_10.7_wM_Client_Fix22)

On the Windows platform JVM's do not support millisecond resolution when using the 
java.util.concurrent.locks.LockSupport#parkNanos methods causing delays up to 15 milliseconds when 
expecting only 1 millisecond. A solution has been implemented that overcomes this issue by enabling 
1 millisecond clock resolution with the use of java.lang.Thread#sleep(long) on a thread for the 
life of the JVM.

NUM-20274 (NUM_10.7_wM_Client_Fix21)

During network latency, the Universal Messaging NHP and NHPS communication drivers might not perform 
optimally, which might result in many network events queueing on the client side.
When the client encounters network latency and with enough concurrent requests in a request-reply 
scenario, the server's NHP and NHPS drivers are overwhelmed when using the default configuration.
The issue is resolved. Logging has been enhanced and the max buffer size of the drivers has been 
increased from 10 KB to 100 MB when a request is sent. When you set the 
'com.softwareag.um.client.write_handler' client property
to 'queue' each request is filled before being sent.
In addition, you can use the following new client properties to change the default behavior of the 
communication drivers in case of network delays and to enhance logging:
com.softwareag.um.client.MaximumContentLengthPerHTTPRequest=<bytes>
Specifies the maximum number of bytes that a single HTTP request can send. Default is 103809024, or 
99 MB in bytes.
com.softwareag.um.client.EventSerializationTimeLoggingThreshold=<milliseconds>
Specifies a threshold in milliseconds beyond which the client writes a log message to help find 
network delays. The measurement is taken while serializing an event into bytes. Default is 1000 
milliseconds.
com.softwareag.um.client.NetworkFlushTimeLoggingThreshold=<milliseconds>
Specifies a threshold in milliseconds beyond which the client writes a log message to help find 
network delays during OutputStream flush calls. The measurement is taken while calling the 
highest-level flush and an additional
log message is produced in the lowest area where multiple flush calls could be executed. Default is 
5000 milliseconds.
com.softwareag.um.client.OutboundQueueSizeLoggingThreshold=<number_of_events>
Specifies a threshold beyond which the client writes a
log message to help find queued network events waiting to be sent by the client. This indicates an 
upcoming timeout on requests and potentially timed-out requests due to the client not receiving a 
reply from the server. Default is 50 events.
com.softwareag.um.client.MarkTimedOutEventDeleted=true|false
Changes the behavior when the client sends a synchronous request, if the request times out on the 
client side before it is sent. In this case, the event is deleted, which can result in quicker 
recovery of a bad state and in not sending superfluous data. Default is 'true'.
For more information about setting client properties, see the Universal Messaging documentation.

NUM-21090 (NUM_10.7_wM_Client_Fix20)

Universal Messaging now uses the Netty library version 4.1.100.Final on all operating systems.

NUM-20446 (NUM_10.7_wM_Client_Fix19)

In some of the cases (lack of permissions in ACL, cluster not formed...), creating a JNDI context 
fails and Enterprise Manager does not show anythink as error information.
Now we show a little UI dialog that informs customer what is the problem. The explanation of error 
message comes from exception cause this failure.

NUM-16156 (NUM_10.7_wM_Client_Fix19)

Universal Messaging does not provide an option to export Protobuf
definitions from a channel or queue.
The Protobuf definitions are needed when you want to explore
the structure of a payload in a client application or when you
import or export the contents of a channel or queue.
The issue is resolved. Now you can export Protobuf definitions
from a channel or queue in the following ways:
- Using a new command-line tool named ExportProtobufDefinitions.
- Using the Enterprise Manager. A new option, Export Protobuf Definitions,
has been added to the context menu for a channel or queue.
In addition, the ExportRealmXML and ImportRealmXML command-line tools
also have options for exporting and importing Protobuf definitions, respectively.

NUM-20729 (NUM_10.7_wM_Client_Fix19)

Netty-all libraries updated to version 4.1.97
Note: Any existing instances of the AMQP Java Template Applications under UniversalMessaging/java 
will need to be recreated using the Universal Messaging Instance Manager due to library dependency 
changes. Non-AMQP Java Template Applications are not affected by this change.

NUM-18956 (NUM_10.7_wM_Client_Fix18)

OpenSSL is upgraded to 1.1.1.u version

NUM-20381 (NUM_10.7_wM_Client_Fix17)

Netty-all libraries updated to version 4.1.87
Note: Any existing instances of the AMQP Java Template Applications under UniversalMessaging/java 
will need to be recreated using the Universal Messaging Instance Manager due to library dependency 
changes. Non-AMQP Java Template Applications are not affected by this change.

NUM-20308 (NUM_10.7_wM_Client_Fix17)

The Universal Messaging RealmInformationCollector (RIC) tool fails to export the realm configuration 
of a cluster in live mode when the cluster is not formed and a JNDI context is present.
The tool returns the exception "Failed to execute 'realmconfig' collector, reason: Failed to export 
realm configuration for instance: <instance>". The issue occurs because the export of the JNDI 
event set fails.
The issue is resolved. Now the RIC tool ignores the export of the JNDI event set and exports the 
realm configuration.

NUM-19822 (NUM_10.7_wM_Client_Fix15)

Before the fix, user is unable to create/Delete the site in Enterprise Manager -> Cluster -> Sites 
tab. Site tab did not display the Site details if the sites are already present.
After this fix, User will be able to create/delete the Site from Enterprise Manager. The Site 
details will also be displayed in Enterprise Manager Site panel if the site details are present

NUM-19891 (NUM_10.7_wM_Client_Fix15)

Using JMX, you can monitor only one Universal Messaging HTTP-SocketAccept or
HTTP-SSLSocketAccept thread pool at a time and you cannot identify which thread
pool you are monitoring.
Out of many existing HTTP-SocketAccept or HTTP-SSLSocketAccept thread pools,
you can monitor only one at a time using JMX and it is not clear which one it is.
The JMX monitoring tool just displays the generic name HTTP-SocketAccept.
The issue happens because the socket accept thread pool name does not include
the name of the corresponding Universal Messaging interface and the JMX server
cannot identify the different thread pools.
The issue is resolved. Now each HTTP-SocketAccept or HTTP-SSLSocketAccept thread
pool name includes the name of the corresponding interface, for example,
HTTP-SocketAccept-nhp1, and all thread pools are visible and identifiable in your
JMX monitoring tool.

NUM-19414 (NUM_10.7_wM_Client_Fix15)

Adding or modifying supported ciphers for a Universal Messaging server SSL interface using 
command-line tools might fail.
When you run the AddHTTPSInterface, AddSSLInterface, or ModifyInterface command-line tools and 
specify the 'ciphers' optional parameter, the tools might fail to execute, although the specified 
ciphers are part of the list of supported SSL ciphers. Adding a cipher might fail with the 
following error: "Illegal argument passed: Cipher not found in supported cipher list".
The issue is resolved.

NUM-19468 (NUM_10.7_wM_Client_Fix14)

Adding a consumer to a UM Store leaves the sub-name field in the Connections tab empty.
Issue is resolved.

NUM-19430 (NUM_10.7_wM_Client_Fix14)

Universal Messaging now supports defining the number of concurrent connections per user.
You can use a new realm configuration property, "MaxNoOfConnectionsPerUserName", part of the 
"Connection Config" group in the Enterprise Manager, to specify the number of concurrent 
connections per user. The default is -1, which means no limit is set on the number of connections. 
Valid values range between -1 and 2147483647. When you set a limit, if connections exceed the 
specified number, the client will get an nSecurityException. However, admin connections with the 
"Realm Override Connection Count" permission are still allowed to connect to the realm server.
In addition, the existing "MaxNoOfConnections" property, controls the total number of concurrent 
connections to the server. When you set a limit on the total number, connections that exceed the 
limit are rejected if they are non-admin connections or if they do not have the "Realm Override 
Connection Count" permission. The default is -1, which means no limit is set on the number of 
connections. Valid values range between -1 and 2147483647.

NUM-19291 (NUM_10.7_wM_Client_Fix14)

Creation of an interface when there is an existing interface with the same port was allowed.
This issue is resolved.

NUM-19126 (NUM_10.7_wM_Client_Fix14)

The Universal Messaging TraceStores realm configuration property in Enterprise Manager is not 
updated correctly.
You cannot remove the names of all the stores specified in the TraceStores configuration property. 
At least one store that you cannot delete remains specified.
The issue is resolved.

NUM-16276 (NUM_10.7_wM_Client_Fix14)

Deleting durables might cause extra memory usage in Enterprise Manager over time.
The issue occurs because the nDurablePanel and nDurableSnoopPanel objects for the deleted durables 
continue to exist in memory.
The issue is resolved.

NUM-19300 (NUM_10.7_wM_Client_Fix14)

When Integration Server uses Universal Messaging as a JMS provider, it might stop responding when 
you try to enable or disable JMS triggers.
The issue is resolved.

NUM-18479 (NUM_10.7_wM_Client_Fix14)

Reintroduced the Id option of the nRealmTool utility to modify the host and port.

NUM-19151 (NUM_10.7_wM_Client_Fix14)

Enterprise Manager displays invalid realm property values imported from an XML realm configuration 
file using the ninstancemanager command-line tool.
After you import a realm configuration from an XML file using ninstancemanager and the configuration 
contains invalid realm property values, Universal Messaging might not automatically replace the 
invalid values with valid ones on start-up. As a result, Enterprise Manager displays the invalid 
property values, which could lead to exceptions and unexpected behavior of Enterprise Manager.
The issue is resolved. 

NUM-18564 (NUM_10.7_wM_Client_Fix13)

A Universal Messaging client might take a long time to detect a connection failure.
The issue is resolved. Universal Messaging keep-alive performance has been optimized for improved 
detection of broken socket connections.
For all nSession clients, each client will now check for the reception of a server-side keep alive. 
Note that you configure server-side keep-alive intervals by setting the "KeepAlive" realm 
configuration property under "Connection Config" in Enterprise Manager. If this keep alive is not 
received on time, the session is closed, and a reconnection attempt is made. Also note that 
reconnections can be disabled at an API level.
In addition, you can use a new Java system property, com.softwareag.um.client.missed_keep_alives=<n> 
to set the number of missed server-side keep alives before a connection is closed.
Java system property reference
com.softwareag.um.client.missed_keep_alives=<n>
Specifies the number of missed server-side keep alives before a connection is closed. The default 
value is 1. A value of 1 means that if a single keep alive is missed by the client, the session is 
closed. To disable server-side keep alive checking, set the Java property to 0 (zero).
Note that the Java property is consulted only once upon JVM startup.
Important: If you experience issues with lost connections or duplicate messages after applying this 
fix, particularly with multiplexed sessions, you should adjust the value of 
"com.softwareag.um.client.missed_keep_alives". To resolve such issues, Software AG recommends that 
you first set the property to a value greater than or equal to two. However, if the issues persist 
after some time, disable the fix altogether by setting the property value to zero.
For more information, see the Universal Messaging Java API documentation on:
com.pcbsys.nirvana.client.nConstants#setPermittedKeepAlivesMissed
com.pcbsys.nirvana.client.nConstants.MISSED_KEEP_ALIVES
For more information about the "KeepAlive" realm configuration property, see the Universal Messaging 
Administration Guide.

NUM-18339 (NUM_10.7_wM_Client_Fix13)

A Universal Messaging Java client fails to connect to the server when the hostname of the server or 
of the machine that hosts the server contains special characters, such as an underscore.
The issue occurs because the Java URI API does not support special characters in hostnames.
The issue is resolved.

NUM-18812 (NUM_10.7_wM_Client_Fix12)

An additional console opens when you start Universal Messaging Enterprise Manager.
The issue is resolved.

NUM-18668 (NUM_10.7_wM_Client_Fix12)

When you enable the ThreadDumpOnSlowTask thread-pool monitoring property, Universal Messaging might 
generate many thread dumps over a short time, which could slow performance.
The issue is resolved.

NUM-18469 (NUM_10.7_wM_Client_Fix12)

Connecting to Universal Messaging from an OSGi application might fail because the Universal 
Messaging OSGi nClient.jar library forces you to install log4j-related jars even though they are 
not used.
The issue occurs because the log4j jars in the nClient.jar library have been added as mandatory 
import packages.
The issue is resolved. The log4j-related jars in nClient.jar have been changed to optional import 
packages.

NUM-18421 (NUM_10.7_wM_Client_Fix12)

Universal Messaging might log thread dumps twice in nirvana.log.
When a stalled or slow moving task is detected, or a thread dump is requested, it might be logged 
twice in nirvana.log which is unnecessary.
The issue is resolved.

NUM-18456 (NUM_10.7_wM_Client_Fix11)

When you export a realm configuration in an xml file using Enterprise Manager, Universal Messaging 
wrongly appends "@" at the end of a join destination.
The issue occurs when the source channel in a join has a namespace.
This issue is now resolved. 

NUM-18351 (NUM_10.7_wM_Client_Fix11)

The WarningThreshold realm configuration parameter is missing from Enterprise Manager.
The issue is resolved. The WarningThreshold has been added back to Enterprise Manager. You can 
configure the parameter as part of the Basic Configuration category on the Config tab.

NUM-17926 (NUM_10.7_wM_Client_Fix11)

Universal Messaging uses the OpenSSL 1.1.1n C++ third-party library, which is vulnerable to 
CVE-2022-1292.
The issue is resolved. The OpenSSL 1.1.1n C++ library has been replaced with OpenSSL 1.1.1o.

NUM-18198 (NUM_10.7_wM_Client_Fix10)

The Top Channel Usage tab in Enterprise Manager does not display the rate of consumed and published 
events.
Instead, the tab displays only the total number of consumed and published events.
The issue is resolved. The tab now displays both the rate and total number of consumed and published 
events.

NUM-18324 (NUM_10.7_wM_Client_Fix10)

"After you install Universal Messaging 10.11 Fix 4, disabling Network Input/Output (NIO) on a realm 
interface might result in the server disconnecting all clients.
When you use Universal Messaging with NIO disabled on an interface, the server disconnects all 
clients in five minutes, which is the default value for the IdleDriverTimeout connection 
configuration. Before the connection is lost, Universal Messaging logs several "Monitor>Inactive 
driver on adapter" messages in the nirvana.log file.
The issue is now resolved."

NUM-17934 (NUM_10.7_wM_Client_Fix9)

ListInterfaces tool was in the wrong category
Changed the category to Interface

NUM-17026 (NUM_10.7_wM_Client_Fix8)

Setting the log level of a Universal Messaging Java client to "Error" might result in many session 
establishment and closure messages in the Universal Messaging client log file, which makes the logs 
hard to read and might cause disk space issues over time.
The issue is resolved. Session establishment and closure messages are now logged at the ?Info? 
level.

NUM-17862 (NUM_10.7_wM_Client_Fix8)

Universal Messaging uses the OpenSSL 1.1.1l C++ third-party library, which is vulnerable to 
CVE-2022-0778.
The issue is resolved. The OpenSSL 1.1.1l C++ library has been replaced with OpenSSL 1.1.1n.

NUM-17698 (NUM_10.7_wM_Client_Fix7)

Universal Messaging Enterprise Manager might not update the Filter field for a durable.
When you edit the filter for a durable, Enterprise Manager might not display the updated value in 
the Filter field in the Durables table. The correct value is displayed only after you restart 
Enterprise Manager.
The issue is resolved.

NUM-17502 (NUM_10.7_wM_Client_Fix7)

Protobuf descriptor missing after channel edit
When editing the storage properties of a store, the protobuf properties might get lost in the 
process.
The issue is resolved

NUM-17599 (NUM_10.7_wM_Client_Fix7)

Universal Messaging Java clients return nSecurityException when a session
cannot be established due to a connectivity issue.
The problem might occur not only due to genuine connectivity issues, but also in cases when
the Universal Messaging server forcefully closes the connection because of unauthorized connections
on the server exceeding the configured backlog on the network interface or because of other 
server-side checks.
This may impact client applications that employ various reconnection strategies
based on the type of exception that is received when a session fails to be established or is 
disconnected.
This issue is now resolved. Universal Messaging Java clients now return
nRealmUnreachableException when a session fails due to connectivity issues.

NUM-17552 (NUM_10.7_wM_Client_Fix7)

You can create a non-clustered durable on a clustered channel in a Universal Messaging cluster.
The issue is resolved. Universal Messaging now disregards the nDurableAttributes#isClustered flag. 
When you create a durable object on a clustered channel the durable is clustered even if
the isClustered attribute flag is set to 'false'.

NUM-17380 (NUM_10.7_wM_Client_Fix6)

Fix Enterprise Manager (EM) to copy Protobuf settings when editing a channel or queue. If user edits 
a channel or queue via EM, the Protobuf settings will be lost. This issue is now resolved.

NUM-17334 (NUM_10.7_wM_Client_Fix6)

When using NSPS protocol (nsp over SSL) for inter-cluster commmunication, Universal Messaging master 
realm may lockup when writing data to another realm in the cluster if the connection to that realm 
is interrupted. The lockup may prevent the cluster keep alive check to reset the connection and may 
cause the master realm to remain stuck even after the rest of the cluster reforms and elects 
another master.
This issue is now resolved. Universal Messaging server no longer holds any locks when closing an 
inter-realm connection, which enables cluster keep alive handling to close non-responsive 
connections immediately.

NUM-17151 (NUM_10.7_wM_Client_Fix6)

The upper limit for stalled task warning time (StalledTaskWarningTime) used to be 1 minute which is 
insufficient for some customers which have long running tasks. The upper limit is now increased to 
5 minutes in line with older releases. 

NUM-17174 (NUM_10.7_wM_Client_Fix6)

The Universal Messaging RealmInformationCollector diagnostic tool might fail while
collecting information about the operating system.
The issue occurs due to failure in the old Oshi library that the tool uses.
The issue is resolved. The Oshi-Core, JNA, and JNA-Platform libraries have been upgraded to the 
latest version.

NUM-16840 (NUM_10.7_wM_Client_Fix5)

A Universal Messaging client might write a NullPointerException in its logs when deleting the 
connection from one Universal Messaging realm to another, and the same admin session (nRealmNode) 
is being closed simultaneously.
For example, the issue might occur when you remove a Universal Messaging server from a zone.
The issue is resolved.

NUM-16546 (NUM_10.7_wM_Client_Fix5)

Universal Messaging clients might wait indefinitely to establish a connection to the server.
Clients might wait indefinitely in an SSL handshake when the network is unstable.
The issue is resolved.

NUM-16373 (NUM_10.7_wM_Client_Fix5)

The Universal Messaging Java client API allows the creation of durables with an empty name.
This issue is now resolved. The Universal Messaging Java client nDurableAttributres.create() API now 
fails with an nIllegalArgumentException if you specify an empty string or a string that has only 
whitespace characters for the durable name.

NUM-15762 (NUM_10.7_wM_Client_Fix5)

Universal Messaging client-side logging has been enhanced for better troubleshooting of connection 
establishment issues.

NUM-16946 (NUM_10.7_wM_Client_Fix5)

Security vulnerabilities were discovered in OpenSSL version 1.1.1k.
The issue is resolved. The OpenSSL version used in Universal Messaging has been upgraded from 1.1.1k 
to 1.1.1l.

NUM-15346 (NUM_10.7_wM_Client_Fix5)

The Universal Messaging DeleteJoin command-line tool cannot find an inter-cluster join between two 
cluster-wide channels.
This issue is now resolved.

NUM-12620 (NUM_10.7_wM_Client_Fix4)

Replaced @XmlAttribute with @XmlTransient on "queued" and "priorityEnabled"

NUM-16810 (NUM_10.7_wM_Client_Fix4)

The Universal Messaging JMS MessageConsumerImpl.receiveCacheReturnOutstandingRequests() API and 
similarly named APIs in the Universal Messaging Java client's nQueueSyncReader and nChannelIterator 
classes do not function correctly and may return duplicate events. 
This issue is now resolved.

NUM-16356 (NUM_10.7_wM_Client_Fix4)

Copyright message appears in stderr file. This issue is fixed now.

NUM-16033 (NUM_10.7_wM_Client_Fix4)

Filter expressions in UM involving NULL were not evaluated correctly and used to return wrong 
results. This issue is now fixed. 

NUM-15970 (NUM_10.7_wM_Client_Fix4)

When nProtobuf events get published from a Universal Messaging server to the client, the events are 
not processed in the correct order. The issue occurs because the custom Protobuf attributes are not 
set in the nProtobuf events.
The issue is resolved.

NUM-15853 (NUM_10.7_wM_Client_Fix4)

When initializing a Universal Messaging multiplex session, the connection times out and the Java 
Service Wrapper detects a deadlock condition.
The issue is resolved.

NUM-14100 (NUM_10.7_wM_Client_Fix4)

A security vulnerability was discovered in some third-party dll libraries shipped with Universal 
Messaging.
The issue is resolved. The boost bzip2 library dll has been removed from the Universal Messaging 
Python client distribution.

NUM-16219 (NUM_10.7_wM_Client_Fix3)

Top tab has been updated to display more channel details

NUM-15236 (NUM_10.7_wM_Client_Fix2)

The Universal Messaging Enterprise Manager fails to perform some operations
because it uses non-admin connections to the Universal Messaging server for those operations.
When the Universal Messaging server is configured to not allow non-admin client connections,
the Enterprise Manager fails to perform the operations that use non-admin connections to the server.
For example, the problem happens after you set the ClusterMode parameter to 'Replication', which
means Universal Messaging does not allow non-admin connections to cluster nodes other than the 
master node.
This issue is now resolved.

NUM-13424 (NUM_10.7_wM_Client_Fix2)

Enterprise Manager does not connect to nsps port.
This issue has been resolved.

NUM-16198 (NUM_10.7_wM_Client_Fix2)

The Universal Messaging server or Java client might fail to start after you apply
Universal Messaging 10.5 realm server fix 11 or Universal Messaging 10.5 Java client fix 11, 
respectively.
The Universal Messaging server or Java client might fail to start with a
'java.lang.NoClassDefFoundError: com.pcbsys.foundation.threads.fThreadPool' exception.
The issue occurs if the server or client log file has reached the configured 'RolledLogFileDepth'
at the time of initialization. The default value for 'RolledLogFileDepth' is 100 MB.
This issue is now resolved.

NUM-16039 (NUM_10.7_wM_Client_Fix2)

nett-all library is updated to newer version because of security vulnerabilities

NUM-15889 (NUM_10.7_wM_Client_Fix2)

Creating a channel or queue for a webMethods Cloud Container solution using the Universal Messaging 
Enterprise Manager might result in an error.
When you create a queue or channel for a Cloud Container solution on the JNDI tab in the Universal 
Messaging Enterprise Manager, Universal Messaging creates the queue or channel, but also displays 
an empty error message. Additionally, the newly created queue or channel is not listed on the 
Settings > Messaging > JNDI Settings page in Cloud Container.
The issue is now resolved.

NUM-15140 (NUM_10.7_wM_Client_Fix2)

Realm XML Export doesn't export correctly selector property value for durables.
This issue is resolved now.

NUM-14608 (NUM_10.7_wM_Client_Fix2)

Performance issue when nginx used as load balancer.
Issue has been fixed.

NUM-15403 (NUM_10.7_wM_Client_Fix2)

Now JMSStore creation/deletion  can be done with runUmTools tools those are CreateJMSTopic, 
CreateJMSQueue, DeleteJMSTopic and DeleteJMSQueue and they also can set various channel attributes.

NUM-15303 (NUM_10.7_wM_Client_Fix2)

HealthChecker now contains information about
* umTools.jar version that Health checker is initiated with.
* Realm Information Collector now can be initiated with the secured connections.
* Environment state check to collects realm server version.

NUM-15315 (NUM_10.7_wM_Client_Fix1)

The Enterprise Manager for Universal Messaging might stop responding when you click a queue to view 
its status.
Such a situation might also happen when you try to view the status of a channel or a durable in the 
Enterprise Manager.
The issue is now resolved.

NUM-15163 (NUM_10.7_wM_Client_Fix1)

Universal Messaging writes messages to already rolled nirvana.log files.
The problem occurs because Universal Messaging does not use the correct logging framework. The 
server uses the default logging framework instead of the additionally specified Log4J2 framework.
The issue is resolved. Now all packages use the correct logger for the package level.

NUM-14901 (NUM_10.7_wM_Client_Fix1)

Exporting or importing a realm configuration into XML results in missing or incomplete joins 
details.
When exporting or importing realm configurations from Enterprise Manager or using the "nexportrealm" 
or "nimportrealm" code samples, one of the following issues occurs:
- The exported XML file does not include any information about the remote joins.
- The joins entries in the exported XML file do not include the details of the remote realm, which 
incorrectly represents the join as local.
- The information about the remote joins does not get imported.
The issues are now resolved.

NUM-13647 (NUM_10.7_wM_Client_Fix1)

Importing the interfaces are based on ports uniqueness based. nsp and nsps imports work when the 
aliases are similar. It creates new aliases with new ports and work. But due to some reason, the 
nhp and nhps didn't work when the aliases are similar. But they work when the aliases are 
different. 
When an interface with the same host and port is present, a new interface gets added and then the 
status is changes to Error. 
These issues are solved.

NUM-15865 (NUM_10.7_wM_Client_Fix1)

Beginning with release 10.7, Universal Messaging (UM) servers now have bi-directional compatibility 
with the following Universal Messaging clients:
- native API for Java
- API for JMS
- the Resource Adapter for JMS.
Bi-directional compatibility means that a UM server now works not only with clients that have lower 
version, but also with clients that have higher release version than the server.
We have improved logging and error handling, optimized HTTP-based connection intercepts, and added 
support for Horizontal Scalability (HS) in server environments of mixed release versions. To 
support HS in such environments, we have added a new URL parameter, "HS_PROTOCOL_VERSION".
Parameter description: (Optional) In the "HS_PROTOCOL_VERSION" parameter, you specify the lowest 
release version of the server that the HS session can connect to. This parameter ensures that the 
HS session will use the same protocol version to connect to all servers. The parameter is required 
when the servers in the HS URL have different versions.
Example: The following URL indicates that the HS client will use protocol version 10.5 to connect to 
servers of release version 10.5 or higher. UM1 (nsp://host1:port1) is version 10.5 and UM2 
(nsp://host2:port2) is version 10.7, but because "HS_PROTOCOL_VERSION=10.5", the client session 
will use protocol version 10.5.
(nsp://host1:port1)(nsp://host2:port2)?HS_PROTOCOL_VERSION=10.5
Note that a UM server with release version lower than the version of the client API will not support 
all new functions added in the API. For details about compatibility limitations, see the topics for 
the respective client API in the Universal Messaging documentation.

NUM-15687 (NUM_10.7_wM_Client_Fix1)

Establishing a lot of sessions to Universal Messaging might result in high memory consumption by 
Java threads and connection failure.
When the Universal Messaging Java client is used by applications that create a high number of 
sessions, the memory consumed by Java threads might increase depending on the configured Java 
thread stack size (-Xss Java argument).
This situation occurs because Universal Messaging sessions require at least three Java threads per 
session: a connection reader, a connection writer, and an event-processing thread.
In such scenarios, it might be feasible to reconfigure the Universal Messaging Java client to use a 
shared thread pool for event processing and configure its size to a lower value than the number of 
client sessions, thus reducing the number of Java threads used for event processing.
The issue is resolved. The Universal Messaging Java client has been enhanced to support two new 
client-side system properties, ?com.softwareag.um.client.useSharedThreadPool? and 
?com.softwareag.um.client.SharedThreadPoolMaxSize?. You can use these properties to enable client 
sessions to use a shared thread pool for processing events and to configure the size of the shared 
thread pool, respectively.
System-property reference
- com.softwareag.um.client.useSharedThreadPool - enables usage of a shared thread pool for 
processing incoming nConsumeEvent events for every client session. Valid values are ?true? or 
?false? (default).
By default, each client session will create and use a separate/dedicated pool of threads for 
processing received nConsumeEvent events. When this system property is set to true, all client 
sessions will use a shared thread pool.
- com.softwareag.um.client.SharedThreadPoolMaxSize - configures the maximum size of the shared 
thread pool. The default maximum thread pool size is 5.
Additionally, the Universal Messaging Java client's nSession.enableThreading() API has been 
deprecated.
For more information about using client system properties, see the Universal Messaging 
documentation.

NUM-15646 (NUM_10.7_wM_Client_Fix1)

Universal Messaging now uses the Qpid Proton-J version 0.33.5 server library for the AMQP networking 
protocol.

NUM-15592 (NUM_10.7_wM_Client_Fix1)

Deleting a Universal Messaging channel or queue that is configured for trace logging
might result in an exception in the server log file during server shutdown.
The issue occurs because when you delete a channel or queue, the Universal Messaging server
might not remove all resources of the trace logger for the channel or queue. In this case, when you 
stop
Universal Messaging, the server returns the following exception in the Universal Messaging server 
nirvana.log file:
"org.apache.logging.log4j.core.appender.AppenderLoggingException: Error writing to 
RandomAccessFile",
followed by the path to the trace log file of the deleted channel or queue.
This issue is now resolved.

NUM-15576 (NUM_10.7_wM_Client_Fix1)

Using a JMS connection over SSL to connect to Universal Messaging fails
with a javax.net.ssl.SSLException.
The issue occurs due to a failure to initialize the SSL context in
the Universal Messaging JMS client when you do not specify all SSL settings explicitly,
such as the cipherSuite attribute. Universal Messaging returns an SSL exception and
an error such as "Could not set cipher suite -
check exception cause" / "Unsupported CipherSuite: null".
The issue is resolved.

NUM-15488 (NUM_10.7_wM_Client_Fix1)

The Universal Messaging Enterprise API for Java documentation for the nDurableAttributes class is 
not clear enough.
The issue is resolved. The nDurableAttributes documentation has been updated to include a detailed 
description of durable#StartEID. In addition, you can use 
nDurableAttributes#INITIAL_EID_END_OF_STORE to set the StartEID of a durable to -2.

NUM-15394 (NUM_10.7_wM_Client_Fix1)

When you execute the ngetservertime tool on a Universal Messaging realm with basic authentication 
enabled and mandatory, the tool returns a security exception.
When you execute the ngetservertime tool on a realm with basic authentication enabled and mandatory, 
the tool returns the following error: 
"com.pcbsys.foundation.security.auth.fAuthenticationException: An error occurred while 
authenticating driver". This issue occurs because the tool does not pass the user password to the 
session it creates.
The issue is now resolved. You can use either one of two new system properties, ?UM_PASSWORD? or 
?PASS_PASSWORD_IN_CONSOLE?, to pass the user password to the session.
Do not use the two properties together.
Property description
UM_PASSWORD=<password>
Passes the user password to the session created by the tool.
You set the new property in the .conf file of the ngetservertime tool in the
<SoftwareAG_directory>\UniversalMessaging\ java\<instance_name>\bin directory in the following 
format:
wrapper.java.additional.<n>=-DUM_PASSWORD=<password>
where <n> is a unique positive integer.
PASS_PASSWORD_IN_CONSOLE
Specifies whether to provide the user password in the console.
Values are:
- true - you are asked to specify the password in the console.
- false (default) - you are not asked to specify the password in the console.
You set the new property in the .conf file of the ngetservertime tool in the
<SoftwareAG_directory>\UniversalMessaging\ java\<instance_name>\bin directory in the following 
format:
wrapper.java.additional.<n>=-DPASS_PASSWORD_IN_CONSOLE=true|false
where <n> is a unique positive integer.
For more information about the two properties, see the Universal Messaging webhelp.

NUM-15348 (NUM_10.7_wM_Client_Fix1)

UM generates several thread dumps due to Reason: Stalled task detected on this thread pool.
Fixed the code logic to calculate the task duration correctly, this issue has been resolved.

NUM-15340 (NUM_10.7_wM_Client_Fix1)

During transactional publishing to Universal Messaging using a horizontal scalability (HS) session, 
the Universal Messaging client might report an nUnexpectedResponseException.
When a client is performing transactional publishing of messages to Universal Messaging servers that 
are part of an HS URL, and one of the servers is stopped during the transaction, some messages 
might remain unpublished. In addition, the client returns an nUnexpectedResponseException. The 
exception occurs because the transaction request does not receive a reply from the Universal 
Messaging server.
The issue is resolved. When a Universal Messaging server is stopped during multi-threaded 
transactional publishing, the transaction returns an nSessionNotConnectedException, and the 
transaction can be retried.

NUM-15229 (NUM_10.7_wM_Client_Fix1)

Integration Server might fail to connect to Universal Messaging with an invalid ClientID error when 
using a horizontal scalability (HS) session.
When you start the JMS connection alias in Integration Server after one of the Universal Messaging 
servers that is part of the HS URL is stopped, Integration Server might return the following error: 
?Error creating connection: javax.jms.InvalidClientIDException: Connection: clientID already 
exists.?
The issue occurs because Universal Messaging does not generate client IDs correctly under these 
circumstances.
The issue is now resolved.

NUM-15086 (NUM_10.7_wM_Client_Fix1)

waitForNamespace() wait for realm construction which do not wait for nPkgGetDurable thread to 
complete, since fetching durable information will be taken care by separate thread.  Added a public 
api waitForDurableInformation() & waitForDurableInformation(ltimeout) to wait for nPkgGetDurable 
thread to complete hence one can get complete durable information. 

NUM-14978 (NUM_10.7_wM_Client_Fix1)

Using the Universal Messaging RepublishEventsFromOfflineFile command-line tool
might result in the following issues:
- The tool returns a NullPointerException when it imports events from a .mem file
and some events are missing.
- The tool returns a "java.lang.Long cannot be cast to java.lang.Integer" exception
when it imports events with the "nrvpub.redelivery" header property from an .xml file.
The issues are resolved.

NUM-14663 (NUM_10.7_wM_Client_Fix1)

When using horizontal scalability (HS) with the Universal Messaging API for JMS, some of the events 
might be lost when a synchronous transactional queue reader is closed before processing all of the 
consumed events from the Universal Messaging server instance. The issue occurs because the 
Universal Messaging server is not notified that the consumer is closed and the consumed events in 
the HS cache do not get rolled back.
The issue is resolved.

NUM-14631 (NUM_10.7_wM_Client_Fix1)

You can use newly added APIs for receiving client-side cached events and outstanding
requests in a horizontal scalability (HS) scenario. New methods have been added in both
the native and JMS APIs.
For more information, see the Universal Messaging API documentation.

NUM-14412 (NUM_10.7_wM_Client_Fix1)

Connecting nodes in a Universal Messaging cluster might fail when you use
the VIA list of an interface to configure access control list (ACL) entries
for cluster communication.
The issue is resolved.

NUM-13923 (NUM_10.7_wM_Client_Fix1)

Configuring the Universal Messaging Resource Adapter for JMS (UMRA) for XA transactions fails. The 
issue occurs because the "supportsXA" custom property is not displayed in the WebSphere Application 
Server administrative console.
The issue is resolved.

NUM-13071 (NUM_10.7_wM_Client_Fix1)

The Realm Export into XML did not contain the selector thread configuration of the interfaces 
previously. This fix addresses this issue.

NUM-11779 (NUM_10.7_wM_Client_Fix1)

When the Cluster Config -> DisconnectWhenNotReady is set to true 
and the UM server has not joined the cluster- the UM server was also disconnecting and Admin 
connections. Admin connections should not be disconnected in this case and this is now resolved.
Now If the Admin client tries to perform cluster-wide operation while the UM server has not joined 
the cluster yet- the client will get a exception on the cluster-wide operation, instead of closing 
the session.  

NUM-14655 (NUM_10.7_wM_Client_Fix1)

Security vulnerabilities were discovered in OpenSSL version 1.1.1f. 
The issue is resolved. The OpenSSL version used in Universal Messaging has been upgraded from 1.1.1f 
to 1.1.1g.

NUM-15112 (NUM_10.7_wM_Client_Fix1)

The Universal Messaging GetDurablesInfo command-line tool fails with a NullPointerException. 
The issue is resolved.

NUM-14202 (NUM_10.7_wM_Client_Fix1)

Some of the tools in runUMTool doesn't connect to an SSL interface.
This issue is resolved.


8.0 Installation

If you are installing a Universal Messaging server fix, please shut down any running Universal
Messaging server instances before installing.
In case the Universal Messaging server instance is a member of a cluster, please apply the
procedure for installing rolling cluster updates described below(*).

If you are installing a Universal Messaging client fix, please shut down any applications such as
Integration server or Enterprise Manager which are using client libraries.

If you are installing a Universal Messaging Enterprise Manager fix, you do not need to shut down the
Universal Messaging server.

Install using the Software AG Update Manager or Command Central (9.5 or later). For instructions,
see the corresponding documentation at http://documentation.softwareag.com.

(*) Universal Messaging cluster is supporting rolling updates for its nodes.
There is a strong recommendation to start applying the new fixes on the Slave nodes and leave the
Master node to be the last one.
(*) Starting with 10.7 Fix 8, Universal Messaging provides updated versions of security libraries with 
the Universal Messaging realm server fixes, if any of these libraries has been updated. You can find 
the libraries in the UniversalMessaging\lib folder.

For each single node that is part of the cluster the customer needs to follow the steps:
1) Shutdown the node. The node will be disconnected from the cluster.
2) Apply the specific fix
3) Start the node. It will be connected back again to the cluster and will be operational
4) Apply the same procedure from 1-3 steps on the next node

In order to have truly no downtime, the client that talks to the Universal Messaging cluster should
also be implemented in a way that it tolerates brief connection loss. A rolling update in a cluster
still means that:
a) When the node that a client is connected to is brought down for maintenance, the connection to
this server, and respectively the cluster, will be lost and has to be re-established. The client
should be able to handle this seamlessly.
b) When the master node of the cluster is brought down for maintenance, the cluster will briefly
go offline until a new master is elected. This is usually a very short time window, but still,
similarly to point a). The client applications should be able to handle it in order to have truly
no downtime from the point of view of the end user.



9.0 Uninstallation

If you are uninstalling a Universal Messaging server fix,
please note that any running Universal Messaging server
instances will be automatically shutdown before installing.

If you are uninstalling a Universal Messaging client fix, 
please shut down any applications such as Integration Server 
or Enterprise Manager which are using client libraries.

If you are uninstalling a Universal Messaging Enterprise Manager 
fix, you do not need to shut down the Universal Messaging server.

Uninstall using the Software AG Update Manager or 
Command Central (9.5 or later). For instructions, see the 
corresponding documentation 
at http://documentation.softwareag.com.

Note: These instructions can only be used to uninstall the 
most recently installed fix. This action will revert your 
installation to the previously installed fix. You cannot 
apply these instructions to the previously installed fix.



10.0 Globalization

This fix conforms to the internationalization standards of the webMethods 
product suite and includes support for operation in any country, locale, or 
language as specified in the Installing webMethods Products guide. It was not 
tested with non-English configurations and non-ASCII data. However, this fix has
no globalization impact and can be applied to systems running in any supported 
locale or configuration.



10.1 Localization

This fix does not require an updated Language Pack. It might contain new 
messages and these messages will appear in English.



11.0 Copyright

Super iPaas Integration LLC, an IBM Company 2024.