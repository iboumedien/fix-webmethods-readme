              webMethods Integration Server 10.3 Core Fix 18 readme
             webMethods Integration Server 10.3 Client Fix 18 readme

                                        September 2021                                                      

____________________________________________________________________________________________________

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements and Dependencies
5.0   Platform Support
6.0   Cautions and Warnings
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization
11.0  Copyright
____________________________________________________________________________________________________


1.0 Fix Name

webMethods Integration Server 10.3 Core Fix 18.



2.0 Fix ID

IS_10.3_Core_Fix18



3.0 Product(s)/Component(s) Affected

This fix affects webMethods Integration Server 10.3.



4.0 Requirements and Dependencies

IS_10.3_Migration_Fix2
WSS_10.3_Core_Fix3
TPS_10.3_XMLTools_Fix3
OGI_10.3_Migration_Fix2
TPP_10.3_Misc_Fix2
WSC_10.3_Audit_Fix5
MTA_10.3_Fix3

Fixes are cumulative. Therefore, for each of the listed fixes, you can install the specified fix or 
later.

For language pack requirements, see the Globalization section of the Software AG Empower Product 
Support website at https://empower.softwareag.com/Products/Globalization/default.asp



5.0 Platform Support

webMethods Integration Server 10.3 Core Fix 18 is supported on the 
same platforms and operating systems and with the same JREs as webMethods 
Integration Server 10.3.



6.0 Cautions and Warnings

If Integration Server uses central user management which is provided through 
My webMethods Server, you must keep the common libraries provided by 
My webMethods Server up to date. To obtain the current changes to the common 
libraries, install the latest My webMethods Server fix located under 
Common Libraries in Software AG Update Manager. 

Support for deploying a Universal Messaging connection alias was added in PIE-63275 
which is included in IS_10.3_Core_Fix13. This fix depends on installation or DEP_10.3_Fix6 
for the icon for the Universal Messaging connection alias to appear in Deployer. However, 
the presence or absence of the icon does not affect the ability to successfully deploy 
a Universal Messaging connection alias once a fix containing PIE-63275 is installed.

To complete resolution of PIE-66920, after applying a fix that includes PIE-66920, 
you must do the following for each publishable document type that contains multiple 
document reference variables with the same name but different document type references:  
edit the publishable document type, save it, and then synchronize it with Universal Messaging. 
This will generate a new protocol buffer descriptor and synchronize it 
with the definition on Universal Messaging.



7.0 Fix Contents

PIE-66298
Integration Server does not provide a helpful exception when an email port
cannot be enabled. 

An email port (also called an email listener) might fail to enable if there are
problems with provided credentials or the truststore used with the port.
Integration Server does not indicate what prevents the port from starting. 

Now, when an email port cannot be enabled, Integration Server displays an
exception indicating what caused the failure. 

PIE-67261
Integration Server does not honor the timeout period for JDBC connection
requests from Active Transfer server. 

When a large number of JDBC connections are requested from Active Transfer
server with a timeout period for the connections, Integration Server does not
consider the timeout period for a connection and returns a 'null' connection. 

This issue is now resolved.

PIE-67563
When a service uses a table object of the "com.wm.util.Table" class as an input
parameter of type DocumentList, resubmitting the service from My webMethods
Server results in the "java.lang.ClassNotFoundException:
Class:com.wm.util.Table" exception. 
 
For the resubmission to work, the pipeline objects are deserialized. However, to
address Java deserialization vulnerability, Integration Server deserializes only
the Java objects listed in the <Integration
Server_directory>/instances/instanceName/config/security/whitelistclasses.xml
file. Since the "com.wm.util.Table" class is not listed in the
whitelistclasses.xml file, it is not deserialized, and Integration Server throws
the exception. 
 
This issue is resolved by adding the "com.wm.util.Table" class to the
whitelistclasses.xml file. 

PIE-67811
A delay is observed when Integration Server runs the "pub.client:http" service
to connect to a target server through a proxy server. 

If the proxy server cannot connect to the target server when Integration Server
runs the "pub.client:http" service, Integration Server disconnects from the
proxy server and attempts to connect to the target server directly. This process
results in a delay of 3 to 4 minutes during the service execution. 

This issue is now resolved.

PIE-68082
In an Integration Server setup with Enterprise Gateway, when a native service
running on Integration Server sends an HTTP response to Enterprise Gateway with
Transfer-Encoding as chunked in the HTTP header, Enterprise Gateway sends back
the response to the external client and then closes the internal socket.
However, this creates an internal socket between Enterprise Gateway and
Integration Server for every new request resulting in performance degradation. 

This issue is resolved now.

PIE-69259
New public service to synchronize publishable document types with Universal
Messaging including updating the protocol buffer descriptor prior to
synchronizing. 

pub.utils.messaging:syncDocTypesToUM
WmPublic. Synchronizes one or more publishable document types with the
associated provider definition (channel) on Universal Messaging. For each
publishable document type with an encoding type of protocol buffers, the
service: 
- Creates an updated protocol buffer definition
- Compiles the updated definition into an updated protocol buffer descriptor
- Sends the updated protocol buffer descriptor to Universal Messaging
This is different from pub.publish:syncToProvider which synchronizes the
existing protocol buffer descriptor with Universal Messaging. 

Input Parameters

reportOnly - java.lang.Boolean Optional. Indicates whether the service updates
and synchronizes the protocol buffer descriptors with Universal Messaging and
returns a summary of the changes or if the service returns only a summary
without making any changes. Set to: 
- true to return a summary of the publishable document types for which the
service would successfully and unsuccessfully update the protocol buffer
descriptor, including the errors and warnings that would be encountered. The
service does not update any protocol buffer descriptors. This is the default. 
- false to update the protocol buffer descriptor for the selected document types
and synchronize the protocol buffer descriptor with the associated channel on
Universal Messaging. The service returns a summary of the changes. 

backupPackages - java.lang.Boolean Optional. Indicates whether the service
creates a package archive for each package affected by this service prior to
creating a new protocol buffer definition for the publishable document types.
Set to: 
- true to create an archive for each package that contains a publishable
document type that will be updated by this service. The archive will be named
packageName.zip_timeStamp and placed in the following directory: Integration
Server_directory \instances\instance_name\replicate\archive. This is the
default. 
- false to skip creating an archive of each affected package before making
updates. 

Important: Software AG recommends that you set backupPackages to true when
reportOnly is set to false if you have not taken other measures to back up the
packages containing the publishable document types to be synchronized using the
pub.utils.messaging:syncDocTypesToUM service. After the service executes
successfully, restoring from a backup file is the only way to revert a change
made by the service. 

packageNames - String List Optional. Name of the packages containing the
publishable document types that you want to synchronize. 
The packageNames and documentTypesNames input parameters are mutually exclusive.
If you specify a value for both parameters, the service fails with an exception.
If you do not specify a value for either, the service updates publishable
document types that use the protocol buffer encoding type in all packages that
do not start with the letters â€œwmâ€? in any case combination. 

documentTypeNames - String List Optional. Fully qualified names of the
publishable document types that you want to synchronize. 

Output Parameters

affectedPackages - Document Conditional. An IData containing key=value pairs
that identify the packages impacted by the synchronization and the name of the
archive created for the package. The service returns an archive name only if
reportOnly is set to false and backupPackages is set to true. The archive will
be named packageName.zip_timeStamp and will be located in the following
directory: Integration Server_directory
\instances\instance_name\replicate\archive. 
The service returns affectedPackages only if the service finds at least one
publishable document type to update and synchronize. 

failedPackages - Document List Conditional. List of the packages that could not
be archived. If Integration Server cannot create a package archive for any of
the affected packages, the service ends with an error and nothing is migrated. 
The service attempts to archive a package only when backupPackages is set to
true. 
The service returns the failedPackages parameter only if one of the following
occurs: 
-  The backupPackages input parameter is set to true and an error prevented the
service from archiving at least one package. 
-  A package listed in the packageNames input parameter did not contain any
publishable document types to update. 

failedPackges/package - String Name of the package that the service could not
archive because of an error. 

failedPackages/errors - String Text of the error message that caused package
archiving to fail. 

updatedDocumentTypes - Document List Conditional. List of the publishable
document types updated by the service.The service returns the
updatedDocumentTypes parameter only if the service updated one or more
publishable document types. 

updatedDocumentTypes/package - String Name of the package containing the updated
publishable document type. 

updatedDocumentTypes/name - String Fully qualified name of the updated
publishable document type. 

skippedDocumentTypes - Document List Conditional. List of the publishable
document types that were not updated because there were no changes to make. Some
reasons the service might skip a publishable document type include, but are not
limited to: 
  The publishable document type uses a Broker connection alias.
- The publishable document type does not use protocol buffers as the encoding
type. 
- Values were not specified for either the packageNames or the documentTypeNames
input parameters and Integration Server found publishable document types in
packages whose names started with the letters â€œwmâ€? in any case combination 
The service returns the skippedDocumentTypes parameter only if the service
skipped updating one or more publishable document types. 

skippedDocumentTypes/package - String Name of the package containing the skipped
publishable document type. 

skippedDocumentTypes/name - String Fully qualified name of the skipped
publishable document type. 

skippedDocumentTypes/reason -String Message indicating why the service did not
update the publishable document type. 

failedDocumentTypes - Document List Conditional. List of the publishable
document types that the service could not update because of an error. The
service returns the failedDocumentTypes parameter only if there were one or more
publishable document types that the service could not update because of an
error. 

failedDocumentTypes/package - String Name of the package containing the
publishable document type that the service could not update because of an error. 

failedDocumentTypes/name - String Name of the publishable document type that the
service could not update because of an error. 

failedDocumentTypes/errors - String Text of the error message that prevented the
service from updating the publishable document type. 

providerSyncResults - Document List Conditional. Results of synchronizing the
updated publishable document types with the messaging provider. The service only
produces this output parameter when reportOnly is set to false and the service
updated at least one publishable document type. 

providerSyncResults/successfulPDTs - String List Fully qualified names of the
publishable document types that the service synchronized successfully with the
messaging provider. 

providerSyncResults/unsuccessfulPDTs - String List Fully qualified names of the
publishable document types that the service did not synchronize successfully
with the messaging provider. 

providerSyncResults/errors - Document List List of any errors that occurred
during document type synchronization. 

providerSyncResults/warnings -Document List List of any warnings that occurred
during document type synchronization. 

Usage Notes

The pub.utils.messaging:syncDocTypesToUM service can be useful for updating the
protocol buffer descriptors for multiple publishable document types at once. For
example, if an Integration Server fix alters the way in which a protocol buffer
descriptor is generated, to see the full effect of the fix, you would need to
edit all of the publishable document types that use the protocol buffer encoding
type, save them to cause an updated protocol buffer definition to be created and
the updated protocol descriptor to be compiled, and then sync the publishable
document types with the provider. While this can be done on an individual
publishable document type basis with Designer, using the
pub.utils.messaging:syncDocTypesToUM service enables the updating and
synchronizing of many publishable document types at one time. 

The pub.utils.messaging.syncDocTypesToUM updates publishable document types
contained in packages that begin with â€œWmâ€? when the document type is
specified in documentTypeNames or the package is specified in packageNames only. 

The pub.utils.messaging:syncDocTypesToUM service synchronizes the updated
protocol buffer descriptor for a publishable document types with the
corresponding Universal Messaging channel. Be sure to review the contents of
providerSyncResults/errors and providerSyncResults/warnings for errors and
warnings that Integration Server generated during synchronization. 

If Integration Server did not successfully synchronize an updated publishable
document type use the returned errors in providerSyncResults/errors to determine
why Integration Server could not synchronize the publishable document type.
Then, fix the cause of the error and synchronize the publishable document type
with the messaging provider. You can synchronize documents using Designer or by
executing the pub.publish:syncDocTypesToUM service. 

The pub.utils.messaging:syncDocTypesToUM service will not modify any publishable
document types or webMethods messaging triggers that are locked for edit by
another user or checked out at the time the service executes. 

To use the pub.utils.messaging:sycnDocTypesToUM service to update a publishable
document type, the user or client invoking the service must have Write access to
the publishable document type. 

To generate additional logging information in the Server log when the
pub.utils.messaging:sycnDocTypesToUM service executes, set the logging level for
the server log facility 0154 Protocol Buffer Encoding (Universal Messaging) to
Debug or Trace. 

PIE-69535
The patch history in Integration Server Administrator dos not show partial
package deployments of Wm* packages. 

After applying a fix or migrating to a release that includes PIE-62988, the
patch history visible on the Support > webMethods Packages and Updates was
modified to hide partial package deployment of Wm* packages. This change was
made specifically to hide partial package deployment of webMethods adapter
packages (WmJDBCAdapter, WmMQAdapter, WmAS400, and WmSAP can be partially
deployed). However, this change introduced confusion and inconsistencies for Wm*
packages that can be partially deployed, such as the WmTN package. 

To provide consistency, the change introduced by PIE-62988 has been reverted.
The patch history in Integration Server Administrator lists all Wm* packages
that result from partial deployment. 

PIE-69605
Integration Server becomes unresponsive when pub.xml:xmlStringToXMLNode receives
invalid XML. 

When the pub.xml:xmlStringToXMLNode service receives invalid XML as input, the
JVM might hang which causes Integration Server to become unresponsive. 

This issue is now resolved. The pub.xml:xmlStringToXMLNode service now handles
invalid XML in such a way to prevent the JVM from hanging and Integration Server
from becoming unresponsive. 

PIE-69744
Delete REST API requests with an empty body result in a NullPointerException.

When a REST API is invoked with the DELETE method, content-type as
'application/json', and no request body, Integration Server throws
'java.lang.NullPointerException'.

This issue is now resolved.

PIE-69756
The metering simulator does not always detect top-level services correctly.

This issue is now resolved.

PIE-69773
During full deployment, webMethods Deployer fails to overwrite existing packages 
on the target Integration Server.

When a user deploys a custom package to a target Integration Server, which has a
package with the same name as the custom package, webMethods Deployer fails to 
overwrite the target package. This issue occurs only when the target 
Integration Server has folders with symbolic links.

This issue is now resolved.

PIE-69908
Serial webMethods messaging triggers can process messages out of order.

On Universal Messaging, when the client window size for the listener
corresponding to a trigger is > 1 and the durable type is serial, messages can
be sent to one trigger only. However, that trigger can receive multiple
messages. The trigger writes these messages to a local queue, and another thread
reads from the queue and processes the messages in the order they were received.
To maintain serial processing order, the trigger retrieves messages from the
queue and processes them using a single thread. However, if there is any type of
disruption to the connection to Universal Messaging and the queued messages need
to be rolled back from Integration Server, there is no guarantee that the
messages will be redelivered in the same order. Consequently, a serial trigger
can process messages out of order. 

To resolve this issue and ensure serial processing even when connection
disruptions occur, the client window size on Universal Messaging needs to be set
to 1. Universal Messaging will delivery only one message at a time to the
listener and therefore the trigger. Currently, the serial webMethods messaging
trigger does not set the client window size. Instead, the trigger relies on the
default value set on the Universal Messaging server, which is 100. Note this
value is configurable from Enterprise Manager via Cluster Config >
ClientQueueWindow. Integration Server now sets the client window size to 1 when
the webMethods messaging trigger is serial. This setting will override the value
set on the Universal Messaging server. This ensures that a serial webMethods
Messaging trigger will always receive messages in order even when the connection
is disrupted. 

PIE-69921
Integration Server throws a NullPointerException while disabling a concurrent
JMS trigger.

While disabling a concurrent JMS trigger, Integration Server throws the
following 
exception in Integration Server Administrator (Settings > Messaging > JMS 
Trigger Management) due to a race condition scenario.
[ISS.0134.0058E] JMS trigger <Trigger_Name> is shutting down because of 
exception: java.lang.NullPointerException

This issue is resolved. Now, Integration Server does not display any exception 
in Integration Server Administrator and logs a meaningful message in the 
server.log file during a race condition scenario.

PIE-70105
webMethods Metering updates to exclude WmSAP services from counted transactions.

PIE-70263
Using Asset Build Environment (ABE) for building single packages ends with a
failed build. 

A previous change to deployment to allow system Access Control Lists to be
deployed resulted in the inability of ABE to successfully build single packages
for export. 

This issue is now resolved.

PIE-70265
After applying a fix that includes PIE-66922, some dependent packages do not
reload during repository-based deployment. 

The resolution to issue PIE-66922 prevented some packages from reloading
repeatedly during repository-based deployment. However, after applying a fix
that includes PIE-66922, some dependent packages do not reload at all. 

This issue is now fixed.

PIE-70433
Reflective cross-site scripting vulnerability in Integration Server
Administrator. 

This fix addresses a cross-site scripting vulnerability.

PIE-70434
Reflective cross-site scripting vulnerability in Integration Server
Administrator. 

This fix addresses a cross-site scripting vulnerability.

PIE-70435
Reflective cross-site scripting vulnerability in Integration Server
Administrator. 

This fix addresses a cross-site scripting vulnerability.

PIE-70438
Reflective cross-site scripting vulnerability in Integration Server
Administrator. 

This fix addresses a cross-site scripting vulnerability.

PIE-70439
Reflective cross-site scripting vulnerability in Integration Server Administrator.

This fix addresses a cross-site scripting vulnerability.

PIE-70531
Updates to webMethods metering to exclude services in WmServiceMock package from
metering. 

PIE-70621
Incomplete navigation link title for a folder on the Set ACLs page in
Integration 
Server Administrator.

On Integration Server Administrator -> Packages -> Management -> Browse Folders,
the link to return to a folder from the SET ACLs page must be, 
"Return to browsing <folder name>". However, the link title is incomplete. For
example, 
the Set ACLs page displays "Return to browsing" instead of “Return to browsing 
com”,
where com is the folder in Integration Server setup.

This issue is now resolved.

PIE-70662
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs.

PIE-70725
Integration Server does not reject unsigned SAML assertions.

Integration Server does not fail the authentication when it processes an
unsigned SAML assertion. This exposes Integration Server to the risk of someone
manipulating the SAML assertion by changing the contents of the SAML assertion. 

This issue is now resolved. Integration Server fails the authentication when
handling unsigned SAML assertion. Integration Server also writes the following
warning message to the server.log: 
[ISS.0012.0032W] Warning! Rejecting SAML assertion from issuer "<issuer_name>"
because the SAML assertion is not signed 

PIE-70758
Server log contains access denied message when a Designer user belonging to the
Developers ACL connects to Integration Server. 

The internal service wm.server.packages:packageList that Designer uses to
display the packages on an Integration Server had the Administrators ACL
assigned to it. As a result, when a user with only Developer ACL privileges used
Designer to connect to Integration Server, Integration Server wrote the
following error to the server log: 

[ISS.0053.0002C] (tid=<threadID>) Access denied for user <userName> on port
<portNumber> -> 'wm-message' from <IPAddress>. 

This issue is now fixed. Users who belong to a group with only Developer ACL
privileges can use Designer to successfully connect to and view the contents of
packages in Integration Server. 

PIE-70877
Updates to webMethods Metering to exclude WmPRT package services from metering.

PIE-70889
On UNIX systems, if the internal service wm.server.util:remoteInvoke is passed
/dev/zero for the privKeyFile input, the service fails with an Out of Memory
issue and Integration Server shuts down. 

Now, Integration Sever performs input validation for the internal service
wm.server.util:remoteInvoke and reports an error if /dev/zero is detected for
the path for privKeyFile or any of the certificate file paths provided as input
to the service. 

PIE-71179
Updates to webMethods Metering updates.

Updates to webMethods Metering to ensure that services in packages from layered
products are not metered. 

PIE-71343
The watt.server.defaultPackage server configuration parameter is missing from
the internal list of parameters for which a restart is required when the
parameter value is changed. 

The internal list of server configuration parameters for which Integration
Server restart is required for changes to take effect is now updated to include
watt.server.defaultPackage. 

PIE-71473
Updates to webMethods Metering to exclude WmBusinessRules package from metered
transactions. 

PIE-61580 (IS_10.3_Core_Fix17)
Enhancements to logging around OAuth authorization.

Additional logging has been added to the OAuth resource server implementation to
help when debugging OAuth authorization problems. When an access token from an
external authorization server is rejected, information about the rejection is
written to the server log. Set the OAuth logging facility (0010) to Debug to see
these messages in the server log. 

Integration Server also includes a new server configuration property for
controlling error logging for OAuth authorization failures. When
watt.server.oauth.log.authErrors is true, Integration Server writes all OAuth
authorization failures to the error log. When watt.server.oauth.log.authErrors
is false (the default), Integration Server does not write OAuth authorization
errors to any log. Changes to this property take effect immediately; that is,
server restart is not required for changes to take effect. 

PIE-67151
When a web service connector receives an HTTP 4xx response other than a 400,
Integration Server does not pass the fault details back to the caller but
should. 

Now, Integration Server processes HTTP 4xx responses received by a web service
connector similarly to HTTP 400 responses. Integration Server returns the fault
details present in the response to the caller. 

PIE-67515
Integration Server incorrectly assigns the status for JMS messages as 'IN_DOUBT' 
instead of throwing an error message during a database failover.

In Designer, when you configure the exactly-once processing for a JMS trigger by
setting the "Detect duplicates" and "Use history" properties to "True" under 
"Properties > Exactly once" and if a database failover happens while entering a 
record into a table, Integration Server incorrectly assigns the status for the 
messages as 'IN_DOUBT' instead of throwing an error message. 

This issue is resolved now.

PIE-67778
Content spoofing vulnerabilities in web services.

Web services (through a request with the "/ws" or the "/soap" directive) may
allow client applications to spoof or modify the actual content on a web page.
To prevent this, a new watt parameter, watt.server.SOAP.hideFaultReason, has
been added. This parameter enables you to remove fault details from responses to
web service requests. By default, watt.server.SOAP.hideFaultReason is set to
false and responses include fault details. To prevent content spoofing, set
watt.server.SOAP.hideFaultReason to true. Integration Server restart is not
required for changes to this parameter to take effect. 

Note:  Set watt.server.http.returnException to â€œfalseâ€? or â€œwebMethodsâ€?
to prevent Integration Server from returning the stack trace to clients in case
a web service returns an error. 

PIE-68858
In some cases, a few properties are not migrated correctly and the Integration
Server instance fails to start after migration to a newer version. 

A few properties in AuditConfig.xml and the Terracotta license path in
server.cnf continue to point to the source installation after a migration. In
such cases, the migrated Integration Server instance fails to start. 

This issue is resolved now. The properties in AuditConfig.xml and the Terracotta
license path in server.cnf file point to the target installation. 

PIE-69367
Designer cannot connect to an Integration Server due to insufficient fileÂ 
creation permissions.

When Designer connects to an Integration Server, it tries to create a log file.
However, if the user does not have write permissions, Designer cannot connect
to Integration Server.

This issue is resolved. Now, by default, Designer does not create a log file
while connecting to an Integration Server. If you want to collect more logging
information, set the 'watt.client.logFile={log_file_path}' property inÂ the "{
Software AG_directory}\Designer\eclipse\configuration\config.ini" file so that 
Designer creates the log file at the configured location.

PIE-69502
Enhancement to the pub.oauth:introspectToken and pub.oauth:getToken services to
work in a stateless cluster. 

When Integration Servers are configured to connect to the same databases but are
not configured to store information in a distributed cache in Terracotta Sever
Array, the Integration Servers are in a stateless cluster. An access token can
already be used by any Integration Server in the stateless cluster to invoke
services. However, the pub.oauth:introspectToken service cannot be used to check
whether an access or refresh token generated by another Integration Server in
the stateless cluster is active. 

Now, an access or refresh token created by one Integration Server in a stateless
cluster can be used by any other Integration Server that uses the same database
and the pub.oauth:introspectToken service can be used to introspect the token. 


PIE-63155 (IS_10.3_Core_Fix16)
Integration Server throws a document validation error while publishing a 
document that depends on a document in another package and the two packages were 
not installed in the correct order.

Consider two IS packages: package 'A' and package 'B'. Package 'B' contains a
document 'B1' which refers to a document 'A1' in package 'A'. The packages are 
installed in the correct order: first package 'A' and the package 'B'.
 
Now,suppose you modify elements in document 'A1' and then reinstall the packages in 
the reverse order: first package 'B' and then package 'A'. Thereafter, when you 
try to publish document 'B1', Integration Server does not publish it because 
document 'B1' refers to an earlier version of document 'A1' which is not 
available.

This issue is now resolved. Now, even if the packages are installed in the 
reverse order, you will be able to publish the dependent document 'B1'.

PIE-64976 (IS_10.3_Core_Fix16)
This fix contains more recent versions of third-party JAR files that address
known security vulnerabilities in the earlier versions. 

PIE-66254 (IS_10.3_Core_Fix16)
Integration Server does not remove the durable from Universal Messaging for
packages that are deployed using WmDeployer. 

In Designer, when you create and enable a webMethods messaging trigger for
Universal Messaging, Integration Server creates a durable in Universal
Messaging. When you remove the same trigger from Designer, and the "Client
Prefix Is Shared" setting in Integration Server Administrator (on the "Settings
> Messaging > webMethods Messaging Settings > Universal Messaging Connection
Alias" page) is set to "No", then Integration Server removes the durable from
Universal Messaging. However, when you remove the trigger from the package
directly on the Integration Server and then deploy the package to another
Integration Server using WmDeployer, Integration Server does not remove the
durable from Universal Messaging. 

This issue is resolved. Now, a new parameter "Delete Universal Messaging
Durable" (<DeploymentSet_Name> > Packages > <Package_Name> > Properties >
Package Deployment Options) is added to the WmDeployer project page (accessible
from the "Packages > Management > WmDeployer" page in Integration Server
Administrator). When set to "Yes", Integration Server removes the durable from
Universal Messaging. The default value of "Delete Universal Messaging Durable"
is "No". 

PIE-66486 (IS_10.3_Core_Fix16)
The Integration Server migration utility updates the Server ID in database
tables even for an upgrade on the same host. 

The issue is now resolved. 

PIE-66711 (IS_10.3_Core_Fix16)
Support for adding the SameSite attribute to the Set-Cookie HTTP response header
in Integration server. 

Integration Server includes a new server configuration parameter,
watt.server.http.header.sameSite, that enables you to add the SameSite attribute
to Set-Cookie HTTP response headers. 

Valid values for watt.server.http.header.sameSite are: None, Strict, and Lax. If
the parameter is set to None, all clients that include cookies with their
requests must use a secure HTTP (HTTPS) port. If you want to return Set-Cookie
headers without the Secure attribute, set watt.server.http.header.sameSite to
Strict or Lax. 

There is no default value for the watt.server.http.header.sameSite parameter.
Therefore, by default, the SameSite attribute is not added. 

A server restart is not required for this configuration parameter to take
effect. 

Notes:
* The HTTP standard states that when the SameSite attribute of the Set-Cookie
HTTP response header is None, the Secure attribute must be specified. To include
the Secure attribute in the HTTP response header, set the server configuration
parameter watt.server.http.header.useSecure to true. 
* If you try to set watt.server.http.header.sameSite to None in IS
Administrator, when watt.server.http.header.useSecure is set to false, IS
Administrator displays a warning message and does not allow you change the
value.   
* If you edit the server.cnf configuration file directly and specify an invalid
configuration, IS logs a warning and the invalid configuration is ignored. As
the value of watt.server.http.header.sameSite is ignored, the SameSite attribute
is not added to the Set-Cookie HTTP response header. 
* If you set the Set-Cookie header and include the SameSite attribute using the
pub.flow:setResponseHeader or pub.flow:setResponseHeaders services then IS
ignores the value of the watt.server.http.header.sameSite parameter. 

PIE-66986 (IS_10.3_Core_Fix16)
Integration Server does not remove expired OAuth tokens from the cache or database.

Integration Server maintains some base OAuth token information in the OAuthTokens 
cache and access token information in the OAuthAccessTokens cache. 
However, Integration Server does not correctly remove token data associated 
with expired access tokens from the caches or the database.

This fix resolves the following issues surrounding OAuth tokens, 
the caches, and the database:
 
- Integration Server removes expired OAuth access tokens from the cache but 
does not remove the corresponding record from the database. This is more prevalent 
when Terracotta Server Array (TSA) is in use. Now, Integration Server ensures 
automatic deletion of expired access tokens from the TSA cache and the database.

- The OAuthTokens cache increases in size as used tokens are removed from the 
database but left in the TSA caches. Now, when the access token that corresponds 
to a token or refresh token expires, Integration Server automatically removes 
the token or refresh token from the TSA cache. If the refresh token is valid 
and is used again, Integration Server re-retrieves the corresponding token 
and refresh token from the database and adds them to the TSA cache. Integration 
Server will remove the tokens in the TSA cache after the access token expires.

PIE-67416 (IS_10.3_Core_Fix16)
Under heavy load, server processing that relies on the
java.lang.invoke.MethodHandles class degrades resulting in high CPU usage and
OutOfMemoryExceptions.

Integration Server can encode an Object into a stream of bytes and decode a
stream of bytes, if properly encoded, back into an Object. The process of
decoding bytes uses the java.lang.invoke.MethodHandles class during the creation
of object instances. Under heavy loads, the performance of the
MethodHandles.lookup() method degrades. This can create a bottleneck in the
server's processing, eventually leading to high CPU usage and
OutOfMemoryExceptions. 

This has been resolved. The use of MethodHandles has been replaced.

PIE-67687 (IS_10.3_Core_Fix16)
Enhancement to diagnostic utility to gather data for webMethods messaging and
JMS messaging. 

The diagnostic utility in Integration Server now gathers data about webMethods
messaging and JMS messaging and includes this information in the diagnostic
report. The diagnostic information includes trigger conditions, JMS connection
alias information, messaging connection alias information. The additional
information may help with debugging and diagnosing issues in Integration Server. 

PIE-67760 (IS_10.3_Core_Fix16)
Services results caching causes a StackOverflowError.

The Java serialization used by Integration Server for caching service results
used recursive calls. In some situations, the level of recursion resulted in a
StackOverflowError. 

This issue is resolved by changing the serialization used for caching service
results. 

PIE-67813 (IS_10.3_Core_Fix16)
For a Microservices Runtime or an Integration Server running in a Docker
container, the default ACL for accessing the /health and /metrics endpoint
should be "Anonymous" but is not. 

This issue is resolved.

PIE-67827 (IS_10.3_Core_Fix16)
Integration Server Administrator displays the OAuth client secret in clear text.

The Security > OAuth > Client Registration > Edit page displays the client
secret in clear text in the Secret field. Additionally, the database table that
stores the client secret also stores the client secret in clear text. 

To resolve this security vulnerability, the Security > OAuth > Client
Registration > Edit page now masks the contents of the Secret field and includes
a Reveal Secret button which displays the secret in clear text when clicked. The
database table that stores the client secret now uses an encrypted value instead
of clear text. The fix also migrates all existing clear text values for the
client secret in the database to be oauth.client.%CLIENT_ID%.secret where
%CLIENT_ID% is a variable that refers to an encrypted value in the outbound
password store. 

PIE-68067 (IS_10.3_Core_Fix16)
Integration Server incorrectly enables a suspended JMS trigger even though a
resource monitoring service is not configured.

In Designer, when you configure the exactly-once processing for a JMS trigger by
setting the "Detect duplicates" and "Use history" properties to "True" under
"Properties > Exactly once" and the
"watt.server.trigger.preprocess.suspendAndRetryOnError" parameter to "true",
Integration Server suspends the trigger if the history database contains issues
and monitors the database availability using a resource monitoring service.
When the database is available, the monitoring service enables the trigger.

Now, if any issue occurs while processing the trigger and if the "Transient
error handling > On retry failure" property is set to "Suspend and retry later",
and a resource monitoring service is not configured, Integration Server must
only suspend the trigger and not enable it automatically.

This issue is now resolved.

PIE-68273 (IS_10.3_Core_Fix16)
Enhancement to HTTP logging to write the log in common log format or combined
log format. 

The HTTP logging provided by Integration Server does not capture the client IP
address related to a request/response pair. To address this, Integration Server
HTTP logging can be configured to write entries that conform to the common log
format, the combined log format, or the existing legacy format.

When HTTP logging is enabled, Integration Server writes a single entry for each
HTTP/S request/response pair to the following file:
IntegrationServer/instances/<instance_name>/logs/http. 

Whether or not Integration Server performs HTTP logging and in what format is
controlled by the watt.server.httplog server configuration parameter. Set the
parameter to one of the following values: 
common - Integration Server writes HTTP log entries that conform to the common
log format. 
combined - Integration Server writes HTTP log entries that conform to the
combined log format. 
custom - Integration Server writes HTTP log entries in the legacy format that
was used for HTTP logging prior to this fix. 

Prior to this fix, the possible values for watt.server.httplog were true or
false. These values can still be used. When set to true, Integration Server
writes HTTP log entries in the legacy format that was used for HTTP logging
prior to this fix. When set to false, Integration Server does not perform HTTP
logging. 

When the watt.server.httplog server configuration parameter is set to any value
besides common, combined, custom, or true, or set to no value at all,
Integration Server does not perform HTTP logging. 

There is no default value for watt.server.httplog which means HTTP logging is
not performed by default. 

You do not need to restart Integration Server for changes to the
watt.server.httplog parameter to take effect. 

PIE-68339 (IS_10.3_Core_Fix16)
Integration Server becomes unresponsive.

Integration Server threads become blocked due to a synchronization error in the
JDBC driver for SQL server driver. 

The issue has been resolved by changing the synchronization logic.

PIE-68570 (IS_10.3_Core_Fix16)
Using a configuration variables template (application.properties) to set the
JNDI password does not result in the password being set in the outbound password
store. 

This issue is now fixed.

PIE-68572 (IS_10.3_Core_Fix16)
Integration Server cannot parse the JSON content for non-HTTP requests.

When Integration Server receives a non-HTTP request containing JSON content, 
then it cannot parse the JSON content present in the request body.

This issue is now resolved.

PIE-68848 (IS_10.3_Core_Fix16)
Integration Server throws an IndexOutofRangeException when at the end of an
enumeration list. 

This issue is now resolved.

PIE-68855 (IS_10.3_Core_Fix16)
The application.properties template does not contain the Initial Context Factory
value for a JNDI provider but should. 

When Microservices Runtime (or an Integration Server equipped with a
Microservices license) generated an application.properties template, the JNDI
provider portion of the template did not contain a configuration variable for
the Initial Context Factory. 

This issue is now resolved.

PIE-69100 (IS_10.3_Core_Fix16)
After applying the Java package update that includes JDK 1.8.0_292, 
Integration Server is not able to use TLSv1.1 or TLSv1.

The Java package update for JDK 1.8.0_292 disables the use of TLSv1.1 
file. 
After applying the Java package update, Integration Server is not 
able to use TLSv1.1 or TLSv1.

Note: Java package updates are available in Software AG Update Manager 
in Infrastructure > Java Package. For 10.5, the Java package fix CJP_10.5_Fix134 
contains JDK 1.8.0_292.

Integration Server provides an override file for the java.security file 
named webm_override_java.security. The override file is installed into 
IntegrationServer_dir\instances\instanceName\config\security folder. 
This file is then registered with Java using the 
-Djava.security.properties=config/security/webm_override_java.security 
in the custom_wrapper.conf. Note these changes are made programmatically.
 
Note: When applying a fix that includes PIE-69100 to Microservices Runtime, 
the override file is installed in IntegrationServer_dir\config\security. 
Changes in the override file are applied programmatically.

Although Integration Server allows the use TLSv1.1 and TLSv1, Software AG 
recommends adjusting your enabled protocols to be more secure 
and use TLSv1.2 or higher. To change the allowed protocols, 
set the watt.net.jsse.*.enabledProtocols configuration parameters on 
Integration Server or Microservice Runtime versions 10.5 and lower or 
by using the watt.net.jsse.*.disabledProtocols properties on version 10.7.

PIE-62470 (IS_10.3_Core_Fix15)
The wm.server.dispatcher:deleteExpiredUUID system task, which deletes expired
documents in the document history database, is scheduled even though the
document history JDBC pool is not configured. 

This issue is now fixed.

PIE-62959 (IS_10.3_Core_Fix15)
User Interface issue in Integration Server Administrator when it is accessed
from webMethods Cloud Container. 
 
If you are using the Google Chrome browser and access Integration Server
Administrator from webMethods Cloud Container, a user interface issue causes the
page to automatically scroll upon clicking the Settings menu. 

To work around this issue, use a different browser.

PIE-63599 (IS_10.3_Core_Fix15)
A redundant message is logged in server.log
A redundant message: "Exception -> null" is logged in server.log when the
Outbound callback handler is invoked as part of the handler chain when there was
no callback service set in the web service descriptor. 

The issue is resolved now.

PIE-64091 (IS_10.3_Core_Fix15)
Integration Server ignores the Connection Timeout parameter configured for LDAP
Directory servers. 

This issue is resolved now.

PIE-64145 (IS_10.3_Core_Fix15)
The server configuration parameters for setting security headers, such as
X-Frame-Options, X-Content-Type-Options, and Content Security Policy, in HTTP/S
responses are not applied for HTTP/S responses for errors and directory
listings. 

This issue is resolved.

PIE-64326 (IS_10.3_Core_Fix15)
OpenID Connect fixes and improvements.

This fix includes the following OpenID Connect fixes and improvements:

- Azure AD returns some errors that do not conform to the OpenID Connect
standard. Integration Server now handles these non-conformant responses
correctly. 
- When a request is received on a port protected by an OpenID provider, an
unused session remained on Integration Server after the client was redirected to
the provider's login page. Now, Integration Server discards the session
immediately. 
- TRACE level logging has been added to aid in troubleshooting.
- It is now possible for the Id Provider name to be different than the
provider's configuration file name. Previously, a configuration file named
IntegrationServer\instances\<instance_name>\config\security\openid\ProviderXYZ.json
must have contained a name field with the value "ProviderXYZ". Now, the
provider's name and the file name can be different. 

PIE-64521 (IS_10.3_Core_Fix15)
Integration Server cannot enable webMethods messaging trigger for Broker.

When creating a webMethods messaging trigger for Broker, Integration Server 
fails to start the trigger and throws the following exception.
"com.wm.app.b2b.server.dispatcher.exceptions.MessagingSubsystemException: 
[ISS.0153.9998] webMethods Messaging Trigger <TRIGGER_NAME> experienced an 
unexpected error: Internal error: TriggerOutputControl is null."

When creating a webMethods messaging trigger, if you do not associate a document 
type and service for the trigger, Integration Server does not start the trigger. 
However, Integration Server incorrectly restarts the trigger and throws the 
following exception assuming that the trigger has already started.
"[ISS.0153.0998E] Unable to restart webMethods Messaging UM trigger 
<TRIGGER_NAME>: com.wm.app.b2b.server.dispatcher.exceptions.
MessagingSubsystemException: [ISS.0153.9998] webMethods Messaging Trigger 
<TRIGGER_NAME> experienced an unexpected error: Internal 
error: TriggerOutputControl is null."

These issues are now resolved.

PIE-65314 (IS_10.3_Core_Fix15)
When asynchronous request-reply operations for JMS messaging are consecutive,
the second reply operation fails. 

With Integration Server, an asynchronous request-reply for JMS messaging
consists of invoking the pub.jms:sendAndWait service with the async input
parameter set to true, followed by invoking the pub.jms:waitForReply service.
The first service sends the request message and the second service waits for the
reply message. When this sequence of services is invoked more than once within
the scope of single top-level service, the second pub.jms:waitForReply service
fails because the session to the JMS provider was closed by the previous
invocation of the service. 

Now, the session established by the pub.jms:waitForReply service is closed when
the top-level service completes instead of when the pub.jms:waitForReply service
completes. 

PIE-66114 (IS_10.3_Core_Fix15)
Email notification for service execution failure does not include service name
or the time of failure. 

When a service execution fails, Integration Server sends an email to the email
address specified in the Email Notification section of the "Settings >
Resources" screen in Integration Server Administrator. The email contains
detailed service exception but does not include the name of the service that
failed to execute and the time at which the failure occurred. 

This issue is resolved now.

PIE-66394 (IS_10.3_Core_Fix15)
A StackOverflowError occurs during service results caching.

When a high volume of requests invoke the same service and that service has
cached results, a race condition occurs where the cached results become
corrupted. This results in a StackOverflowError. 

Now, Integration Server synchronizes access to retrieving and updating the
cached results for a service, which prevents the corruption. 

PIE-66583 (IS_10.3_Core_Fix15)
Partial deployment of a package does not work in Cloud Container.

This issue is now resolved.

PIE-66690 (IS_10.3_Core_Fix15)
Currently, if a Java or Flow service creates an FTP(S) or SFTP session by
invoking the pub.client.ftp:login or pub.client.sftp:login service, then the
session does not close automatically. You must invoke the pub.client.ftp:logout
or pub.client.sftp:logout service explicitly to close the session. 

This issue is resolved by introducing the following server configuration
properties: 

- watt.client.ftp.session.logoutOnServiceCompletion: Set the value to "true"
to automatically close the FTP(S) session created by the pub.client.ftp:login
service, when the top-level service execution completes. If the value is set to
"false", you must invoke the pub.client.ftp:logout service to close the FTP(S)
session. The default value is "false". 

- watt.client.sftp.session.logoutOnServiceCompletion: Set the value to "true"
to automatically close the SFTP session created by the pub.client.sftp:login
service, when the top-level service execution completes. If the value is set to
"false", you must invoke the pub.client.sftp:logout service to close the SFTP
session. The default value is "false". 

You do not need to restart Integration Server for a change in these properties
to take effect. 

PIE-66693 (IS_10.3_Core_Fix15)
Designer does not properly reduce the dimension of an input or output XML
document list in a Loop step. 

In the Pipeline view in Designer, the dimension of an XML document list within a
Loop step is not reduced. This prevents mapping within the Loop step. 

This issue is now resolved.

PIE-66793 (IS_10.3_Core_Fix15)
The pub.security.util:getCertificateInfo service returns only the last two
digits of the certificate expiration year which can lead to incorrect
calculations for certificates expiring in 2100 or later. 

The pub.security.util:getCertificateInfo service uses a preset date format that
returns only the last two digits of the certificate expiration year. This
creates ambiguity as a certificate that expires in 2109 returns an expiration
year of 09, which some systems might treat aa 2009. 

To address this issue, the pub.security.util:getCertificateInfo service now
includes the optional parameter dateFormat which is of  type String. The value
of dateFormat must be a pattern used by java.text.SimpleDateFormat, for example
"MM/dd/yyyy". Use the dateFormat parameter to specify the date format to use for
the date returned by the notBefore and notAfter fields in the validity output
parameter. 

PIE-66900 (IS_10.3_Core_Fix15)
Integration Server incorrectly logs an error while restarting the server or 
reloading the WmPRT package. 

When client authentication for a Universal Messaging connection is set to 
"Username/Password" or "Certificate Based" in Integration Server Administrator 
(Settings > Messaging > webMethods Messaging Settings > Universal Messaging 
Connection Alias), Integration Server logs an error while restarting the server 
or while reloading the WmPRT package. 

This issue is resolved. Now Integration Server checks whether WmPRT documents 
are already synchronized with the Universal Messaging server during server 
restart or during WmPRT package reload and does not log any error.

PIE-66910 (IS_10.3_Core_Fix15)
Redundant caching of sessions. 

When services are invoked or web pages are requested, user sessions are written
to the session cache twice. This redundancy is not needed and can put a strain
on the session cache when processing a high volume of requests. 

This has been resolved. The redundant caching of sessions has been eliminated.

PIE-66920 (IS_10.3_Core_Fix15)
Filters are not working for a webMethods messaging trigger that receives
messages from Universal Messaging. 

Integration Server generates the incorrect protocol buffer descriptor for a
publishable document type that contains multiple document reference variables
that have the same name but refer to IS document types in different folders. 

To resolve this issue, Integration Server now uses the fully qualified name of
the document reference in the protocol buffer descriptor. 

Important! To complete resolution of this issue, for each publishable document
type that contains multiple document reference variables with the same name but
different document type references, a new protocol buffer descriptor must be
generated and then synchronized with Universal Messaging. After applying a fix
that contains PIE-66920, edit the publishable document type, save it, and then
synchronize it with Universal Messaging. 

PIE-66922 (IS_10.3_Core_Fix15)
During repository-based deployment, Integration Sever packages reload many
times. 

Integration Server reloads packages over and over again during repository-based
deployment. 

Now, Integration Server ensures that packages load only once during
repository-based deployment. 

PIE-66928 (IS_10.3_Core_Fix15)
A scheduled task does not run and the scheduler logs the "Could not complete
last run" error because the ScheduleDB.checkInvalidTasks() job runs when the
scheduler is still in the process of scheduling the task. 

This issue is now resolved.

PIE-66948 (IS_10.3_Core_Fix15)
When there are multiple requests by the webMethods Adapter for JDBC to create 
an adapter connection using Kerberos authentication, one request succeeds but 
the remainder fail with a JAAS authentication error.

The webMethods Adapter for JDBC uses Oracle's JDBC driver. When the adapter 
makes JDBC connections using Oracle's ojdbc8 driver to connect to the database, 
it sometimes fails with a JAAS authentication error. This makes it impossible 
for the JDBC connections made by the JDBC adapter to use Kerberos authentication.

This fix extends PIE-64956, making it possible for adapter connections made by 
the webMethods Adapter for JDBC adapter to use Kerberos authentication.

To use Kerberos authentication for connections made by the webMethods 
Adapter for JDBC, do the following:

1. Add the login context to the database URL for the webMethods Adapter for
JDBC connection alias by including the parameter loginConfigName=<loginContext>.
2. Set the watt.server.jdbc.datadirect.useJaasSubjectForKerberos server 
configuration property to true. You do not need to restart Integration 
Server for changes to this parameter to take effect.
3. If using Oracle's ojdbc8 driver, configure the adapter connection
alias to use Kerberos for authentication and another user to access the 
database by adding the following database URL parameter to the adapter 
connection alias URL: ReAuthenticateUser= userName

Following is a sample URL used by the JDBC adapter connection with 
the Oracle's JDBC driver:
driverType=thin;loginTimeout=10;url=jdbc:oracle:thin:@(DESCRIPTION=
(ADDRESS=(PROTOCOL=TCP)(HOST=<db-server.company.com>)(PORT=<1234>))
(CONNECT_DATA=(SERVICE_NAME=<db-service-name>)));
loginConfigName=<JAAS_CONFIG_FOR_USER>;ReAuthenticateUser=
<username>;connectionProperties=
{oracle.net.authentication_services=
(KERBEROS5),oracle.net.kerberos5_mutual_authentication=true};

With the above URL, the webMethods Adapter for JDBC adapter first establishes 
the connection to the database using the Kerberos JAAS authentication. If the 
ReAuthenticateUser connection parameter is specified then Integration Server 
invokes the APIs provided by the Oracle driver to switch the username from 
the Kerberos authenticated user to the user specified by the 
ReAuthenticateUser user parameter. This JAAS authentication avoids 
the JAAS authentication errors caused by the Oracle's JDBC driver.

PIE-66984 (IS_10.3_Core_Fix15)
CSRF token errors in RESTv2 requests to unprotected URLs.

If a REST endpoint is added to "Unprotected URLs" in the CSRF page in
Integration Server Administrator and CSRF guard is enabled, Integration Server
should exclude requests to that endpoint from CSRF secure token checks.
However, an error is returned if a REST request at an unprotected URL
does not meet the CSRF secure token checks.

The issue is fixed now.

PIE-67263 (IS_10.3_Core_Fix15)
The "pub.client.sftp:chmod" public service accepts only three octal digits
for the "mode" input parameter and does not accept a value for the sticky bit. 

This issue is resolved. Now, you can set the sticky bit using the
"pub.client.sftp:chmod" public service. 

PIE-67311
Service caching performance appears to degrade under heavy load.

This issue is now resolved.

PIE-67326 (IS_10.3_Core_Fix15)
Unable to delete any user-created custom JAAS realm from Command Central.

The issue is resolved now.

PIE-67477 (IS_10.3_Core_Fix15)
Serial webMethods messaging triggers that run on an Integration Server 10.1 or
10.3 lose messages when connecting to Universal Messaging server 10.5 or higher. 

When a serial webMethods messaging trigger running on Integration Server version
10.1 or 10.3 connects to Universal Messaging version 10.5 or higher, the
associated durable on Universal Messaging may be deleted and then recreated.
This can result in messages being lost. The associated durable may be deleted
and then recreated because Universal Messaging 10.5 supports only serial
durables. However, deleting and recreating the durable resulted in the following
issues: 

Issue 1:
When a serial webMethods messaging trigger on Integration Server 10.1 connects
to Universal Messaging 10.5, the trigger requests that a priority durable be
created. However, because Universal Messaging 10.5 no longer supports priority
durables, a serial durable is created automatically instead. Later, the trigger
will ask Universal Messaging what the durable type is. If the type does not
match the trigger processing mode, then the durable is deleted and recreated
with the correct type. (For example, if a concurrent trigger is started and the
durable type is not shared, the durable is deleted and a new shared durable is
created. Or if a serial trigger is started and the durable type is not serial,
the durable will be deleted and a new serial durable is created.) When the
serial trigger is running on Integration Server 10.1, the serial trigger expects
a priority durable on Universal Messaging, but the 10.5 Universal Messaging
server created a serial durable. Consequently, every time the serial trigger
starts on Integration Server 10.1, the serial durable is deleted and then
recreated. 

Note: When the trigger uses a webMethods messaging connection alias for which
the Client Prefix Is Shard option is selected, the durable is not deleted. 

Issue 2:
When a serial webMethods messaging trigger running on Integration Server 10.3
connects to a Universal Messaging server version 10.5 and the environment also
includes an Integration Server version earlier than 10.3 (such as 10.1) with the
same serial trigger, the serial durable on Universal Messaging will be deleted
and recreated every time the trigger starts. 

To resolve the above issues, when connecting to a Universal Messaging server
version 10.5, a serial webMethods messaging trigger running on Integration
Server 10.1 or 10.3 will check to see if the durable is serial or priority. If
the durable is either of these types, the durable is not deleted and recreated. 

PIE-67621 (IS_10.3_Core_Fix15)
Connecting to Integration Server from Designer takes minutes when running on a
macOS. 

This issue has been resolved.

PIE-67698 (IS_10.3_Core_Fix15)
In an Integration Server configured with an LDAP server, if the number of results 
of a query for user groups exceeds the maximum size limit configured 
on the LDAP server,the Size Limit Exceeded error occurs on the LDAP server.

To resolve this issue, the following new server configuration 
parameters are introduced:

watt.server.ldap.groupSearchFilter: Specifies the filter that Integration Server 
and SoftwareAG Platform Manager (SPM) plugin use when searching for user groups
in the connected LDAP servers. This parameter helps to narrow down the search 
results and has no default value.

watt.server.jndi.searchresult.pageSize: Specifies the batch size of user 
groups that Integration Server retrieves from the connected LDAP servers. 
Use this parameter to limit the page size of LDAP search results. Set this 
parameter to 0 to retrieve all user groups from the LDAP servers at once. 
The default value is 1000.

Integration Server need not be restarted for the change to take effect.

PIE-67719 (IS_10.3_Core_Fix15)
Concurrent delete statements can cause deadlocks in the document history
database. 

webMethods messaging triggers and JMS triggers use the document history database
to ascertain if a received message is a duplicate. An entry written to the
document history database expires after an amount of time configured on a per
trigger basis. While triggers remove expired entries from the database,
Integration Server also runs a scheduled task periodically to remove expired
entries. If multiple threads call the logic to delete expired entries at the
same time, threading concurrency issues may occur and result in a deadlock in
the document history database. 

To address this issue, Integration Server now ensures that the logic to delete
expired entries in the document history database is called synchronously. 

PIE-67767 (IS_10.3_Core_Fix15)
Integration Server does not correctly decode URL encoded '%' characters ('%25')
in the path parameter of REST API requests and returns an error.

This issue is now resolved.

PIE-67780 (IS_10.3_Core_Fix15)
If an email listener port in Integration Server is configured to invoke a flow
service, Integration Server creates a session for each invocation, which expires
in 600 seconds even though the flow service is configured as stateless and the
port is configured to invoke the service as a non-administrator user. 

This issue is resolved. Now, a session is created for each invocation of a
stateless flow service and the session expires only after the service execution
completes. 

PIE-63345 (IS_10.3_Core_Fix14)
System packages deployed to Cloud solutions could be deleted upon deployment.

When deploying system packages (those packages whose names start with Wm) to 
Cloud solutions, the system packages could be deleted upon deployment.

Now, system packages cannot be deleted upon deployment.

PIE-65070 (IS_10.3_Core_Fix14)
WmCloudStreams package and connector packages that depend on it are not 
deployable to the webMethod Cloud.

The WmCloudStreams package and connector packages that depend on it 
can now be deployed to the webMethods Cloud in their entirety.

PIE-66302 (IS_10.3_Core_Fix14)
Setting up an OAuth 2.0 compliant e-mail port in Integration Server
----------

Before you begin
----------
Register Integration Server as an application in your OAuth Server and 
make a note of the OAuth credentials issued for Integration Server. 
You will need it to set up the e-mail port.Refer Microsoft Azure 
documentation for information about registering an application.

Procedure
----------

1. Log on to Integration Server Administrator.
2. Click Security > Ports > Add Port > webMethods/Email Port, 
and then click Submit.
3. Select "IMAP" and enter the following details of your e-mail server.
- Host Name
- Port: 993
- User Name
4. Select Authentication as "OAuth" and use the credentials 
generated by your OAuth Server to enter the following details:
- Auth URL
- Client ID
- Client Secret
- Scope
- Access Token URL
- Redirect URL:
If Integration Server is accessed locally, enter the redirect 
URLs in one of the applicable formats:
http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp
or
https://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp
If Integration Server is accessed remotely, use https://{ISHostName}:
{port}/WmRoot/security-oauth-get-authcode.dsp

5. Click "Get Authorization Code" to receive a unique string from the 
OAuth Server that Integration Server requires to request an access token.
Note: Whenever you edit the OAuth credentials for an email port, ensure 
to get the authorization code.

6. Enter other security details appropriately and click "Save Changes".
You will receive an Access Token Expiry Time until when the access token 
issued by the OAuth Server can be used. IS will dyanamically 
re-generate access token.
----------

Manually generating the access token for outbound SMTP requests

Procedure
----------
1. Manually request for authorization code through a URL. If your OAuth 
Server is a Microsoft Azure, form the URL in the following manner
with the credentials obtained post registration of Integration Server.
https://login.microsoftonline.com/&lt;TenantID&gt;/
oauth2/authorize?response_type=code&prompt=login&redirect_uri= 
http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp&client_id=<clientID>

2. Extract the authorization code from the response. For example, 
in this response, the value of "code" is the authorization code.
http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp /
?code=AQABAAIAAAAm-xxxx&session_state=yyyy

3. In the "pub.client.oauth:getExternalAccessToken" public service, 
select the grant_type as "authorization_code" and code as the authorization 
code from the previous step. Provide other input parameters similar to what 
you entered while creating the e-mail port. Run this service to get 
the access token, expiry time, and token type along with other information.
    
4. Use the output from the previous step as input parameters in the 
"pub.client:smtp" public service and run the service to send e-mails.

PIE-64413 (IS_10.3_Core_Fix14)
Integration Server continues to send a user's login requests to the LDAP server,
even after the user's account is locked.

This issue is resolved now.

PIE-64307 (IS_10.3_Core_Fix14)
Configuration option to set logging level for truncated audit log content when
the full value is written to the server log.

When Integration Server writes an audit record to an audit log that is a
database and one of the fields is too long to fit in its corresponding column, 
Integration Server truncates the field and writes the full value of the field 
to the server log. Integration Server writes the server log message at the Info
logging level.

The logging level for truncated audit log content in the server log can be 
controlled by setting the new server configuration parameter 
watt.server.audit.journal.truncated to the logging level at which you want 
the messages to appear. Valid values are: Critical, Error, Warn, Info, Debug,
Trace, and Off. The default value is Info. You do not need to restart 
Integration Server for changes to this parameter to take effect. When the 
server logging facility 0095 Audit Log Manager is set to the same level 
as watt.server.audit.journal.truncated or a more verbose level, the full 
value of the truncated field is written to the server log. For example, 
if the 0095 Audit Log Manager log level is set to Info and 
watt.server.audit.journal.truncated is set to Debug, the full value of the 
truncated field will not appear in the server log. If 0095 Audit Log Manager 
log level is set to Trace and watt.server.audit.journal.truncated is set to 
Debug, the full value of the truncated field will appear in the server log.

The default value for watt.server.audit.journal.truncated is Info. You do 
effect. 

PIE-64334 (IS_10.3_Core_Fix14)
Designer does not retry connecting to Integration Server after disconnection due
to a connection reset on the network and might lose connection to Integration
Server, especially if the Integration Server instance is hosted remotely or in
the cloud.

This issue is resolved now by adding the retry behavior and the number of
retries is configurable using the "watt.clientConnection.numberOfRetries" system
property. You can configure the number of retries by adding this property to
Designer at startup using the command line or add it to the
"Software AG_directory\Designer\eclipse\configuration\config.ini" file. By
default, watt.clientConnection.numberOfRetries=3, which means, in case of a
connection reset, Designer attempts to reconnect three times. If the reconnect
attempt fails three times, Designer disconnects from Integration Server.
Note: You can also connect to Integration Server manually using the Preferences
dialog under "Window > Preferences > Software AG > Integration Servers" in
Designer.

PIE-64440 (IS_10.3_Core_Fix14)
Integration Server does not consider the string provided for 'delim' parameter
as regular expression while executing the 'pub.string:tokenize'.

While executing the 'pub.string:tokenize' service, Integration Server considers
the delimiter characters in 'delim' parameter as individual character but not as
a regular expression.

This issue is resolved. Now, Integration Server supports an additional optional
parameter 'useRegex'. When this parameter is set as 'true', Integration Server
supports recognizing delimiter character set for 'delim' parameter as regular
expression . When set as 'false', Integration Server considers delimiter
character set for 'delim' parameter as individual character. The default value
is 'false'.

PIE-64448 (IS_10.3_Core_Fix14)
Repository-based deployments of the user and server alias assets using Deployer fail.

It is mandatory to have the 
<IS_Installation_Directory>\IntegrationServer\instances\default\config\sftp\sftpLicenseKey.cnf 
file in the source directory to complete the deployment successfully. If the file is not present, 
the build script fails with the error: "Deployment Error: NoSuchFileException".

This issue is now resolved.

PIE-64752 (IS_10.3_Core_Fix14)
Intermittent connection issues are observed between LDAP and Integration Server.

Integration Server throws a read-timeout exception when a user tries to log 
in to Integration Server using the LDAP credentials.

This issue is resolved now.

PIE-64763 (IS_10.3_Core_Fix14)
When deploying users to Cloud solutions using Designer and the ACDL-based 
approach, the password field for each user asset is not visible for variable 
substitution in Designer's deployment wizard.

With this fix the password field will be visible and available for variable 
substitution.

PIE-64931 (IS_10.3_Core_Fix14)
Integration Server processes both Transfer-Encoding and Content-Length headers
in an HTTP request

The HTTP headers Transfer-Encoding and Content-Length indicate mutually 
exclusive behaviors, and valid HTTP request
should include only one of these two headers. However, if an HTTP request 
contains both headers, Integration Server processes both. This is a security
vulnerability.

This issue is now resolved. Requests containing both Transfer-Encoding and 
Content-Length headers are not processed by Integration Server.

PIE-65495 (IS_10.3_Core_Fix14)
The pub.client:http service does not honour the value of the 
watt.net.maxRetries property.
 
Regardless of the value set for the watt.net.maxRetries property, Integration
Server considers the default value of watt.net.maxRetries, which is 1. It does 
not consider 0 or a value greater than 1 (default value). Additionally, despite 
receiving a SocketTimeoutException with the "read timed out" message, 
Integration Server continues to try to connect with the target. This is 
inconsistent if the connection is established, as the response is not received 
within the specified timeout value, yet the connection with the target 
gets established.
  
This issue is now resolved.

PIE-65586 (IS_10.3_Core_Fix14)
The new "pub.security:clearAuthenticationCache" public service enables 
developers to clear the authentication cache in Integration Server when
required.

PIE-62776 (IS_10.3_Core_Fix14)
Integration Server sometimes fails SSL requests with "bad_record_mac" error.

After handling an inbound web service request that does not contain any 
transport or message level credentials, the order of security providers 
gets changed. This results in SSL requests that use GCM ciphers sometimes 
failing with "bad_record_mac" error.

This issue is resolved by detecting and correcting the security providers list.

PIE-64956 (IS_10.3_Core_Fix14)
Integration Server JDBC pool connections that use Kerberos fail after the 
JAAS configuration used by Integration Server is wiped out by another 
component.

After JDBC connection establishes Kerberos connection using the Oracle ojdbc8 
driver, Integration Server
JDBC pools are not able to use Kerberos to connect to the database. All 
connection attempts fail with the message:

No LoginModules configured for <loginConfigName from database URL>.

To address this issue, this fix protects Integration Server by
programmatically running JAAS to obtain Subject and then using that
Subject to establish a connection to the database. To use this functionality, 
the following must be true:

- The server configuration parameter 
watt.server.jdbc.datadirect.useJaasSubjectForKerberos must bet set to true.
- The Database URL for the JDBC Connection Pool alias must contain 
AuthenticationMethod=Kerberos.

Note: The watt.server.jdbc.datadirect.useJaasSubjectForKerberos server 
configuration parameter is introduced with this fix. When set to true, 
the parameter specifies that Integration Server uses the Subject in a 
JAAS configuration when using Kerberos with JDBC pool connections. Set 
to true when there are JAAS conflicts where the Integration Server JAAS 
configuration is wiped out by another component. When set to false, 
Integration Server tries to acquire the database connection in the traditional
way. Set to false when there are no JAAS conflicts. The default value is false.
If you encounter JAAS conflicts that result in the message "No LoginModules 
configured for <loginConfigName from database URL>" and the JAAS login module 
true. 

You do not need to restart Integration Server for changes to this parameter 
to take effect.

PIE-65396 (IS_10.3_Core_Fix14)
Heap memory issue using MTOM with big files
When a large file that is part of an MTOM message is sent out as a webservice
request, it results in an Out of Memory exception.

This issue is resolved.
PIE-60232 (IS_10.3_Core_Fix13)
Change in how Integration Server enforces the watt.security.min.bytesPerSecond
value. 

The watt.security.min.bytesPerSecond configuration parameter specifies the
minimum rate at which data may arrive at Integration Server. If data arrives
more slowly than the watt.security.min.bytesPerSecond value, Integration Server
rejects the request with a 408 Request Timeout error and then closes the
connection. Integration Server enforces the watt.security.min.bytesPerSecond
value for the life of an HTTP connection. Browsers usually hold connections open
for multiple requests. Between requests, the browser's user may view a page for
several seconds. This invalidates the calculation done to enforce the
watt.security.min.bytesPerSecond rate as it includes the time the connection is
idle while the user is viewing a page. This fix changes how
watt.security.min.bytesPerSecond is enforced. Rather than calculate the bytes
per second rate for a connection, the rate is calculated for each request. Each
time a request is received by Integration Server, the rate at which Integration
Server reads bytes from the socket is monitored. When Integration Server reads
the end of the socket's InputStream, Integration Server stops the monitoring for
that request. 

As before, Integration Server can enforce the watt.security.min.bytesPerSecond
value only for requests where Integration Server is actually reading the bytes.
In some cases, the reading of the bytes is controlled by a customer's
application or by a third-party library. In these cases, Integration Server is
not reading the incoming bytes and cannot monitor the rate at which they arrive.
Integration Server does not enforce the watt.security.min.bytesPerSecond value
in these scenarios: 

- When the request payload is JSON and watt.server.http.jsonFormat is stream
- When the request payload is XML and watt.server.http.xmlFormat is stream
- When the request contains no Content-type header
- When enhanced XML parsing is being used
- When using the pub.xml NodeIterator services
- For SOAP requests

PIE-62982 (IS_10.3_Core_Fix13)
Command Central throws an exception while importing a composite template for an 
Integration Server node containing a JMS connection alias.

While importing a composite template for an Integration Server node containing 
an enabled JMS connection alias, Command Central throws "ServiceException: JMS 
alias update should be disabled before {1} operation" exception. To avoid this 
exception, you need to first disable the JMS connection alias in Integration 
Server Administrator under 'Settings > Messaging > JMS Settings' and then import 
the composite template.

The issue is resolved. Now, Command Central supports importing the composite 
template dynamically although the JMS connection alias of an Integration Server 
node is enabled.

PIE-63233 (IS_10.3_Core_Fix13)
The pub.client:http service uses the wrong Authorization header.

If an outbound web service call uses basic authentication and a subsequent
invocation of pub.client:http within the same workflow uses a different type of
authentication, Integration Server may reuse the credentials from the web
service call with HTTP request created for the pub.client:http service. This is
incorrect. 

Integration Server now creates the correct Authorization header for the outbound
HTTP call created for the pub.client:http service. 

PIE-63245 (IS_10.3_Core_Fix13)
In Scheduler, on creating complex task, date fields are not saved correctly.
Start date and time is set to current time, while End date and time is set to
blank.

This issue has been resolved now.

PIE-63275 (IS_10.3_Core_Fix13)
Integration Server now supports deployment of a Universal Messaging connection
alias. 

A Universal Messaging connection alias, which contains the configuration
information needed to establish a connection to Universal Messaging for the
purposes of publishing and receiving messages for webMethods messaging, can now
be deployed by Deployer. 

The following file must be manually copied or checked in to the source directory
in order to build Integration Server administrative assets for deployment. 

IntegrationServer_directory\instances\instance_name\config\messaging.cnf

The asset type ID is: isumalias

A Universal Messaging connection alias has following substitution values:

Client Prefix (CLIENTPREFIX) A string that identifies Integration Server to
Universal Messaging. 
Realm URL (um_rname) The URL for the Universal Messaging server in the format:
protocol://UM_host:UM_port 
Username (umUser) Username to connect to Universal Messaging.
Password (umPassword) Password required for the specified user name.

PIE-63432 (IS_10.3_Core_Fix13)
When an HTTP request is sent using the "pub.client:http" service to an HTTPS
port in Integration Server, then it responds with the HTTP status "200 OK". 

This issue is resolved. Now, the service throws the "NetException: Invalid HTTP
Response type" exception. 

PIE-63846 (IS_10.3_Core_Fix13)
UsernameToken signature validation fails for incoming Digest password.

If the Signed element is before the UsernameToken element in SOAP message
headers, then processing these elements in the same order leads to signature
verification failure. This is because, during the processing of Signed element,
the hashed password of the UsernameToken is replaced with its clear text
version. 

This issue is now resolved.

PIE-64200 (IS_10.3_Core_Fix13)
Integration Server does not refresh page contents in the background when the
session times out in Integration Server Administrator. 

When the browser session times out, Integration Server continues to display the
page contents in the background, while it prompts the user to log in. 
 
To resolve this issue, a new server configuration parameter,
'watt.server.clientTimeoutRedirect' is added. When this parameter is set to
'true', the page redirects the user to a blank page on session timeout. When set
to 'false', which is the default value, Integration Server retains the page
contents in the background. 

Integration Server need not be restarted for the change to take effect. 

PIE-64202 (IS_10.3_Core_Fix13)
During Integration Server migration, when the hostname is automatically updated
in the ISCoreAudit and ProcessAudit component tables, the process fails if a
table is not found. 

This issue is resolved now. However, if a table in the ISInternal component is
not found, the process fails. 

PIE-64476 (IS_10.3_Core_Fix13)
Integration Server throws error while processing REST requests with payloads 
containing empty arrays.

When Integration Server receives s REST request with payload in JSON format 
containing an empty array ([ ]), it does not parse the request payload correctly 
and throws an error.

This issue is now resolved.

PIE-64612 (IS_10.3_Core_Fix13)
In some instances, the security log gets flooded with the message "Internal
Server successfully authenticated to the Enterprise Gateway." 

This issue is resolved.

PIE-64662 (IS_10.3_Core_Fix13)
The error: "APIGRequestProcessor is null!" is generated on calling a webservice
Calling a webservice through the Enterprise Gateway without an API Gateway
license, invokes the API Gateway engine. This generates the error:
"APIGRequestProcessor is null!"

The issue is resolved: API Gateway engine is invoked only when an API Gateway
license is available.

PIE-64698 (IS_10.3_Core_Fix13)
Integration Server or Microservices Runtime cannot be started in a Docker
container because of a NoClassDefFoundError. 

When creating a Dockerfile for Integration Server or Microservices Runtime, the
is_container script does not include the metering folder in the Dockerfile. If
the Integration Server or Microservices Runtime has a license that is metering
enabled, a Docker image built from this Dockerfile cannot be started and fails
with a NoClassDefFoundError. 

Now, the is_container script includes the metering folder in the Dockerfile.

PIE-64859 (IS_10.3_Core_Fix13)
When deploying assets from Designer to Cloud Container, the ACDL descriptor does
not contain the top-level attribute indicating that runtimes need to be
restarted after deployment. 

When a component in an ACDL descriptor contains the attribute restartRuntimes
set to true, which indicates that the runtime must be restarted for deployed
changes to take effect, the top-level restartRuntimes attribute in the ACDL
descriptor must also be set to true. If no components need to be restarted, the
restartRuntimes attribute is set to false. However, when deploying assets from
Designer to Command Central, the ACDL descriptor did not contain this top-level
attribute. 

This issue is now resolved.

PIE-65410 (IS_10.3_Core_Fix13)
Integration Server migration from 9.7 to 10.3 fails with the
"java.lang.NoClassDefFoundError: org/apache/axis2/util/threadpool/ThreadFactory"
error. 
 
After applying 10.3 Core Fix 12 and running the migration utility, the migration
fails with the "java.lang.NoClassDefFoundError:
org/apache/axis2/util/threadpool/ThreadFactory" error. This issue occurs because
the migration utility does not find the JAR file containing the required class
file. 

This issue is resolved. Now, the classpath is corrected for the migration
utility. 

PIE-55176 (IS_10.3_Core_Fix12)
Invoking the service pub.flow:getCallingService while in debug mode sometimes
gives no result. 

If a flow service is run in Debug mode and the service invokes a Java Service
that invokes a child flow service that includes the pub.flow:getCallingService
the getCallingService will not return accurate results. Currently the
getCallingService would return a Null response. 

Now, when invoked in the situation described above, the
pub.flow:getCallingService will return the accurate calling service. 

PIE-56279 (IS_10.3_Core_Fix12)
Integration Server throws the "HTTP 401 - unauthorized" error while executing
the "pub.client:http" service. 

When Integration Server executes the "pub.client:http" service that connects to
a Microsoft IIS Server configured to use NTLM authentication, the request
returns the "HTTP 401 - unauthorized" error, despite correct user credentials
provided in the service. 

To resolve this issue, the NTLM client is enhanced to send new NTLM flags in the
service request. 

PIE-59435 (IS_10.3_Core_Fix12)
Integration Server does not display the scheduled tasks under 'Server >
Scheduler' in Integration Server Administrator because one or more tasks have
corrupted inputs. Instead, it throws the
"java.lang.reflect.InvocationTargetException: StackOverflowError" exception in
the stack trace. 

This issue is now resolved. Integration Server now displays the scheduled tasks
regardless of tasks with corrupted inputs. 

PIE-60902 (IS_10.3_Core_Fix12)
Integration Server does not log detailed error messages at runtime.

At runtime, Integration Server logs only wrapped error messages that do not 
provide error details. For example, if 'NoClassDefFoundError' occurs at runtime, 
Integration Server logs only a wrapped error message.

This issue is resolved. Now, Integration Server logs error messages with the 
root cause.

PIE-61045 (IS_10.3_Core_Fix12)
Integration Server does not clear the sessions in Integration Server 
Administrator under 'Server > Statistics' while executing a stateless service 
through the Enterprise Gateway Server external port.
 
This issue is now resolved.

PIE-61308 (IS_10.3_Core_Fix12)
Integration Server throws Java heap space error when the custom filter is
enabled in the Enterprise Gateway Server Rules.

In Integration Server Administrator under 'Security > Enterprise Gateway Rules >
Rules > Create', when the custom filter is set, Integration Server always clones
the incoming payload to process the request. An increase in the payload size
causes memory problem and Integration Server throws Java heap space error.

This issue is now resolved by adding a check box, 'Clone the payload' in
Integration Server Administrator. If the check box is not selected, Integration
Server does not clone the payload and only processes the header information. If 
the check box is selected, Integration Server clones the payload and processes 
the complete request.

PIE-62815 (IS_10.3_Core_Fix12)
When the watt.server.service.blacklist server configuration parameter is set to
any value, access to services is denied to any user except those users who
belong to groups in the allow list for the Administrator ACL or the Internal
ACL. 

When the watt.server.service.blacklist is set to any value, Integration Server
performs an ACL check for all service executions, regardless of the value of the
Enforce Execute ACL property. As a result, execution fails for services for
which the execute ACL is neither the Internal ACL nor the Administrator ACL.
Integration Sever also returns an Access Denied error. 

This issue is now resolved. Integration Server properly performs the execute ACL
check when watt.server.service.blacklist is set. 

PIE-62972 (IS_10.3_Core_Fix12)
Startup of Integration Server is delayed when service caching is configured and
uses a distributed cache. 

This issue is now resolved.

PIE-63041 (IS_10.3_Core_Fix12)
Integration Server is not receiving request payload when Transfer-Encoding is
chunked. 

When receiving a client HTTP request without a content length specified in the
header, Integration Server ignores the payload. This occurs even if the request
includes the Transfer-Encoding header set to chunked.

This fix resolves the issue. Integration Server now processes payloads properly
in the above situation. 

PIE-63072 (IS_10.3_Core_Fix12)
Integration Server incorrectly returns 'Min DH Key Size' and 'Max DH Key Size'
values while executing the 'wm.server.sftpclient:getServerAliasInfo' service. 

When Integration Server runs the 'wm.server.sftpclient:getServerAliasInfo'
service to get the details of a server alias created for SFTP Client Version 1,
the service incorrectly returns the 'Min DH Key Size' and 'Max DH Key Size'
parameter values, although these parameters are not associated with the server
alias created for SFTP Client Version 1. 

To resolve the issue, apply the latest fix.

PIE-63123 (IS_10.3_Core_Fix12)
Integration Server does not deny access to a host whose IP address is on the
Deny List for an Enterprise Gateway external port if the host sends requests via
a proxy or a load balancer. 

When a host sends a request via a proxy or load balancer, the proxy or load
balancer adds the X-Forwarded-For (XFF) header to the request. The XFF header
contains the IP address of requesting host. Currently, Integration Server
ignores this header when determining whether to block a request sent to an
Enterprise Gateway external port. This can result in Integration Server allowing
access to a host whose IP address is on the Deny List for the Enterprise Gateway
external port configured to Allow by Default or denying access to a host whose
IP address is on the Allow List for a port configured to Deny by Default. This
issue applies to an API Gateway external port as well. 

To address this issue, Integration Server includes a new server configuration
property to control whether the XFF header, if present, is used when determining
if a host is allowed access to an Enterprise Gateway external port or an API
Gateway external port. 

watt.server.ports.ipaccess.ignoreXForwardedForHeader
Specifies whether Integration Server uses or ignores the IP address in the
X-Forwarded-For (XFF) header of a request when determining whether to allow or
deny access to the port. This parameter applies to requests received on an
Enterprise Gateway external port and API Gateway external port only. 

When set to true, Integration Server does not use the IP address in the XFF
header to determine if the request is from a host allowed to access the port.
Instead, Integration Server uses the IP address of the proxy or load balancer. 
- If a request is sent through a proxy or a load balancer from a host whose IP
address is on the Deny List for the port configured to Allow by Default and the
IP address of the proxy/load balancer is not blocked, the host will not be
blocked either. Instead, the host will have access to the port. 
- If a request is sent through a proxy or a load balancer from a host whose IP
address is on the Allow List for a port configured to Deny by Default and the IP
address of the proxy/load balancer is blocked, the host will not have access to
the port. 

When set to false, Integration Server uses the IP address in the XFF header to
determine if a request originates from a host allowed to access the port. 
- If a request is sent through a proxy or a load balancer from a host whose IP
address is on the Deny List for a port configured to Allow by Default, the host
will not have access to the port 
- If a request is sent through a proxy or a load balancer from a host whose IP
address is on the Allow List for a port configured to Deny by Default, the host
will have access to the port. 

The default value is true.

You do not need to restart Integration Server for changes to this parameter to
take effect. 

Note: This parameter affects the Enterprise Gateway external port and API
Gateway external ports only. 

PIE-63178 (IS_10.3_Core_Fix12)
Integration Server throws an error when a custom implementation of JavaMail
classes is used in a Java service. 

If a custom implementation of a JavaMail class is used in an Java service on
Integration Server, the service compiles successfully. However, during service
execution Integration Server throws a
java.lang.reflect.InvocationTargetException:loader constraint violation
exception due to a conflict caused by the same class being loaded from two
different locations. 

To resolve this conflict, all JavaMail packages have been imported to the IS
OSGi profile, which results in the IS OSGi profile loading all the classes from
JavaMail. Note that the parent class loader of Integration Server is the OSGi
bundle class loader. 

PIE-63502 (IS_10.3_Core_Fix12)
Integration Server exposes user's password when the pub.client:smtp service is
executed. 

When Integration Server invokes a flow service, which in turn invokes the
pub.client:smtp service, the user's password is displayed in plain text in the
service pipeline. 

This issue is resolved. 

PIE-63510 (IS_10.3_Core_Fix12)
Integration Server does not resume scheduled tasks after a temporary database
outage. 

If Integration Server temporarily loses connectivity with the database while
running scheduled tasks and the connectivity is restored later, the 'Server >
Scheduler' page in Integration Server Administrator incorrectly shows that the
scheduled tasks are running, although no tasks are running at that moment. 

This issue is resolved now.

PIE-63528 (IS_10.3_Core_Fix12)
The wrong message is displayed when deployment for a Universal Messaging
connection alias because a keystore alias does not exist. 

When deploying a Universal Messaging connection alias that specifies a keystore
alias that does not exist on the target Integration Server, deployment fails
with the following incorrect error message: 

[ISS.0153.9454] Key Alias "<keyAlias>" not found in the specified Keystore Alias
"keystoreAlias." 

This issue is resolved. Deployer now shows the following message when the
keystore alias does not exist on the target server: [ISS.0153.9455] Keystore
alias "keystoreAlias" not found in Integration Server. 

PIE-63549 (IS_10.3_Core_Fix12)
Integration Server now caches well-known DTDs for XHTML to avoid delays
encountered while accessing the W3C definition for the XHTML DTD. 

When an XML file references the W3C definition for the XHTML DTD, a 15 second
delay is encountered during the reference as well as an additional 15 second
delay for each DTD that is referenced by the XHTML DTD. 

To avoid the delay and overhead caused by accessing a W3C server, Integration
Server now caches the definitions for the well-known XHTML DTDs. 

PIE-63612 (IS_10.3_Core_Fix12)
Updated spring-boot-activator jar to address a security vulnerability.

Integration Server now includes spring-boot-activator jar version 2.3.0 which
addresses a security vulnerability in the previously included version. 

PIE-63780 (IS_10.3_Core_Fix12)
Option to obtain previous NodeIterator behavior retaining a skipped XML node in
moving-window mode. 

Prior to the application of a fix that included PIE-59103, the NodeIterator
created by pub.xml:getXMLNodeIterator and used by the pub.xml:getNextMLNode did
not free a skipped XML node when operating in moving-window mode. An XML node is
skipped when it does not match the criteria set for the NodeIterator in
pub.xml:getXMLNodeIterator. Instead, the NodeIterator retained nodes until a
successful match was found. This behavior is incorrect as it makes it difficult
to iterate over large XML files when there is a large number of intervening
non-matching nodes between successful matches. The changes in PIE-59103 ensured
that a NodeIterator frees skipped XML nodes when operating in moving-window
mode. While this is the preferred and more performant behavior, some
implementations rely on the old behavior. 

To address this issue, Integration Server now provides a server configuration
parameter watt.core.nodeIterator.retainFailures to use the old behavior. When 
watt.core.nodeIterator.retainFailures is set to true, a NodeIterator operating
in moving-window mode retains skipped XML nodes until a successful match is
found for the criteria specified in pub.xml:getXMLNodeIterator. NodeIterator
purges the skipped XML nodes only after a successful pub.xml:getNextXMLNode.
When watt.core.nodeIterator.retainFailures is set to false, a NodeIterator
operating in moving-window mode frees skipped XML nodes after every
pub.xml:getNextXMLNode execution. The default value is false. Integration Server
restart is not required for changes to take effect. 

After a fix was created for this problem, some customers had problems because
they were reliant on the old behavior. The fix re-enables the old behavior on a
selective basis when the server setting watt.core.nodeIterator.retainFailures is
set to true. 

PIE-63788 (IS_10.3_Core_Fix12)
New property in ACDL file to indicate the Integration Server needs to be
restarted after deployment. 

The ACDL file used by Deployer now includes a restartRuntimes property that is
set to true for certain assets to indicate Integration Server needs to be
restarted after deployment for the changes to the assets to take effect. This
affects the following assets: Broker, Extended Settings, File Access Control,
JDBC Function, JDBC Pool, LDAP Configuration, and Reliable Messaging. 

PIE-63845 (IS_10.3_Core_Fix12)
Various and unpredictable XML parsing errors occur while using web services on
Integration Server. 

An incorrect entry in the Integration Server ini.cnf file specified the wrong
jar file for XML parsing with web services. The ini.cnf file specified the
wstx.jar instead of wstx-asl.jar. 

After applying this fix, the corrected jar names will be used by the Integration
Server. 

PIE-63853 (IS_10.3_Core_Fix12)
The data returned by the /health endpoint is different after an update to the
spring-boot-activator jar version 2.3.0. 

The /health endpoint available in Microservices Runtime (or an Integration
Server with a Microservices license) now returns the correct data. 

PIE-63893 (IS_10.3_Core_Fix12)
Corrections to the CReadme.txt file regarding the location of the nmake utility.

The CReadme.txt, cpp_ClientReadme.txt, csharp_ClientReadme.txt file, which is
generated by Integration Server when creating a C, C++, or C# client code that
invokes a service respectively, now contains updated references to the location
of the nmake utility. Specifically, the file now states: 

You will require the Windows nmake utility (this is generally included in most
recent versions of Visual Studio, typically under C:\Program Files
(x86)\Microsoft Visual Studio). 

While in the Visual Studio directory, this executable file can be found with the
following Windows command prompt: dir /s "nmake.exe" 
Alternatively in Linux, this can be found using: find -name "nmake.exe"

PIE-64202 (IS_10.3_Core_Fix12)
During Integration Server migration, when the hostname is automatically updated
in the ISCoreAudit and ProcessAudit component tables, the process fails if a
table is not found. 

This issue is resolved now. However, if a table in the ISInternal component is
not found, the process fails. 

PIE-64292 (IS_10.3_Core_Fix12)
The Pinger thread created by Integration Server to keep the connection to a
remote Integration Server active sometimes waits 3 minutes or more before
sending another ping request. 

When Integration Server executes the pub.remote:invoke service, Integration
Server creates a Pinger thread that sends a wm.server.ping request to the remote
Integration Server every n seconds while the connection to the remote
Integration Server is active. The time interval, n, is either one third of the
wait time set in the Keep Alive Timeout field for the remote server alias, or,
if that is not specified, 2 minutes. This may result in long wait times by the
Pinger thread for sending a subsequent ping request. This is counter to the
purpose of the Pinger thread which is to keep the connection to the remote
server active, preventing a socket timeout due to the socket being in and idle
state for too long. 

To reduce the length of time that a Pinger thread is active but waiting for the
interval to expire before sending another ping request, Integration Server now
includes the server configuration parameter watt.server.ping.interval which
specifies the number of milliseconds that the Pinger thread waits between
sending wm.sever.ping requests. The default is 1000 milliseconds. 
Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-64402 (IS_10.3_Core_Fix12)
Integration Server now supports the use of the Tibero JDBC driver to connect to
the Tibero database. 

The ISInternal or ISAuditCore functional alias can now use the Tibero JDBC
driver to connect to a Tibero database instance. 

To use the ISInternal or ISAuditCore functional alias with Tibero, do the
following: 

1. Download the Tibero JDBC Driver jar file and place it in the following
directory: 
SoftwareAG\IntegrationServer\lib\jars\custom
2. Using Integration Server Administrator, create a JDBC Driver Alias and set
the Driver Class Name to: com.tmax.tibero.jdbc.TbDriver 
3. Create a JDBC Pool Connection Alias where the Associated Driver Alias is set
to the alias crated in step 2 and the Database URL is set to: 
jdbc:tibero:thin:@<server>:<8629|port>:databaseName

For more information about creating a JDBC driver alias and a JDBC connection
pool alias, see the webMethods Integration Server Administrator' Guide. 


PIE-53165 (IS_10.3_Core_Fix11)
API Gateway external and registration ports disappear after an update action.

If an external and registration port pair is created in an API Gateway instance
and an internal server port listening to the registration port is also created
on the same instance, then performing an update action on the external port
causes the external and registration ports to disappear from the instance. 

This issue is resolved now.

PIE-60770 (IS_10.3_Core_Fix11)
Integration Server suspends the JMS trigger when the JMS provider repeatedly
throws IllegalStateException.

When Integration Server uses Azure Service Bus as the JMS provider through the
AMQP protocol and if the JMS provider encounters a bad session and throws
IllegalStateException repeatedly, then Integration Server suspends the JMS
trigger due to an internal error.

This issue is now resolved.

PIE-61002 (IS_10.3_Core_Fix11)
When the messaging logger mode is changed to asynchronous, Integration Server
does not persist the change across restarts. 

If the Mode property of the messaging logger is set to Asynchronous and saved,
after Integration Server restarts it resets the mode to Synchronous. 

This issue is now resolved.

PIE-61482 (IS_10.3_Core_Fix11)
Integration Server Scheduler filter results are incorrect when Integration
Server is part of a cluster. 

This issue is resolved now.

PIE-61531 (IS_10.3_Core_Fix11)
The "pub.client.sftp:get" service fails with larger files when the GET operation
lasts longer than Timeout Period of the service and the
watt.net.sftpSweepInterval parameter because Integration Server ends the active
session used by the GET operation. 

This issue is now resolved. 

PIE-61778 (IS_10.3_Core_Fix11)
Integration Server does not execute the "pub.client:http" service properly.

When the "pub.client:http" service is executed to call a web service that
exchanges a cookie and is hosted on a Microsoft-IIS-Server with NTLM
Authentication, the Integration Server does not terminate the
"pub.client:http" service even if the authentication fails. 

This issue is resolved now. 

PIE-61904 (IS_10.3_Core_Fix11)
Integration Server does not display an error message, if the SFTP client version
in the request URL of the 'Create Server Alias' page is invalid. 

While creating an 'SFTP Server Alias' under 'Settings > SFTP' in
Integration Server Administrator, if the request URL of the 'Create Server
Alias' page contains an empty, null, or incorrect value for the SFTP client
version, Integration Server neither displays an error nor defaults to a valid
version. 

Example of a request URL with an incorrect SFTP client version:  

https://hostname:port/WmRoot/settings-sftp-client-serveralias-addedit.dsp?
operation=add&version=abc

This issue is resolved now. If the request URL contains an invalid SFTP client
version, Integration Server defaults to version 1. 

PIE-61922 (IS_10.3_Core_Fix11)
Integration Server throws incorrect error message while executing the
'wm.server.sftpclient:updateServerAlias' service. 

When Integration Server executes the 'wm.server.sftpclient:updateServerAlias'
service to update an SFTP server alias, it throws an incorrect error message
indicating that the Integration Server cannot run the service because the server
alias does not exist. 

This issue is resolved now. Integration Server displays an appropriate error
message for the service. 

PIE-61925 (IS_10.3_Core_Fix11)
Integration Server does not create the SFTP server alias correctly.

When creating an 'SFTP Server Alias' under 'Settings > SFTP' in
Integration Server Administrator, if the value of version in the request URL has
space, Integration Server creates the SFTP server alias for the SFTP client
version 1, by default. 
 
This issue is resolved now. The space in the value of the version is trimmed to
create the SFTP server alias for the correct version number. 

PIE-61963 (IS_10.3_Core_Fix11)
Unhelpful validation message displayed in webMethods.io.

When creating an account, integration, or application in webMethods.io,
specifying an illegal character such as a period (.) in the name results in the
message "You have entered an invalid Account name: Extra words after ." 

webMethods.io now displays the message "Extra words after <character> or use of
illegal character <character>" which more clearly identifies the illegal
character. 

PIE-62171 (IS_10.3_Core_Fix11)
Integration Server throws an exception while calling the REST APIs containing 
'date' or 'date-time' fields.
 
While calling the REST APIs that contain 'date' or 'date-time' fields as arrays 
or nested structure inside arrays, Integration Server does not convert the 
'date' or 'date-time' fields correctly and throws an exception.

This issue is resolved now.

PIE-62197 (IS_10.3_Core_Fix11)
If the Global Denial of Service rule is enabled, all the requests to Enterprise
Gateway Server are blocked after a certain time. 

The Enterprise Gateway Server does not correctly update the count of requests in
progress after processing a request. Therefore, when this count becomes equal to
the value set in the "Maximum Requests in Progress" field of the Global Denial
of Service rule, all requests are blocked. 

This issue is resolved now. 

PIE-62238 (IS_10.3_Core_Fix11)
Integration Server throws 'StackOverflowError' exception while updating the REST 
API descriptor (RAD).

When a RAD is created using a REST V2 resource that depends on document types 
containing cyclic references, Integration Server throws 'StackOverflowError' 
exception.

This issue is now resolved.

PIE-62286 (IS_10.3_Core_Fix11)
Additional debug information for SOAP-related transactions.

As requested by customers, additional debug information: thread id and session
age, is now available in the SOAP logs. 

PIE-62633 (IS_10.3_Core_Fix11)
Error log is not displayed in the Integration Server Administrator when
Integration Server runs in a Docker container. 

If the error log is configured to write to a database for an Integration Server
that is running in a Docker container, the Integration Server Administrator does
not display the error log entries on the Logs > Error page. 

This issue is now resolved.

PIE-62737 (IS_10.3_Core_Fix11)
The "pub.string:isNullEmptyOrWhitespace" WmPublic service does not return
'true' when the input is null. 

An optional input parameter, "ifPresent" is added to both
"isNullEmptyOrWhitespace" and "isNullOrBlank"(deprecated) services to ensure
correct behaviour and backward compatibility. 

- If the value of "ifPresent" is set to true, the services check whether the
"inString" input parameter is present or not, and only then proceed with
validation of the input. 
- If the value of "ifPresent" is set to false, the services throw an exception
when the "inString" input parameter is absent. Else, the services proceed with
validation of the input. 

Examples:
-------------
Service with inString="\t\n\r\n " and ifPresent = true, returns true
Service with inString= "\t\n\r\n " and ifPresent = false, returns true
Service with inString = "abcd" and ifPresent = true, returns false
Service with inString = "abcd" and ifPresent = false, returns false
Service with ifPresent = true, returns true
Service with ifPresent = false, throws an exception
-------------

This issue is resolved now. 

PIE-62827 (IS_10.3_Core_Fix11)
Integration Server throws the 'javax.net.ssl.SSLException' errors while
creating multiple HTTPS connections simultaneously. 

When Integration Server creates multiple HTTPS connections simultaneously
through a proxy server, some of the requests fail intermittently with the
'javax.net.ssl.SSLException' errors, if the socket pooling is enabled. 

The issue is resolved now. 

PIE-62832 (IS_10.3_Core_Fix11)
Integration Server starts a suspended repeating scheduled task immediately.

In Integration Server Administrator, under 'Server > Scheduler', 
when a suspended repeating task, scheduled to run later is activated, 
Integration Server starts the task immediately.

This issue is resolved now.

PIE-62988 (IS_10.3_Core_Fix11)
The package updates for a Wm package that can be partially deployed shows the
history of partial deployments but should not. 

Certain webMethods adapter packages can be partially deployed, specifically
WmJDBCAdapter, WmMQAdapter, WmAS400, WmSAP. After a partial package deployment
for one of the adapter packages, the package updates shows each partial
deployment but should not. 

Now, webMethods adapter packages that can be partially deployed no longer
display the partial deployment history as part of package updates. 

PIE-63045 (IS_10.3_Core_Fix11)
Integration Server now supports the use of environment variables for
substitution values during deployment. 

To use the value of an environment variable as the value of a substitutable
variable, specify the following as the substitution value (where "variableName"
is the name of the environment variable): ${variableName} 
 
During the variable substitution phase of deployment, when Integration Server
encounters a substitution value in the format ${variableName}, Integration
Server checks for an environment variable with the name variableName. If an
environment variable with that name exists, Integration Server uses the value of
the environment variable as the substitution value. If an environment variable
with that name does not exist, Integration Server uses ${variableName} as is. 

PIE-63299 (IS_10.3_Core_Fix11)
Migration utility for Integration Server does not migrate package releases.

After migrating to a more recent version of Integration Server, the Packages >
Publishing page should list the package releases available to subscribers but
does not. Furthermore, after upgrade, the
IntegrationServer/instances/<instanceName>/replicate/outbound directory was
empty and the released_pkg.cnf did not exist. 

Now, the migration utility migrates package releases which will be displayed on
the Packages > Publishing page in Integration Serve Administrator. Additionally,
the migration utility migrates the released_pkg.cnf and the folder
IntegrationServer/instances/<instanceName>/replicate/outbound contains the
package release zip files. 

PIE-63306 (IS_10.3_Core_Fix11)
Transaction exception behavior corrected in PIE-57965 is now configurable.

The resolution for PIE-57965 corrected the behavior of Integration Server so 
that Integration Server propagates an exception that occurs while committing an 
explicit or implicit transaction. This includes the scenario that uses the 
pub.art.transaction:commitTransaction service to perform a CRUD operation in a 
database table and error occurs because the connection to the database became 
unavailable during service execution. Integration Server propagates an exception 
for this local transaction and does not proceed with service execution. This is 
the correct behavior. However, in some circumstances the proper handling of the 
exception for the transaction service may be undesirable. For example, if a flow 
service contains another local transaction, the propagation of the exception for 
the pub.art.transaction.commitTransaction service results in a flow service with 
two local transactions. A single transaction context can contain any number of 
XA_TRANSACTION connections but no more than one LOCAL_TRANSACTION connection.

To resolve this issue, Integration Server now includes a server configuration 
parameter that controls whether Integration Server ignores the exception thrown 
by Integration Server as part of commit transaction.

watt.server.transaction.ignore.exception
Specifies whether Integration Server ignores exceptions that occur when committing 
an implicit or explicit transaction. When set to true, if an error occurs during the 
commit of an implicit or explicit transaction (such as during execution of the 
pub.art.transaction.commitTransaction service), Integration Server propagates the 
exception and service execution stops. When set to false, Integration Server ignores 
the exception and executes the next step in the flow service. The default value is false.

You must restart Integration Server for changes to this parameter to take effect.

To revert to the behavior of Integration Server that existed prior to application 
of a fix that included PIE-57965, edit the extended settings to set 
watt.server.transaction.ignore.exception=true and restart Integration Server.

PIE-54329 (IS_10.3_Core_Fix10)
Integration Server does not support mapping the evt:body element to another IS
document type for event routing. 

When you are using the pub.event.routing:subscribe service, you receive an
evt:Event document as input in the subscription service. Integration Server does
not support mapping the evt:body element inside this evt:Event document directly
to the desired document structure without using any additional methods or
transformation. 

The issue is resolved. If the input document type is known, you can directly map
the evt:body element inside the evt:Event document to the expected document
type. 

PIE-55787 (IS_10.3_Core_Fix10)
The size of the message sent by the pub.jms:send service is double the original
message size when using IData as the format for the message body. 

When sending a JMS message using the pub.jms:send service and the body of the
message is supplied as an IData in the JMSMessage/body/data input parameter, the
pub.jms:send service sends a message that is twice the size of the original
IData. When the services sends the message, Integration Server encodes the IData
as a byte array using IDataBinCoder which encodes data as two-byte instead of
single-byte. This causes the dramatic increase in message size. When Universal
Messaging is the JMS provider, this can result in the default 20 MB max buffer
size being exceeded when the IData for the message body is just 10 MB. 

Note that supplying the JMS message body as IData can be used only when sending
a JMS message from one Integration Server to another. 

To resolve this issue, Integration Server includes a custom property to indicate
that the message should be encoded as XML and decoded from XML instead of as a
byte array. When creating a service that invokes the pub.jms:send add the
following custom property and value to the JMSMessage/properties document in the
pipeline: $coderType = idata_xml_bytes 

The presence of the custom property $coderType and the value " idata_xml_bytes"
instructs the sending Integration Server to encode the IData message as XML
using IDataXMLCoder. The same property and value also instructs the receiving
Integration Server to decode the JMS message as XML to IData. 

PIE-56738 (IS_10.3_Core_Fix10)
The public service pub.smime:processSignedData does not verify the signature of
the MIME message if it is signed using the SHA256 algorithm. 

The issue is fixed now.

PIE-57280 (IS_10.3_Core_Fix10)
The built-in LDAP public services fail to initialize when they attempt to
connect to the LDAP server over LDAPS (LDAP over SSL). 

The built-in LDAP public services (pub.client.ldap.*) fail with the error
message "Could not initialize class
com.wm.app.b2b.server.ldap.SecureSocketFactory." when they attempt to connect to
the LDAP server over LDAPS. 

This issue is resolved now.

PIE-57752 (IS_10.3_Core_Fix10)
Integration Server incorrectly creates the type of the Date field in the Swagger
document while creating a REST API descriptor (RAD).

When user exposes a REST API with a Date object in the service signature
associated with a REST V2 resource and creates a RAD using the same resource,
Integration Server adds the type of the Date field as "string" and incorrectly 
adds the format as "date" in the generated Swagger document.

This issue is resolved now. Now Integration Server adds the format as
"date-time".

PIE-58244 (IS_10.3_Core_Fix10)
Integration Server lists the document type fields in incorrect order in the 
generated Swagger document.

When user generates a REST API descriptor using a REST V2 resource, the service 
signature of the mapped services contain document types and the fields in the 
document types exist in a certain order. But Integration Server lists these 
document type fields in different order in the generated Swagger document.

This issue is now resolved. Now Integration Server generates the Swagger 
document with the fields listed in the same order as they exist in the document 
types.

PIE-58335 (IS_10.3_Core_Fix10)
Integration Server causes multiple duplicate sessions while reloading a
webMethods messaging trigger.

When a webMethods messaging trigger associated with a publishable document type
is reloaded multiple times, Integration Server does not stop the trigger and
retains the current session before creating a new session. This results in
multiple duplicate sessions.

This issue is now resolved.

PIE-59929 (IS_10.3_Core_Fix10)
SFTP client enhancements

Integration Server now includes an advanced SFTP client, which provides new
configuration properties and additional Key Exchange Algorithms, Machine Access
Code (MAC) algorithms, and Ciphers. This enhanced support is available as a new
version (version 2) along with the previous version (version 1) in the SFTP
Server Alias settings page.

Further, the SFTP Server Alias settings pages in the Integration Server
Administrator have been enhanced to enable you to configure both versions.

The following new fields have been added to the SFTP Server Alias settings
pages:
- SFTP Client Version: Select the required version: "Version 1" or "Version 2".
- Min DH Key Size: Optional. The minimum DH key size. The default value is 1024.
  This field is not applicable if SFTP Client Version is "Version 1".
- Max DH Key Size: Optional. The maximum DH key size. The default value is 8192.
  This field is not applicable if SFTP Client Version is "Version 1".
- Preferred Key Exchange Algorithms: Optional. The list of preferred key exchange
  algorithms arranged in the order of preference. Any of the listed algorithms can
  be removed by moving it to the list of excluded algorithms.
- Preferred MAC Algorithms S2C: Optional. The list of preferred server to client
  Message Authentication Code (MAC) algorithms arranged in the order of preference.
  Any of the listed algorithms can be removed by moving it to the list of excluded
  algorithms.
- Preferred MAC Algorithms C2S: Optional. The list of preferred client to server
  Message Authentication Code (MAC) algorithms arranged in the order of preference.
  Any of the listed algorithms can be removed by moving it to the list of excluded
  algorithms.
- Preferred Ciphers S2C: Optional. A list of preferred server to client ciphers.
- Preferred Ciphers C2S: C2S: Optional. A list of preferred client to server ciphers.

Notes:
- If you have set Min DH Key Size to 1024 and you get the error message:
  "com.maverick.ssh.SshException: Minimum DH p value not provided [2048]", set
  the Min DH Key Size to 2048.
- watt.ssh.jsch.logging: Integration Server uses this existing server
configuration parameter for enabling SFTP client logging for both version 1 and 
  version 2.
- As the preferred key exchange algorithms, ciphers, and MAC algorithms can
  now be configured from the user interface, watt.ssh.jsch properties (except
  watt.ssh.jsch.logging) are deprecated and should not be used.
- If the any of the lists of preferred algorithms or ciphers is cleared by
  moving all items to the excluded list then the default list (in the default
  order) is used.
- Version 1 does not support wildcards in any of the public services (pub.client.sftp:*).
- If you configure SFTP version 2 with a User Alias, the Compression Level and
  Maximum Retries fields in the User Alias are ignored. These fields are
  applicable only to SFTP client version 1.

Migration of Existing SFTP Server Alias Data from watt.ssh.jsch.* Properties

After applying a fix that includes PIE-59929, an existing SFTP server alias will use the
new version 1 fields. The new version 1 fields are populated with the values of the
watt.ssh.jsch.* configuration parameters while applying the fix as described
below:

- Preferred Key Exchange Algorithms: If the watt.ssh.jsch.kex server property
  is set then those KEX algorithms are added to "Preferred Key Exchange
  Algorithms" and all other algorithms are added to "Excluded Key Exchange
  Algorithms". If the value of the watt property is empty then the default KEX
  algorithms are added to "Preferred Key Exchange Algorithms".
- Preferred Ciphers S2C: The ciphers included in the value of the
  watt.ssh.jsch.ciphers server property are added to "Preferred Ciphers S2C" and
  all other ciphers are added to "Excluded Ciphers S2C".
- Preferred Ciphers C2S: The ciphers included in the value of the
  watt.ssh.jsch.ciphers server property are added to "Preferred Ciphers C2S" and
  all other ciphers are added to "Excluded Ciphers C2S ".
- Preferred MAC Algorithms S2C: If the watt.ssh.jsch.mac_s2c server property
is set then those algorithms are added to "Preferred MAC Algorithms S2C" and all 
other algorithms are added to "Excluded MAC Algorithms S2C". If the value of the 
watt property is empty then the default server-to-client algorithms are added to 
  "Preferred MAC Algorithms S2C".
- Preferred MAC Algorithms C2S: If the watt.ssh.jsch.mac_c2s server property
is set then those algorithms are added to "Preferred MAC Algorithms C2S" and all 
other algorithms are added to "Excluded MAC Algorithms C2S". If the value of the 
watt property is empty then the default client-to-server algorithms are added to 
  "Preferred MAC Algorithms C2S".

The watt.ssh.jsch.* parameters listed above are deprecated now.

PIE-60336 (IS_10.3_Core_Fix10)
Change to allow Docker images created for Microservices Runtime or Integration
Sever to be deployed to OpenShift. 

A Docker image created for Microservices Runtime or Integration Server cannot be
deployed to OpenShift. When the is_container.bat/sh script is used to create a
Docker image for Microservices Runtime or Integration Server, the script creates
a sagadmin user who has ownership of the files in the 
Docker image. However, OpenShift runs Docker containers using an arbitrarily
assigned user ID. To support running of the container by an arbitrary user, a
root group needs to own the directories and files that might be written to by
the processes in the Docker image, the root group must have read/write access to
the directories and files, and the root group must have execute permissions to
the files that can be executed. The default user created by the
is_container.bat/sh script is not compatible with the OpenShift requirements. 

Now, a Docker image for Microservices Runtime or Integration Server created with
the is_container.bat/sh script can be used with OpenShift by setting the
-Dtarget.configuration parameter to OpenShift when executing the
createDockerfile, createPackageDockerfile or createLeanDockerfile command. When
-Dtarget.configration=OpenShift, the is_container.bat/sh script creates a root
group that has read, write, and execute permissions. Note that the value of the
-Dtarget.configuration parameter is not case-sensitive. 

Note: When -Dtarget.configuration=OpenShift, the script sets -Dimage.createUser
to false automatically. When -Dimage.createUser= true, Integration Server
creates a non-root user with ownership of the files. This is not compatible with
OpenShift. 

PIE-60384 (IS_10.3_Core_Fix10)
In Integration Server Administrator (Security > Certificates > Configure Client
Certificates), the imported client certificates mapped to a user cannot be
removed or modified. 

This issue is resolved now. 

PIE-60471 (IS_10.3_Core_Fix10)
Changes to Integration Server to support the use of Kerberos authentication with
JDBC pools. 

Integration Server supports the use of Kerberos authentication for outbound
connections to a database through JDBC connection pools. With this fix,
Integration Server provides support for using the driver's Kerberos
re-authentication feature with any supported database. In addition, this readme
shows how to configure each JDBC Pool with its own Kerberos ticket cache. 
 
To use a different Kerberos ticket cache file with each JDBC connection pool on
Integration Server, use the DataDirect connection parameter "loginConfigName".
To do this: 

1. Create a new login context in the is_jaas.cnf file located in the folder:
<IntegrationServer>/instances/<instance_name>/config. 
Within the new login context, specify the ticket cache that you want to use for
the login context. For example, see the sample below: 

JDBC_ISInternal {
        com.sun.security.auth.module.Krb5LoginModule required
                useTicketCache="true"
                ticketCache="/opt/krb_tickets/isinternal.kd";
};

2. Add the login context to the database URL for the JDBC connection pool by
including the parameter loginConfigName=<loginContext> . For example, it the
login context in the is_jaas.cnf file is named JDBC_ISInternal, add the
following the database URL for the JDBC connection pool:
loginConfigName=JDBC_ISInternal 
The DataDirect driver will use the ticket cache and other details found in the
JDBC_ISInternal JAAS login context to connect to the database, 

For more information about the DataDirect connection parameter
"loginConfigName", refer to the DataDirect Documentation from Progress. 

The DataDirect driver used by Integration Server JDBC connection pools supports
Kerberos re-authentication. For details about this support, refer to the
DataDirect Documentation from Progress. To connect to database using Kerberos
authentication and then use a different database user to access the database,
add the following new database URL parameter to the JDBC connection pool:
ReAuthenticateUser=<userName>. For example, to use an Oracle user named
"ISinternalUser" to access the database instead of the user who gets
authenticated using Kerberos, first grant all the required Oracle permissions to
that user and then add the following property to the database URL for the JDBC
pool: ReAuthenticateUser=ISinternalUser. 

Note: Use a semi-colon (;) to separate parameters in the database URL.

This fix also introduces new messages for Kerberors re-authentication property
which are written to the server.log when the server log facility 0096 JDBC
Connection Manager is to the DEBUG or TRACE. 

[ISS.0096.0031D] Database URL contains the Kerberos re-authentication property
'ReAuthenticateUser'. The original URL is : {0}. 
[ISS.0096.0032T] Database URL contains the Kerberos re-authentication property
'ReAuthenticateUser'. The revised URL is : {0}. 
[ISS.0096.0033D] Database URL contains the Kerberos re-authentication property
'ReAuthenticateUser'. The ReAuthenticateUser is : {0}. 
[ISS.0096.0034D] Kerberos re-authentication property 'ReAuthenticateUser' found
in database URL. Invoked ExtConnection.setCurrenUser using : {0}. 

PIE-60662 (IS_10.3_Core_Fix10)
Integration Server does not suspend the JMS or webMethods messaging trigger if 
the trigger throws a ClassCastException.

If the server configuration parameter 
'watt.server.trigger.preprocess.suspendAndRetryOnError' is set to true or the 
webMethods messaging trigger or the JMS trigger is configured to detect 
duplicates and suspend on error, and the trigger throws a ClassCastException 
during the preprocessing phase of the trigger execution, then the Integration 
Server does not suspend the trigger, instead acknowledges the message to the 
provider.

This issue is now resolved. Now Integration Server throws an ISRuntimeException 
and suspends the JMS or webMethods messaging trigger.

PIE-60975 (IS_10.3_Core_Fix10)
Updated property values for a webMethods messaging trigger do not take effect
after hot deployment. 

When a package containing a webMethods messaging trigger is deployed via hot
deployment, Integration Server suspends the trigger as part of the deployment.
After Integration Server loads the updated package successfully, the triggers
remain suspended which prevents the updated trigger property values from taking
effect. However, Integration Server should resume the triggers after hot
deployment completes which will allow the updated property values to take
effect. 

This issue is now resolved. After hot deployment of a package completes, any
webMethods messaging triggers in the package will be resumed, allowing updated
property values to take effect. 

PIE-61050 (IS_10.3_Core_Fix10)
After applying a fix containing PIE-59200 or upgrading to a release that
contains PIE-59200, Integration Server may not handle non-namespace qualified
attributes properly when encoding a SOAP request or response. 

If a document being encoded as part of a SOAP message contains fields
corresponding to XML attributes that are not using XML namespace prefixes (for
example, a field name with the format @localName instead of @prefix:localName),
the element in the resulting SOAP message may be missing attributes, or, in some
cases, the attribute may appear with the xsi: prefix used incorrectly. 

This issue is now fixed.

PIE-61081 (IS_10.3_Core_Fix10)
The pub.string.substituePipelineVariables service does not substitute the
variable with its value.

When using the pub.string.substituePipelineVariables service, if an array
pipeline variable with an index (example: %array[0]%) is passed to the
'inString' parameter, the service does not substitute the variable with its
value. 

The issue is resolved now.

PIE-61188 (IS_10.3_Core_Fix10)
Enhancements to the SFTP client login service.

- The SFTP login service (pub.client.sftp:login) now includes additional input parameters
that enable you to log in without configuring SFTP client aliases (server and user aliases).
- Two new helper services: getDefaultAlgorithms and getHostKey that return the default
algorithms and the host key respectively, which can be used with the SFTP login service.

The additional input parameters that have been added to the login service in this fix are:
- sftpClientVersion: String. Version of the SFTP client. The value for this can be "version1"
  or "version2". Using "version2" enables the newer advanced SFTP client, which adds new
  configuration properties, and additional Key Exchange Algorithms, Machine Access Code
  (MAC) algorithms, and ciphers.
- serverHost: String. The IP address or the host name of the SFTP server.
- serverPort: Integer. The SFTP server port number. The port number must be within
  the range of 0 and 65535 (inclusive).
- hostKeyBytes: Object. Optional. An array of bytes (byte[]). The host key of the SFTP
  server. If this field is empty then host key verification cannot be strict--Integration
  Server ignores the value of the strictHostKeyChecking field and trusts the host key
  received from the SFTP server while creating a connection.
  Note: You can get the host key of the SFTP server using the
  pub.client.sftp.admin:getHostKey service.
- userName: String. The user name for the SFTP user account.
- authenticationType: String. Type of authentication that Integration Server uses to
  authenticate itself to the SFTP server. Integration Server supports two types of
  authentication: public key and password. If the authentication type is password then
  the value in the "password" field is used. If the authentication type is publicKey then
  the value provided in the privateKeyBytes field is used.
- password: String. Optional. Password of the specified SFTP user account. This is
  required if authenticationType is password.
- privateKeyBytes: Object (an array of bytes (byte[])). Optional. If the authentication
  type is publicKey then provide the private key of the specified SFTP user account.
- passPhrase: String. Optional. It is required if you selected publicKey as the
  authentication type and if the private key you specified requires a passphrase.
- minDHKeySize: Integer. Optional. The minimum DH key size. The default value is 1024.
  This field is not applicable if sftpClientVersion is version1.
- maxDHKeySize: Integer. Optional. The maximum DH key size. The default value is 8192.
  This field is not applicable if sftpClientVersion is version1.
- preferredKeyExchangeAlgorithms: String Optional. A comma-separated list of preferred
  key exchange algorithms. If no value is provided then the default list of key exchange
  algorithms (in the default order) is used.
  Note: You can get the list of default key exchange algorithms, MAC algorithms, and ciphers
  using the pub.client.sftp.admin:getDefaultAlgorithms service.
- preferredCiphersC2S: String. Optional. A comma-separated list of preferred client-to-server
  ciphers. If no value is provided then the default list of client-to-server ciphers
  (in the default order) is used.
- preferredCiphersS2C: String. Optional. A comma-separated list of preferred server-to-client
  ciphers. If no value is provided then the default list of server-to-client ciphers (
  in the default order) is used.
- preferredMacC2S: String. Optional. A comma-separated list of preferred client-to-server
  message authentication code (MAC) algorithms. If no value is provided then the default
  list of client-to-server MAC algorithms (in the default order) is used.
- preferredMacS2C: String. Optional. A comma-separated list of preferred server-to-client
  message authentication code (MAC). If no value is provided then the default list of
  server-to-client MAC algorithms (in the default order) is used.
- proxyAlias: String. Optional. The proxy alias through which the request is to be routed.
  The proxy alias can be HTTP, HTTPS, or SOCKS. If a proxy alias is not specified,
  Integration Server makes outbound requests using each enabled proxy server alias until
  the request is sent successfully or all proxy servers have been tried.
- maximumRetries: Integer. Optional. The maximum number of times Integration Server tries
  to connect to the SFTP server if login fails. The default value is 5. This field is
  applicable if sftpClientVersion is version1.
- connectionTimeout: Integer. Optional. The amount of time (in seconds) Integration Server
  waits for a response from the SFTP server before timing out and terminating the request.
  The default is 0, which indicates that the session will never time out.
- sessionTimeout: Integer. Optional. The number of minutes Integration Server waits
  before terminating an idle session. The default is 30 minutes.
- compression: String. Optional. Whether or not to compress the data to reduce the amount
  of data in transition. Integration Server supports compression using the compression
  algorithm zlib. The allowed values for this field are "none" and "zlib".
  Note: You can use compression only if the SFTP server that you are connecting to
  supports compression.
- compressionLevel: Integer. Optional. The compression level to use if you selected the
  compression algorithm zlib in the compression field. The minimum allowed value
  is 1 (fast, less compression). The maximum allowed value is 6 (slow, maximum compression).
  The default value is 6. This field is not applicable if sftpClientVersion is version2.
- strictHostKeyChecking: String. Optional. Enables host key checking. If set to "Yes" and
  the host key does not match with the host key provided in hostKeyBytes field at the time
  of handshake then the connection fails. The default value is "Yes". If set to "No" then
  the host key is not checked during the handshake. This field is ignored if hostKeyBytes
  is empty.

Notes:
- userAlias is an optional input parameter now. However, it is the recommended method of
  passing configuration data to the service as it is resilient to changes to the
  configuration, such as removal of algorithms or ciphers in favor of stronger algorithms
  and ciphers.
- If you specify the userAlias and the other new parameters, userAlias is used by the service.

New Helper Services
This fix introduces two helper services: pub.client.sftp.admin:getDefaultAlgorithms and
pub.client.sftp.admin:getHostKey, which can be used to retrieve information that can be
passed to the pub.client.sftp:login service.

pub.client.sftp.admin:getDefaultAlgorithms
WmPublic. Returns the default values of the parameters: keyExchangeAlgorithms, ciphersC2S,
ciphersS2C, macC2S, and macS2C. The values are returned as a comma separated list.

Input:
- sftpClientVersion: String The value for this can be "version1" or "version2".

Output:
- keyExchangeAlgorithms: String A comma-separated list of supported Key Exchange Algorithms.
- ciphersC2S: String A comma-separated list of supported client-to-server ciphers.
- ciphersS2C: String A comma-separated list of supported server-to-client ciphers.
- macC2S: String A comma-separated list of supported client-to-server Message
  Authentication Code (MAC) algorithms.
- macS2C: String A comma-separated list of supported server-to-client Message
  Authentication Code (MAC) algorithms.


pub.client.sftp.admin:getHostKey
WmPublic. Gets the host key from the SFTP server.

Input:
The input for this service is similar to the input of the pub.client.sftp:login service.
It has the same input parameters except for: hostKeyBytes, userName, authenticationType,
password, privateKeyBytes, passphrase, preferredKeyExchangeAlgorithms, maximumRetries,
connectionTimeout, sessionTimeout, compression, compressionLevel, and strictHostKeyChecking.
These input parameters work in the same way as they do in the pub.client.sftp:login service.

Output:
- hostKeyBytes: Object An array of bytes (byte[]). The host key in byte array format.
- fingerprint: String. Fingerprint of the host key.

PIE-61307 (IS_10.3_Core_Fix10)
Integration Server throws an exception while retrieving the Swagger document 
through URL.

When a REST API descriptor is created based on a REST V2 resource that contains 
an operation having "/" as a path but without the GET HTTP method, then while 
invoking the generated Swagger document through URL, Integration Server throws 
an exception.

This issue is now resolved.

PIE-61357 (IS_10.3_Core_Fix10)
Integration Server ignores the Log Depth value for the UM Client Logger.

The Log Depth value for the UM Client logger specifies the number of log files
to keep on disk when using log rolling. When this number is reached, Integration
Server deletes the oldest log file. Integration Server ignored the configured
log depth and maintained only the current log file umClient.log and one earlier
log file named umClient.log_old. 

This issue is now fixed

PIE-61362 (IS_10.3_Core_Fix10)
Integration Server cannot create the alias while selecting PostgreSQL as 
external RDBMS using the Software AG installer or instance manager.

When you select PostgreSQL as external RDBMS using the Software AG installer or 
instance manager, Integration Server cannot create the alias for PostgreSQL. You 
need to create the alias manually when the Integration Server is up and running.

This issue is now resolved. Now Integration Server can create the alias for 
PostgreSQL while using the Software AG installer or instance manager.

PIE-61465 (IS_10.3_Core_Fix10)
After applying a fix that includes PIE-59200, Integration Server may not
properly populate the elements in outbound SOAP requests or responses. 

If a web service descriptor was created from a WSDL document that uses a schema
containing an element declared to be of xsd:anyType, Integration Server
represents the element as a document variable with *body field for character
data and one or more @attributeName fields for the attribute data. When encoding
the document variable for an outbound SOAP request or response, Integration
Server may omit the *body character data from the element in the SOAP request or
response. This was working correctly prior to the application of a fix that
includes PIE-59200. 

Integration Server now properly encodes *body character data for elements
declared to be of type xsd:anyType. 

PIE-61557 (IS_10.3_Core_Fix10)
After applying a fix that includes PIE-60058, invoking a web service fails with
an AxiomCoderException. 

After applying a fix that includes PIE-60058, a web service fails with the
following error: 

com.wm.app.b2b.server.wss.coder.AxiomCoderException: [ISC.0076.9222]
Document/Literal Coder: decoding error; cant convert SOAP Message to IS
Document, Caused by: java.lang.NullPointerException in
com.wm.app.b2b.services.DocumentToRecordService. 

This fix prevents the NullPointerException that prevented the web service call
from completing. 

PIE-61579 (IS_10.3_Core_Fix10)
The signature created by pub.security.xml:signXML service always has a "ds:"
prefix. 

The issue is now resolved. If required, you can now create a Signature element
in the signed XML without any prefixes. To facilitate this, a new input variable
"addDSPrefixToSignature" has been provided at the service level. By default,
this input variable is set to true, and the "ds:" prefix is added. To create a
Signature without the "ds:" prefix, set "addDSPrefixToSignature" to false. 

Note: An empty or null "addDSPrefixToSignature" is treated as true.

PIE-61615 (IS_10.3_Core_Fix10)
When creating an IS schema from an XML schema definition (XSD) that references
another schema through an import and a chameleon include and the referenced
schema does not belong to a namespace, Integration Server ignores one of the
references which may prevent the IS schema from being created. 

If an XSD contains an import and an include to reference the same XSD file and
the XSD file does not belong to a namespace (which make the include a chameleon
include), Integration Server arbitrarily ignores one of the references. If the
XSD contains references to components in the ignored XSD reference, creating IS
schema fails with the following error: 
  
[ISC.0082.9705] Definition not found

With this fix, Integration Server properly processes the import and chameleon
include so that schema components defined by the import and chameleon include
can be referenced, allowing the IS schema to be created successfully. 

PIE-61811 (IS_10.3_Core_Fix10)
A single exception in the Integration Server Administrator or service invocation
results in multiple email notifications after applying a fix that includes
PIE-58605 and PIE-54209. 

This issue is resolved now.

PIE-61879 (IS_10.3_Core_Fix10)
When Integration Server connects to an FTP server securely and the
pub.client.ftp:* services are executed, Integration Server throws
"javax.net.ssl.SSLException: Unsupported record version Unknown-48.48"
exception. 

This issue is now resolved. 

PIE-61954 (IS_10.3_Core_Fix10)
Integration Server does not suspend the JMS trigger when the server 
configuration parameter 'watt.server.trigger.preprocess.suspendAndRetryOnError' 
is set to true.
 
If the server configuration parameter 
'watt.server.trigger.preprocess.suspendAndRetryOnError' is set to true and the 
JMS trigger is configured to detect duplicates using the document history table, 
Integration Server does not suspend the JMS trigger when an error occurs during 
the preprocessing phase of the trigger execution because of the document history 
database, to which the DocumentHistory functional alias is pointing to, is down. 
 
This issue is now resolved.

PIE-62010 (IS_10.3_Core_Fix10)
Microservices Runtime creates multiple sessions when the /health endpoint is
invoked. 

When the /health endpoint on Microservcies Runtime (or an Integration Server
equipped with Microservices license) is invoked, Microservices Runtime creates a
session for each enabled health indicator but does not clean up the sessions
when the health indicator processing completes. 

Now, Microservices Runtime cleans up the sessions after health indicator
processing completes. 

PIE-62172 (IS_10.3_Core_Fix10)
When a Repeat step fails and is followed by a Try/Catch step combination,
Integration Server executes the Catch step but should not. 

If a Repeat step is followed by a Try/Catch step combination and the Repeat step
fails, Integration Server should exit the Repeat step and propagate the failure
to the parent flow step. However, Integration Server incorrectly executes the
Catch step. 

This issue is now fixed.

PIE-62176 (IS_10.3_Core_Fix10)
For a WebSocket port in Integration Server, the maximum size of binary and text
messages is limited to 64 KB. 

This issue is resolved now. The maximum message size is increased to 2000000 KB. 

PIE-62178 (IS_10.3_Core_Fix10)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs. 

PIE-62181 (IS_10.3_Core_Fix10)
Integration Server vulnerability to cross-site scripting (XSS) attack.

This fix addresses a security vulnerability to an XSS attack.

PIE-62210 (IS_10.3_Core_Fix10)
When creating an XML schema that uses many anonymous complexType extensions
within the same element declaration, Integration Server sometimes replaces the
specified content with anyType content. 

This fix corrects that behavior so that the intended content of the extension is
always included. 

PIE-62253 (IS_10.3_Core_Fix10)
When a Repeat step specifies a Scope value and is set to Repeat on failure,
rollback results in unpredictable behavior. 

When Repeat on is set to FAILURE and an iteration fails, Integration Server
restores the pipeline to its original 
state as it was before that iteration started. Rollback operations are performed
on the first level of the pipeline only. That is, first-level variables are
restored to their original values before the iteration failed. However, when a
Repeat step specified a value for the Scope property, Integration Server was not
rolling back the pipeline properly, resulting in unpredictable results. 

This fix ensures that only the top-level of the pipeline is rolled back for a
Repeat step set to Repeat on failure when there is a Scope value. 

PIE-62328 (IS_10.3_Core_Fix10)
Integration Server logs an error like "ORA-00947: not enough values" when an
attempt connect to the database fails. 

When an attempt to create a new database connection fails, Integration Server
sometimes logs an error similar to "ORA-00947: not enough values". 

This problem is resolved by PIE-62328 (this issue) and by WSC-616 which is part
of a Shared Components Audit Fix. Refer to the Fix Requirements section of this
fix readme for the name of the Shared Components Audit Fix. 

PIE-62349 (IS_10.3_Core_Fix10)
Integration Server cannot parse the JSON content for non-HTTP requests.

When Integration Server receives a non-HTTP request containing JSON content,
then it cannot parse the JSON content present in the request body.

This issue is now resolved.

PIE-62464 (IS_10.3_Core_Fix10)
Integration Server enables the deployment of adapters via Cloud Container.

Integration Server now supports the deployment of select adapters via Cloud
Container. For details, refer to Adapter documentation or Cloud Container
documentation. 

PIE-62498 (IS_10.3_Core_Fix10)
Integration Server does not add the variable constraints in the generated 
document type while creating a REST API descriptor (RAD).

While creating a RAD using a Swagger document, if the Swagger document contains 
minLength or maxLength variable constraints, then Integration Server does not 
add the constraints in the generated document type.

This issue is now resolved.

PIE-62617 (IS_10.3_Core_Fix10)
The /health endpoint does not return the correct number of available threads for
the ServiceThread indicator. 

The data returned by the /health endpoint for did not contain the correct value
for the number of available server threads. Specifically, the avail field in the
ServiceThread field contained in incorrect value. 

This issue is now resolved.

PIE-57146 (IS_10.3_Core_Fix9)
Value of watt.net.localhost server configuration parameter is not being honored.

The watt.net.localhost server configuration parameter specifies the hostname of
the machine from which you are using Integration Server. This is sometimes
needed when the host machine has more than one network interface cards. However,
Integration Server was not using the value of watt.net.localhost as the hostname
for the machine. 

This issue is now resolved.

PIE-57307 (IS_10.3_Core_Fix9)
Integration Server creates invalid data type while importing a Swagger document. 

While creating a REST API descriptor using a Swagger document, if the Swagger 
document contains a REST definition of primitive data type, then Integration 
Server generates the document types or fields containing document instead of the 
primitive data type. 

This issue is now resolved.

PIE-57427 (IS_10.3_Core_Fix9)
When an Integration Server contains a large number of triggers for process
engine, Integration Server writes a "Login has timed out" error during start
up and shut down.

When Integration Server contains a large number of webMethods messaging triggers
for process engine and Universal Messaging is the messaging provider, the
Universal Messaging client code on Integration Server sends signals to terminate
the thread that is attempting to acquire a connection to the database. This
resulted in errors like the following during start up and shut down:

java.sql.SQLException: [SoftwareAG][Oracle JDBC Driver]Login has timed out.

This issue has been resolved by modifying the way in which Integration Server
interacts with the thread management code in the Universal Messaging client.

PIE-57526 (IS_10.3_Core_Fix9)
Integration Server incorrectly adds the host, port, and protocol details in the 
URL while sending an OData response.

While sending an OData response to an enterprise gateway server, Integration 
Server incorrectly adds the host, port, and protocol details in the URL.

This issue is now resolved. Now Integration Server correctly adds the URL 
details that the client has used while sending the request.

PIE-58300 (IS_10.3_Core_Fix9)
Integration Server takes longer time to publish documents to the Broker when the 
document size is huge.

While publishing documents to the Broker, if the document size is huge and 
contains nested structure then Integration Server takes longer time to publish 
the document.

This issue is now resolved.

PIE-59381 (IS_10.3_Core_Fix9)
Integration Server appears slow during document type directed conversion of XML
nodes to IData document when the document type is very large. 

If an IS document type used for document type directed conversion of XML nodes
to IData has more than a few hundred fields, the conversion process may be
considerably slow. 

This fix addresses performance issues that may occur when the IS document type
used for document type directed conversion of XML nodes contains a very large
number of child fields.

PIE-59580
Client requests that use a valid JSON Web Token (JWT) in the authorization
header to access an Integration Server service are successful. However, if the
Common Directory Service (CDS) is configured, Integration Server also tries to
authenticate the request using Basic Authorization, which results in the CDS
user being locked out. 

This issue is resolved now. Integration Server does not attempt Basic
Authorization if JWT authorization is successful. 

PIE-59758 (IS_10.3_Core_Fix9)
Change to server log messages to include the ID of the thread performing the
activity that generated the log message. 

To improve troubleshooting, especially under heavy load, Integration Server log
messages in the server log now include the thread identifier of the thread
performing the execution. The thread ID appears after the message ID and before
the message and is prefixed with tid. For example: 

2020-02-05 00:28:41 EST [ISS.0014.0002I] (tid=69) Initialization completed in 46
seconds. 

Integration Server adds the thread ID to each server log message. To prevent the
server log message from including the thread ID, set the
watt.serverlog.includeThreadID server configuration parameter to false.
Following is a complete description of the parameter: 

watt.serverlog.includeThreadID
Specifies whether the log messages written to the server log include the thread
ID of the thread performing the action. The thread ID appears after the message
ID and before the message and is prefixed with tid. Set to true to include the
thread ID in the server log messages. Set to false omit the thread ID from the
server log messages. The default value is true. You do not need to restart
Integration Server for changes to this parameter to take effect. 

PIE-59778 (IS_10.3_Core_Fix9)
Integration Server throws NullPointerException while entering quiesce mode.

When you configure Universal Messaging and enable webMethods messaging triggers, 
Integration Server throws NullPointerException while entering quiesce mode.

This issue is now resolved.

PIE-59930 (IS_10.3_Core_Fix9)
If the HTTP header of the response of a native service is set to include an
Arabic character, the response header sent to the client is corrupted. 

This issue is resolved now.

PIE-60039 (IS_10.3_Core_Fix9)
After deploying a package that contains JAR files in the package
code/jars/static folder, the target Integration Server no longer restarts
automatically. 

When deploying a package that contains JAR files in the package's
code/jars/static folder, the target Integration Server needs to be restarted.
Previously, SPM, which Designer leverages for deployment, always restarted the
target runtime (server). However, SPM now only restarts the target runtime when
it is indicated via an internal flag. During deployment, Integration Server was
not setting this internal flag when building the ACDL file for a package that
contained JAR files in the code/jars/static folder. 

Now, when building the ACDL file for deployment of a package that contains JAR
files in the code/jars/static folder, Integration Server sets the internal flag
indicating that the target server requires restart after deployment. SPM will
restart the server after deployment completes. 

PIE-60087 (IS_10.3_Core_Fix9)
The sending of pub.publish.notification:error messages can now be suppressed.

Integration Server generates pub.publish.notification:error messages (documents)
when a webMethods messaging trigger encounters an error or exception condition
during processing. In turn the pub.publish.notification:error messges generate
Adapter:Error events. These messages and events may be unwanted. 

Integration Server now provides a server configuration property that can be used
to disable the generation and delivery of pub.publish.notification:error
messages. Disabling the delivery of the notification error messages prevents the
generation of Adapter:Error events. A complete description of the new property
follows: 

watt.server.messaging.deliverNotificationErrors
Specifies whether Integration Server generates and delivers
pub.publish.notifcation.error messages. When set to true, Integration Server
generates and delivers pub.publish.notification:error messages when an error or
exception condition during webMethods messaging trigger processing. The
generation and delivery of notification error messages may result in the
generation of Adapter:Error events. When set to false, Integration Server does
not generate or deliver pub.publish.notification:error messages. The
notification error messages are suppressed. The default value of this property
is true. 

You must restart Integration Server for changes to this parameter to take
effect. 

PIE-60154 (IS_10.3_Core_Fix9)
When Enterprise Gateway server has filters that require content processing, such
as the Message Size filter or the SQL Injection filter, it closes connections
with the client after each request, even if the "Connection: Keep-Alive"
header is present in the request. 

This issue is fixed. Now, if the "Connection: Keep-Alive" header is present
in the request, the connection is kept open for the value specified in the
"Keep-Alive: timeout" header. 

PIE-60370 (IS_10.3_Core_Fix9)
The Integration Server service pub.mime:addBodyPart ignores the values in the 
mimeHeader and Content-Transfer-Encoding headers if any letter in the header name 
is in upper case.

This issue is resolved now.

PIE-60516 (IS_10.3_Core_Fix9)
Integration Server incorrectly shows the on-premise hostname in the generated 
Swagger and WSDL URLs after deploying the REST API descriptor (RAD) and Web 
Service descriptor (WSD) assets to the cloud.

When users deploy a RAD or WSD asset to the cloud, Integration Server 
incorrectly shows the on-premise host details in the URLs.

This issue is now resolved.

PIE-60576 (IS_10.3_Core_Fix9)
Integration Server throws error while performing the search operation.

While searching for an item in the Designer through the nodes, if a flow service 
contains an error, then Integration Server ends the search operation and throws 
an error.

This issue is now resolved. Now Integration Server continues the search 
operation even if a node contains an error.

PIE-60649 (IS_10.3_Core_Fix9)
Integration Server does not add the '$httpMethod' variable in the input pipeline 
for the REST requests.

While processing the REST requests, Integration Server does not add the 
'$httpMethod' variable in the input pipeline. 

To resolve this, a new server configuration parameter 
"watt.server.rest.addHTTPMethodToInputPipeline" is added. 
If the value is set to 'true', Integration Server adds the '$httpMethod' input 
variable with the requested HTTP method in the input pipeline while processing a 
REST request. The default value is 'false'. The changes of this parameter 
setting take effect immediately.

This issue is now resolved.

PIE-60685 (IS_10.3_Core_Fix9)
When Integration Server streams a very large file using MTOM/XOP and uses the
HTTP header "Accept-Encoding:gzip", an OutOfMemoeryError occurs and streaming
ends abruptly. 

When Integration Server streams a very large file using MTOM/XOP and uses the
"Accept-Encoding:gzip" HTTP header, the java.lang.OutOfMemoryError: Java heap
space error occurs and file streaming ends abruptly. Integration Server receives
the HTTP response "HTTP/1.1 500 Java heap space". 

The issue is resolved. Sending a very large with MTOM/XOP in conjunction with
use of the "Accept-Encoding:gzip" HTTP header no longer results in an
OutOfMemoryError. 

PIE-60719 (IS_10.3_Core_Fix9)
The wrapper.log contains a ClassNotFoundException because a class is missing
from the whitelist. 

The absence of java.util.concurrent.ConcurrentHashMap from the whitelist results
in the following decoding error: 

[ISC.0076.0005E] BinCoder decode error creating Java serialized object..
Excpt:java.lang.ClassNotFoundException:
Class:java.util.concurrent.ConcurrentHashMap, not in White List 

The missing class is now added to the whitelistclasses.xml file.

PIE-60720 (IS_10.3_Core_Fix9)
Designer throws NullPointerException and deletes a node while renaming it, 
where the node is a grandchild of a DSP file.

While renaming a flow service node which is a grandchild of a DSP file node,  
Designer throws NullPointerException and deletes the flow service node.

This issue is now resolved.

PIE-61104 (IS_10.3_Core_Fix9)
The server.log contains a ClassNotFoundException. 

The absence of the com.wm.lang.ns.search.SearchCondition class from the
whitelist results in the following decoding error: 

[ISC.0076.0005E] BinCoder decode error creating Java serialized object..
Excpt:java.lang.ClassNotFoundException:
Class:com.wm.lang.ns.search.SearchCondition$SearchStringType, not in White List 

The missing class is now added to the whitelistclasses.xml file.

PIE-61106 (IS_10.3_Core_Fix9)
Enhancements to security log.

Integration Server now includes the following changes for the security log:

- Logging anonymous authentication requests.
- Logging the IP address of the client that initiated the request instead of the
proxy server address. 

The following paragraphs provide more information about these enhancements.

Previously, when the security logger was configured to write audit data for
authentication requests, the security log only included requests that supplied
credentials. Anonymous requests were not logged. Integration Server now includes
a server configuration parameter, watt.server.securityLog.logAnonymousRequests,
that controls whether or not anonymous requests are logged. When
watt.server.securityLog.logAnonymousRequests is set to true, the security logger
will write anonymous authentication requests to the security log. In a log
entry, the User Id for an anonymous request will be "local/default". The default
value is false, which indicates that the security logger does not include
anonymous authentication requests. You do not need to restart Integration Server
for changes to watt.server.securityLog.logAnonymousRequests to take effect. 

Previously, the client ID in a security log entry was the IP address of the
proxy server that forwarded the request to Integration Server. However, it is
more beneficial for the security log entry to include the IP address of the
client that originated the request, especially if the request is an anonymous
one. Now, security log entries and security log messages include the IP address
of the originating client by using the X-Forwarded-For request header from the
request. Integration Server includes a server configuration parameter that can
be used return the security log to the behavior that existed prior to this fix.
When watt.server.securityLog.ignoreXForwardedForHeader is set to false, the
default, Integration Server obtains the originating client IP address from the
X-Forwarded-For request header and uses that client IP address in the security
log and security log message. When
watt.server.securityLog.ignoreXForwardedForHeader is set to true, Integration
Server ignores the X-Forwarded-For request header and uses the IP address of the
proxy server as the client ID. You do not need to restart Integration Server for
changes to watt.server.securityLog.ignoreXForwardedForHeader to take effect. 

PIE-61326 (IS_10.3_Core_Fix9)
Addition of environment variables to control the Access Control List (ACL) for
accessing the health gauge endpoint and metrics endpoint. 

When invoked, the health gauge endpoint /health and the metrics endpoint
/metrics return the status of health indicators and server metrics,
respectively, on a Microservices Runtime or an Integration Server with a
Microservices license. By default, the ACL for accessing the endpoints is
"Administrator", meaning that authentication is required to invoke the
endpoints. This could be too restrictive. 

To address this issue, Microservices Runtime now includes environment variables
that can be set at startup to control the ACL assigned to the health gauge and
metrics endpoints. For example, setting the environment variables to Anonymous
enables the endpoints to return data without requiring authentication. The
environment variables are as follows: 

SAG_IS_HEALTH_ENDPOINT_ACL
Access Control List (ACL) whose members can access invoke the health gauge
endpoint /health. 

SAG_IS_METRICS_ENDPOINT_ACL
Access Control List (ACL) whose members can invoke the metrics endpoint
/metrics. 

Note: For a Microservices Runtime or Integration Server running in a Docker
container that was created using the is_container.bat/sh script after a fix
containing PIE-61326 was applied the default ACL for accessing the health gauge
or metrics endpoint is "Anonymous", which means authentication is not
required when the endpoint is invoked. For all other Microservices Runtimes and
Integration Servers, the default is "Administrator". 

Note: If SAG_IS_HEALTH_ENDPOINT_ACL or SAG_IS_METRICS_ENDPOINT_ACL is set to an
ACL that does not exist, invoking the related endpoint does not return data. 

PIE-61404 (IS_10.3_Core_Fix9)
Pipeline data may become corrupted after service resubmitted via Monitor.

When using the service resubmission functionality in Monitor, the pipeline
passed to the service may decode equivalent objects as references to the same
object instead of unique objects that contain equivalent data. An incorrectly
decoded pipeline introduces the potential for data corruption. 

This issue is now fixed. Integration Server decodes equivalent objects in the
service resubmission pipeline as unique objects that contain equivalent data. 

PIE-61540 (IS_10.3_Core_Fix9)
HTTP response from an Integration Server service incorrectly has "OK" status
message. 

If HTTP requests are routed to an Integration Server service through another
server such as API Gateway and the service does not set the status message in
the response, clients receive a response with the HTTP status message
"OK" -- even if the service returns an HTTP error code. 

This issue is resolved now. The status message in the response is empty if the
service does not set it. 

PIE-61569 (IS_10.3_Core_Fix9)
Integration Server now supports TLS 1.1 and 1.2 for e-mail ports and the pub.client:smtp 
service.

Integration Server uses the JSSE library to provide support for TLS 1.1 and 1.2.

To enable TLS 1.1 and 1.2:
- In Integration Server Administrator, when creating or editing an e-mail port, set the 
  "Use JSSE" option to "Yes". By default, the value is "Yes" for new and existing ports.
- In Designer, set the "useJSSE" parameter of the pub.client:smtp service to "yes". 
  By default, the value of "useJSSE" is blank. 
  
PIE-59380 (IS_10.3_Core_Fix9)
Updates to Integration Server to work with DataDirect Connect for JDBC Version 6.x.
Prior to this fix, Integration Server worked with DataDirect Connect JDBC 5.1.
With this fix, Integration Server can be used with DataDirect Connect for JDBC 
version 6.x as well as DataDirect Connect JDBC version 5.1.

PIE-39287 (IS_10.3_Core_Fix8)
Integration Server displays the predefined Client Prefix instead
of the user-defined Client Prefix after a restart.

After restarting Integration Server, the user-defined
Client Prefix for a new Broker Connection Alias is replaced with
the predefined Client Prefix that Integration Server creates.

This issue is resolved. Now, Integration Server displays the
user-defined Client Prefix correctly after a restart. 

PIE-53563 (IS_10.3_Core_Fix8)
Integration Server ignores the SAG_IS_LICENSE_FILE environment variable if the
license file licenseKey.xml does not exist under the config directory. 

This issue is now resolved. If license file does not exist under config
directory and if SAG_IS_LICENSE_FILE points to a valid license file, Integration
Server copies the license file from SAG_IS_LICENSE_FILE to the config directory. 

PIE-57558 (IS_10.3_Core_Fix8)
Integration Server throws exception for an empty POST request with
"Content-Type" as 'application/json'.

When Integration Server receives a POST request whose message body is empty and 
"Content-Type" is 'application/json', then it throws an exception related to the 
JSON parsing.

This issue is now resolved. Now if the request does not contain any message 
body, then Integration Server considers the body as an empty body and does not 
throw any exception.

PIE-57583 (IS_10.3_Core_Fix8)
Integration Server incorrectly converts a decimal format field into
java.lang.Double while importing a Swagger file.

While importing a Swagger file that contains a field of type "number" and the
field does not have a float or double format, Integration Server generates the
field as java.lang.Double which is an object of Java Wrapper Type.

This issue is now resolved. Now Integration Server generates such field as
BigDecimal so that the field can contain large values.

Note: Ensure that you use the latest Designer fix to make this fix work smoothly.

PIE-57965 (IS_10.3_Core_Fix8)
Integration Server does not handle the exception propagation for 
"pub.art.transaction:commitTransaction" service.

While performing any CRUD operation in a database table using a JDBC adapter 
service (pub.art.transaction:commitTransaction), if you pause the operation and 
disable the JDBC connection and restart the operation again, Integration Server 
throws an error. This is because the connection is disabled; however, 
Integration Server executes the next step. Integration Server must stop the 
execution while throwing the error.

This issue is now resolved.

PIE-58074 (IS_10.3_Core_Fix8)
JMS trigger does not consume messages from the messaging provider when an XA
resource is involved. 

A JMS trigger does not consume messages from the messaging provider if the JMS
connection alias used by the trigger has the following configuration: 

- The JMS connection alias Transaction Type value is XA_TRANSACTION.
- The JMS connection alias uses an XA connection factory to create a connection
to the JMS provider. 
- The JMS connection alias creates a new connection per trigger.

The JMS trigger cannot receive messages because the transaction manager in
Integration Server treats the XA resource, the JMS provider, as a local
resource. The error that the JMS trigger receives depends on the JMS provider. 

With this fix, the transaction manager treats the resource as an XA resource.
The JMS trigger consumes messages as expected. 

PIE-58309 (IS_10.3_Core_Fix8)
Log files contain a message about "Inconsistent vector internals".

The absence of needed classes from the whitelist resulted in deserialization
issues surfacing as log entries with the message "Inconsistent vector
internals.

This fix adds missing classes to the whitelistclasses.xml file.

PIE-58404 (IS_10.3_Core_Fix8)
Integration Server email port not processing emails.

Emails are not processed by email listener if it is configured to not log out
(Log out after each mail check = no). 

This issue is resolved now.

PIE-58449 (IS_10.3_Core_Fix8)
Integration Server does not include the path parameters while generating the 
Swagger document.

While creating a REST API descriptor using a Swagger document that contains path 
parameters at path level, Integration Server does not add the path parameters in 
the generated Swagger document. This makes the Swagger document an invalid 
document.

This issue is now resolved.

PIE-58523 (IS_10.3_Core_Fix8)
Integration Server incorrectly builds the response structure of a REST service
in XML format.

When a REST service in Integration Server uses a single document in the output
signature and the "Wrap response root element" property is set to "false" then
Integration Server incorrectly uses the field name to build the response
structure of the service rather than using the document name.

This issue is now resolved.

PIE-58794 (IS_10.3_Core_Fix8)
The Integration Server instance is not registered as Windows service after a
disconnected migration using a Command Central template. 

The Integration Server instance should get registered as a Windows service if
"install.service : true" is specified in the Command Central template. However,
it is not registered if you perform a disconnected migration using a Command
Central template. 

The issue is resolved now.

PIE-58937 (IS_10.3_Core_Fix8)
Integration Server incorrectly executes a scheduled task twice.

Integration Server incorrectly identifies a scheduled task as an invalid task 
through invalidTaskChecker thread and schedules the task again for execution.

The issue in invalidTaskChecker thread is resolved now.

PIE-58988 (IS_10.3_Core_Fix8)
HTTP POST call using pub.client:http does not set default content-type.

If a GET call is made without setting content-type using pub.client:http and
then a subsequent POST call is made without setting the content-type then
default content-type is not sent in request headers. 

This issue is resolved now. Default content-type
"application/x-www-form-urlencoded" is added to the POST call now. 

PIE-59041 (IS_10.3_Core_Fix8)
When retrying a failed outbound connection, Integration Server writes HTTP
request body twice. 

When Integration Server is configured to pool outbound HTTP(S) connections,
Integration Server attempts to retry the failed connection. If the failed
connection is for an HTTPS request using a proxy, Integration Server writes the
request body twice when retrying the connection. 

This issue is now resolved.

PIE-59044 (IS_10.3_Core_Fix8)
Integration Server incorrectly adds a root element in the REST service response
in JSON format.

Integration Server incorrectly adds a root element in the REST service response
in JSON format when the "Wrap response root element" property is set to "true".
Due to this the REST service response does not match with the response structure
in the Swagger document.

This issue is now resolved.

PIE-59099 (IS_10.3_Core_Fix8)
Integration Server does not try to reconnect in some cases of socket connection
failure. 

Integration Server uses the watt.net.maxRetries server configuration parameter to 
determine how many times to attempt a socket connection only if the connection fails 
with a java.net.SocketException. It does not attempt to reconnect when the connection 
fails with a java.net.SocketTimeoutException or a java.net.ConnectException.

This issue is now resolved.

PIE-59101 (IS_10.3_Core_Fix8)
When an Integration Server instance that uses the Web Services Reliable
Messaging (WS-ReliableMessaging) protocol with a Microsoft SQL Server database
comes under a high load, some of the transactions fail due to deadlock errors
reported by the Microsoft SQL Server database. 

This issue is now resolved.

PIE-59103 (IS_10.3_Core_Fix8)
The NodeIterator sometimes does not free an unused XML node when operating in
moving-window mode. 

Now, the NodeIterator created by pub.xml:getXMLNodeIterator and used by the
pub.xml:getNextMLNode service frees unused XML nodes when operating in
moving-window mode. 

PIE-59120 (IS_10.3_Core_Fix8)
Higher CPU usage is observed when a SOAP Fault occurs during a WS-ReliableMessaging 
sequence. 

This issue is resolved now.

PIE-59163 (IS_10.3_Core_Fix8)
The configurationsvariables.log contains ClassNotFoundException messages related
to components that are not installed. 

At start up, Integration Server writes ClassNotFoundExceptions to the
configurationvariables.log file for features that are not installed such as
CloudStreams and WmART, for example: 

[ISS.0028.9999E] java.lang.ClassNotFoundException:
com.wm.pkg.art.externalization.ConnectionDynamicVariablesProcessor 
[ISS.0028.9999E] java.lang.ClassNotFoundException:
com.softwareag.cloudstreams.dynamicvariables.processors.LargeFileConfigProcessor

This occurs when the configurationvarabiles.log is set to the Error log level.
However the [ISS.0028.9999E] java.lang.ClassNotFoundException messages should
not be logged at the Error log level. 

To resolve this issue, the [ISS.0028.9999E] java.lang.ClassNotFoundException
message is now a debug level message. 

PIE-59187 (IS_10.3_Core_Fix8)
Duplicate messages retrieved from Universal Messaging by a webMethods messaging
trigger after the trigger starts. 

When more than one webMethods messaging trigger is connected to the same shared
durable on Universal Messaging, if one of the connected triggers is disabled and
then re-enabled (i.e., started), the trigger might receive "extra messages".
These extra messages are duplicates of messages already processed by the trigger
but are awaiting processing by other triggers that connect to the same shared
durable. The trigger receives the duplicate messages because when it reconnects
to the shared durable, the trigger does not specify the event ID of the last
message it processed. 

To resolve this issue, when a trigger reconnects to a shared durable, Universal
Messaging sets the event ID to the last message processed by the trigger. This
ensures that the trigger receives only messages with a later event ID from the
shared durable. 

PIE-59200 (IS_10.3_Core_Fix8)
After upgrading to a release that includes PIE-43915 or applying a fix that
includes PIE-43915, the pub.xml.xmlNodeToDocument service does not always retain
undeclared namespaces even when configured to. 

When the preserveUndeclaredNS input parameter is set to true, the
pub.xml.xmlNodeToDocument service retains undeclared namespaces in the resulting
document (IData). After upgrading to a release that includes PIE-43915 or
applying a fix that includes PIE-43915, the service does not always retain
namespaces when preserveUndeclaredNS is set to true. 

This issue has been fixed.

PIE-59280 (IS_10.3_Core_Fix8)
Attempt to connect to an Azure SQL database fails with an error.

An attempt by Integration Server to connect to an Azure SQL database results in
an error visible on the Server > Scheduler page: 
[SoftwareAG][SQLServer JDBC Driver]Invalid SQL specified

This issue has been fixed.

PIE-59371 (IS_10.3_Core_Fix8)
Integration Server logging appears to deadlock.

Integration Server logging appears to deadlock while under extreme load,
resulting in the need to restart Integration Server. 

To resolve this issue, Integration Server logging now uses the Log4j
asynchronous appender implementation from Apache. 

PIE-59525 (IS_10.3_Core_Fix8)
When redeploying scheduled tasks from an on-premise Integration Server to the
cloud, duplicate entries occur on the Cloud.

This issue is now resolved.

PIE-59555 (IS_10.3_Core_Fix8)
When creating an HTTPS outbound connection through a proxy server, Integration
Server always creates and uses a new socket for the proxy server. 

The issue is resolved now. Now, Integration Server creates a socket for the
proxy server only when there is no socket in the socket pool for that proxy
server. If a socket is already available for the proxy server, Integration
Server now uses the existing socket. 

PIE-59604 (IS_10.3_Core_Fix8)
Integration Server FTP client was not creating the data channel via the FTP
proxy, while connecting to FTP server in passive mode. 

This issue is resolved now. The Integration Server FTP client open the data
channel to FTP server via same proxy which is used while opening the command
channel. If there is no proxy used during command channel, then while  opening
data channel as well there will be no proxy used. 

PIE-59789 (IS_10.3_Core_Fix8)
Integration Server creates an invalid deployment descriptor for a package that
contains CloudStreams connectors. 

This issue is now resolved.

PIE-59886 (IS_10.3_Core_Fix8)
When using Dynatrace to monitor HTPS calls, Dynatrace captures the
ServerException [ISS.0139.9013] Error: keystore '' not found. 

Dynatrace captures the following exception even though a valid keystore alias
and key alias are provided. 

com.wm.util.ServerException [ISS.0139.9013] Error: keystore '' not found

This exception occurs because Integration Server checks the
watt.security.ssl.keyAlias and watt.security.ssl.keyStoreAlias parameter values
during the outbound HTTPS call and these parameters are empty. The message is
erroneous as a valid keystore alias and key alias have been provided. However,
the message is written because while Integration Server checks the
watt.security.ssl.keyAlias and watt.security.ssl.keyStoreAlias parameters for
null values, it does not check for emptiness. 

Now, Integration Server checks watt.security.ssl.keyAlias and
watt.security.ssl.keyStoreAlias for emptiness and the erroneous error message no
longer occurs. 

PIE-59893 (IS_10.3_Core_Fix8)
When an Integration Server acting as the OAuth resource server calls the
external authorization server to validate the access tokens, the request fails
with an Access Denied message for invoking the pub.client:http service. 

When Integration Server acts as an OAuth resource server and uses an external
authorization server, Inteegration Sever uses pub.client:http to validate access
tokens with the authorization server. If the pub.client:http service is not
allowed by the port configuration, this call fails and the client see the error:
[ISS.0007.0002I] Access Denied. No permissions to invoke service
(pub.client:http) on port <portNumber>. 

This issue is fixed.

PIE-59909 (IS_10.3_Core_Fix8)
Integration Server cannot initialize the service audit logger when the user 
configures the service audit logger with Universal Messaging using two-way SSL 
communication.
 
While configuring the service audit logger to use the Universal Messaging 
through a secure port and using a two-way SSL communication, Integration Server 
cannot initialize the service audit logger because of the connection from the 
audit component to Universal Messaging does not contain the necessary 
certificate details. Some session leaks also exist between Integration Server 
and Universal Messaging.
 
This issue is now resolved.

PIE-59926 (IS_10.3_Core_Fix8)
Secure outbound connection from Integration Sever fails with a
NullPointerException. 

When using a custom security provider, a secure outbound connection from
Integration Server fails with a NullPointerException. 

This issue is now resolved.

PIE-59927 (IS_10.3_Core_Fix8)
Using a Command Central template to create keystore allows a keystore to be
created even though the key alias name provided in the properties file is
invalid. 

Now, when using a Command Central template to create a keystore, the key alias
name from the properties file is validated and creation of the keystore fails if
the key alias name is invalid. 

PIE-60058 (IS_10.3_Core_Fix8)
If an inbound SOAP request uses the default namespace declaration on a simple
type element, Integration Server incorrectly treats the element as a complex
type, using a *body field for the element content. 

Integration Server decodes simple types in an inbound web service request
incorrectly when: 

- The service used as an operation in a service-first web service descriptor
accepts simple type inputs, such as a String field. 
- The simple type inputs are not namespace qualified.
- The inbound SOAP request uses the default namespace declaration (xmlns="") on
the simple type element to indicate the element is not namespace qualified.

In the above situation, instead of populating the corresponding String field
with the element content, Integration Server treats the element as a complex
type and places the element content in a *body field. 

Integration Server now properly handles the above situation.

PIE-60064 (IS_10.3_Core_Fix8)
When decoding a SOAP request for an operation in a provider web service
descriptor, Integration Server does not preserve the XML Namespace declarations
for nested elements within the request body. 

This issue is now fixed.

PIE-60177 (IS_10.3_Core_Fix8)
The server.log contains verbose stacktrace entries at the error level.

When errors occur during the JSSE handshake, Integration Server writes very
verbose stactktrace entries at the error level to the server.log. 

Now, stacktrace entries for errors that occur during the JSSE handshake are
logged at the debug level or higher. 

PIE-60222 (IS_10.3_Core_Fix8)
Integration Server does not close the JMS transacted sessions after the JMS send 
operation.

While using Broker as the JMS provider and connecting through JNDI, Integration 
Server does not close the transacted sessions after completing the JMS send 
operation.

This issue is now resolved.

PIE-60240 (IS_10.3_Core_Fix8)
Migrating Integration Server instances between different operating system
platforms (such as Linux and Windows) using the Integration Server migration
utility failed if JAAS configurations or Java Service Wrapper (JSW)
customizations were selected for migration. 

The issue is resolved now.

PIE-60387 (IS_10.3_Core_Fix8)
Update to application.properties file used by webMethods Cloud.

This fix contains an update to the application.properties file to support
functionality in webMethods Cloud. 

PIE-60577 (IS_10.3_Core_Fix8)
After applying a fix or upgrading to a release that includes WED-7036 and
WED-6846 the size of the flow.xml file for an existing flow service becomes
extremely large when it is edited and then saved. 
 
The size of the flow.xml file for a flow service that has a long signature or
contains MAP steps with transformers increases dramatically when the flow is
edited and then saved. 

This issue is now resolved.

Note: PIE-60577 is the Integration Server companion for the Service Development
issue WED-8614. 

PIE-52249 (IS_10.3_Core_Fix7)
When updating an Integration Server instance after migration, the JDBC
connection alias was removed for JDBC archiving functional aliases. 

The issue is resolved now.

PIE-54209 (IS_10.3_Core_Fix7)
Integration Server Administrator becomes unresponsive and suspends scheduled 
tasks. 

When scheduling system tasks in Integration Server, Integration Server fails 
to execute system tasks because of some blocked threads. 

The issue is now resolved. 

PIE-54657 (IS_10.3_Core_Fix7)
Browsers do not prompt users to enter the credentials to 
login to Integration Server Administrator after logging off. 

After logging off from Integration Server Administration Screen, 
users can login again using the link to resume the session without being 
prompted to enter the credentials. 

This issue is now resolved.

PIE-55099 (IS_10.3_Core_Fix7)
Integration Server does not allow any time skew over the "exp" (Expiration Time)
and "nbf" (Not Before) claims while validating a JWT token. 

This issue is now resolved. You can configure the time skew that is allowed for
JWT tokens. 

PIE-55413 (IS_10.3_Core_Fix7)
After applying a fix that includes PIE-54423, Integration Server does not
correctly decode an element with xsi:nil="true" if the element also contains
an xmlns attribute. 

If a SOAP request or response contains an element with xsi:nil="true" the
element must not have content but the element may carry allowable attributes
such as xmlns. When Integration Server decodes a SOAP request or response with
an element that contains xsi:nil="true", the element appears in the pipeline
as a field of type String with a null value. However, if the element that
carries xsi:nil="true" also carries the xmlns attribute, Integration Server
decodes the element incorrectly by treating the xmlns attribute as element
content. Instead of the expected field of type String with a null value in the
pipeline, Integration Server decodes the element as Document field with a child
field named @xmlns which contains the namespace declaration for the SOAP
message. 

With this fix, Integration Server decodes nillable elements with the
xsi:nil="true" attribute as a String field with a null value regardless of
whether xmlns attribute declarations are present. 

PIE-56274 (IS_10.3_Core_Fix7)
In a cluster environment, Integration Server does not show some of the subtasks
of a scheduled task.

In an Integration Server cluster environment, if a user creates a scheduled task
with the target node set to "All Nodes" and restarts all the nodes at once, 
Integration Server does not display some of the subtasks under the scheduled
task.

This issue is now resolved. 

PIE-56382 (IS_10.3_Core_Fix7)
When the local service development feature is in use, refreshing a service
updated by an external entity, such as another user, does not result in web
service descriptors that use the updated service being reloaded automatically. 

This issue has been corrected.

PIE-56609 (IS_10.3_Core_Fix7)
A scheduled task that was suspended because the user assigned to the user task
was deleted does not automatically resume after user is re-added. 

Upon deletion of the user account assigned to a scheduled task, Integration
Server automatically suspends the scheduled task displaying the following error
message: 
"User {<username>} is removed."
After the creation of a user account with the exact same name, Integration
Server does not automatically resume the suspended task. 

Now, if Integration Server suspends a user task because the user assigned to the
task was deleted, Integration Server automatically resumes the task if a user
account with the exact same name as the previous user account is added. 

PIE-56621 (IS_10.3_Core_Fix7)
New public services for building a date and incrementing a date. 

Integration Server includes new services pub.datetime:build and
pub.datetime:increment for building a date/time and incrementing a date/time,
respectively. These services make time zone processing more explicit than their
predecessors pub.date:dateBuild, pub.date:dateTimeBuild and
pub.date:incrementDate in which the default time zone behavior could be
counter-intuitive and inconsistent. 

A full description of the new services follows.

pub.datetime:build
WmPublic. Builds a date/time string using the specified pattern and the supplied
date/time elements. 

Input Parameters
pattern - String. The pattern with which to format the string. For more
information about these pattern letters and symbols, see 
the Oracle Java API documentation for the DateTimeFormatter class.

year - String. Optional. The year expressed as a 4-digit Integer. If you do not
specify year, the year will be from the current date which is determined by the
JVM in which Integration Server runs. If you specify an invalid value for year,
the service will end with an error from the JDK. 

month - String. Optional. The month expressed as an Integer where January is 1.
If you do not specify month, the month will be from the current date which is
determined by the JVM in which Integration Server runs. If you specify an
invalid value for month, the service will end with an error from the JDK. 

dayOfMonth - String. Optional. The day of the month expressed as an Integer,
starting with 1 as the first day of the month. If you do not specify dayOfMonth
the day of the month will be from the current date which is determined by the
JVM in which Integration Server runs.  If you specify an invalid value for day,
the service will end with an error from the JDK. 

hour - String. Optional. The hour of the day expressed as an Integer from 0
through 23. If you do not specify hour, the hour will be from the current time
which is determined by the JVM in which Integration Server runs. If you specify
an invalid value for hour, the service will end with an error from the JDK. 

minute - String. Optional. The minute expressed as an Integer from 0 through 59.
If you do not specify minute, the minute will be from the current time which is
determined by the JVM in which Integration Server runs.  If you specify an
invalid value for minute, the service will end with an error from the JDK. 

second - String. Optional. The seconds of the hour expressed as an Integer
from 0 through 59. If you do not specify second, the second will be from the
current time which is determined by the JVM in which Integration Server runs. If
you specify an invalid value for second, the service will end with an error from
the JDK. 

millis  - String. Optional. The number of milliseconds expressed as a Long.  If
you do not specify second, the millis will be from the current time which is
determined by the JVM in which Integration Server runs. If you specify an
invalid value for millis, the service will end with an error from the JDK. 

timezone - String. Optional. The time zone. If you specify a value for
timezone, the service ignores the useSystemTimeZone parameter value. Software AG
recommends supplying the full name for timezones, such as Asia/Tokyo,  or using
UTC. 

If pattern includes a timezone, you must specify timezone input parameter value
or set useSystemTimeZone to true. 

useSystemTimeZone - String. Optional. Indicates whether the service uses the
time zone of the Integration Server JVM if timezone was not specified. Set to
true to use the time zone of Integration Server when timezone is not specified.
Set to false if you do not want the service to use the timezone of Integration
Server if timezone was not set. The default is false. 

If pattern includes a timezone, you must specify timezone input parameter value
or set useSystemTimeZone to true. 

To match the behavior of pub.date:dateTimeBuild which produced a date/time that
always included a time zone set useSystemTImeZone to true. This ensures that if
timezone is not specified, the resulting date/time will include a time zone. 

locale - String. Optional. The locale in which to express the date. If locale is
not specified, Integration Server uses the value of the
watt.server.session.locale.ignore server configuration parameter to determine
whether the locale is obtained from the session used by the client that invoked
the service or if the locale is the locale of Integration Server.  An invalid
locale results in an error from the JDK. 

Output Parameters
value - String. The formatted date and time. 

Usage Notes
If you specify a parameter that does not exist in the supplied pattern, the
service ignores that parameter. 

If you do not specify a timezone, useSystemTimeZone is set to false, and the
pattern includes a time zone, the service ends with an exception. 

If a time zone is provided as input to the service either in the timezone
parameter or by setting useSystemTimeZone to true, the pub.datetime:build
service calculates the date/time starting with a "zoned" date/time. The
resulting values can differ when daylight savings time transitions are in
effect. If no time zone is provided as input to the service either by not
specifying timezone or by setting useSystemTimeZone to false, then the
pub.datetime:build service calculates the date/time starting with an
"unzoned" date/time. 

The pub.datetime:build service is similar to pub.date:dateBuild and
pub.date:dateTimeBuild, however, the pub.datetime:build service allows the
building of a date/time that does not include a time zone. Furthermore, the
pub.datetime:build service assembles a date/time using each of the provided
parameters. Consequently the pub.datetime:build service can build a date/time
with a value that would be invalid in the current time zone, such as a date/time
that would fall into the gap of a daylight saving time transition. This is
unlike pub.date:dateBulid and pub.date:dateTimebuild services which builds a
local java.util.Date object that uses the timezone of the machine running
Integration Server. The pub.date:dateBuild service then applies the offset
between the local timezone and the specified timezone. 

pub.datetime:increment 
WmPublic. Increments or decrements a date and time by a specified amount of time

Input Parameters
startDate - String. Starting date and time. 

startDatePattern - String. Pattern in which the startDate value is specified.
For more information about these pattern letters and symbols, see the Oracle
Java API documentation for the DateTimeFormatter class. 

endDatePattern - String. Pattern in which to format the resulting date/time.
For more information about these pattern letters and symbols, seethe Oracle Java
API documentation for the DateTimeFormatter class. 
If no endDatePattern is specified, the endDate will be returned in the format
specified in the startDatePattern parameter. 

timezone - String. Optional. The time zone to use for parsing startDate and
formatting endDate. 
The service uses timezone to parse the startDate String and convert it from the
time zone specified in the input, if one was provided. For example, if the
timezone input parameter is MST and the startDate is "2019-02-21 11:30:00
EST", then the services converts the startDate time from EST to MST.  The
service uses timezone when formatting endDate as a String. That is, the timezone
determines the time zone in which the service expresses the endDate. 

locale - String. Optional. Locale in which the endDate is to be expressed. If
locale is not specified, Integration Server uses the value of the
watt.server.session.locale.ignore server configuration parameter to determine
whether the locale is obtained from the session used by the client that invoked
the service or if the locale is the locale of Integration Server. 

addYears - String. Optional. The number of years to add to startDate. The
value must be an integer between -2147483648 and 2147483647. 

addMonths - String. Optional. The number of months to add to startDate. The
value must be an integer between -2147483648 and 2147483647. 

addDays - String. Optional. The number of days to add to startDate. The value
must be an integer between -2147483648 and 2147483647. 

addHours - String. Optional. The number of hours to add to startDate. The
value must be an integer between -2147483648 and 2147483647. 

addMinutes - String. Optional. The number of minutes to add to startDate.  The
value must be an integer between -2147483648 and 2147483647. 

addSeconds - String. Optional. The number of seconds to add to startDate.  The
value must be an integer between -2147483648 and 2147483647. 

addMilliseconds - String. Optional. The number of milliseconds to add to
startDate.  The value must be an integer between -2147483648 and 2147483647. 

useSystemTimeZone - String. Optional. Whether to use the system time zone to
increment the date/time when the startDate value does not have a time zone. 
Usually, the system time zone is the time zone from which the JVM that contains
Integration Server was launched. Note that it possible to modify the JVM time
zone after the JVM launches. 
Set to false if the startDate does not include a time zone, the timezone
parameter was not set, and you want to increment the date/time without being
affected by a time zone. Set to true to use the system time zone when
incrementing the date.  The default is false. 

When useSystemTimeZone is false and no timezone is provided, the resulting
endDate will not include a timezone. 
To match the behavior of pub.date:incrementDate,  which produced a date/time
that always included a time zone, set useSystemTimeZone to true. 

useSameInstant - String. Optional. Whether to use the same Instant, where
Instant represents a moment on the timeline in UTC, or the same unzoned
date/time when applying a different time zone. Using the same Instant will
usually result in changes to the unzoned date/time when the time zone and its
offset are applied. Not using the same Instant will result in the unzoned
date/time being unchanged when the time is applied. 
If useSameInstant is true, the pub.datetime:increment service uses the Instant
(the absolute time with no time zones) to determine how the timezone value is
used. 
If useSameInstant is false, the pub.datetime:increment services uses the unzoned
date/time and only changes the time zone. 
The default is true.

Note: For the purpose of this documentation, the term "unzoned date/time" is
synonymous with the term "local date/time". 

For example, if startDate is a date/time of "2019-02-25 08:25:00 CET"
(Central European Time, UTC+1:00) and the specified timezone value is
"America/New_York (EST, UTC-5:00)", the value of useSameInstant has the following
impact: 

- If useSameInstant is true, then 2019-02-25 08:25:00 CET becomes 2019-02-25
02:25:00 EST 
- If useSameInstant is false, then 2019-02-25 08:25:00 CET becomes 2019-02-25
08:25:00 EST 

Output Parameters
endDate - String. The incremented date and time. 

Usage Notes 
The pub.datetime:increment service can be used to decrement a date and time by
specifying negative numbers. The addYears , addMonths , addDays , addHours ,
addMinutes , addSeconds , and addMilliSeconds input parameters can take positive
or negative values. 

Integration Server issues an exception if the format of the date specified in
the startDate parameter does not match the format specified in the
startDatePattern. 

If endDatePattern includes a time zone, such as "z", then the input string and
startDatePattern must also have  time zone fields, or timeZone must be set, or
useSystemTimeZone must be true. Otherwise the service ends with an error. 

If you specify only the startDate , startDatePattern , and endDatePattern input
parameters and do not specify any of the optional input parameters to increment
the period, the pub.datetime:increment service just converts the format of
startDate from startDatePattern to endDatePattern and returns it as endDate . 

If you specify a value for timezone, the service ignores the useSystemTimeZone
parameter value. 

If you specify a value for timezone and the startDate includes a time zone, then
the service uses the supplied timezone to convert the startDate time zone. 

If you do not specify a value for timezone and the startDate includes a time
zone, then the service uses the time zone in the startDate and ignores the
useSystemTimeZone parameter. 

If you do not specify a value for timezone, the startDate does not include a
time zone, and useSystemTimeZone parameter is true, then the service uses the
system time zone. 

If startDate does not include a time zone, you do not specify a value for
timezone, and useSystemTimeZone is false, the resulting endDate will not include
a time zone. 

The pub.datetime:increment service is similar to pub.date:incrementDate,
however, the pub.datetime:increment service provides more specific handling of
time zones. To match the behavior of pub.date:incrementDate, set useSameInstant
to true. 

Supplying Timezones

You can specify timezone input parameters to the pub.datetime services in the
following formats: 

As a full name.  
For example: Asia/Tokyo America/Los_Angeles
You can use java.time.ZoneId.getAvailableZoneIds. () method to obtain a list of
the valid full name time zone IDs that your JVM version supports. 

As UTC.
For example: UTC - 5h

As a custom time zone ID, in the format GMT[+ | -]hh[ [:]mm]. 
For example: GMT+2:00 Time zones 2 hours east of Greenwich GMT-3:00 Time zones 3
hours west of Greenwich (that is, Argentina 
Standard Time and Brazil Eastern Time)
GMT+9:30 Time zones 9.5 hours east of Greenwich (that is, Australian Central
Time) 

As a three-letter abbreviation. 
For example: PST Pacific Standard Time

Because some three-letter abbreviations can represent multiple time zones (for
example, "CST" could represent both U.S. "Central Standard Time" and 
"China Standard Time"), all abbreviations are deprecated. Use the full name,
UTC, or custom time zone ID GMT formats instead. 

PIE-56736 (IS_10.3_Core_Fix7)
An Integration Server instance that connects to an external database logs an 
exception during start.

An Integration Server instance that connects to an external database using a 
dbURL string that contains a special character, such as less-than (<), more-than
(>) or ampersand (&)logs the following exception in the server log during server
start: 
[ISC.0076.0008W] XMLCoder decode exception: com.wm.lang.xml.WMDocumentException: 
[ISC.0042.9332] Malformed entity reference: &useSSL=false</value> 

This issue is now resolved.

PIE-56764 (IS_10.3_Core_Fix7)
When using WmVCS with Subversion, the commit message of "added" does not work in
some Subversion environments. 

When the VCS Integration feature, which is provided via the WmVCS package, is
used with Subversion, Integration Server use "added" as the default commit
message when adding new files including namespace nodes to Subversion. This does
not work in a Subversion environment that enforces a longer minimum length for
the commit message. 

To address this issue, Integration Server now includes a server configuration
parameter that can be used to specify the commit message. 

watt.vcs.comment.add 
Specifies the commit message to use with a version control system that works
with WmVCS. Integration Server uses the value of this parameter as the commit
message when adding a new file, including a namespace node. If this parameter
does not specify a value, Integration Server uses "added" as the commit message. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-56863 (IS_10.3_Core_Fix7)
Integration Server fails to capture port-related activity when the
security logger is enabled for ports.
 
If the security logger is enabled for ports in Integration Server Administrator,
then none of the port-related activities (activities with event type: PORTS),
such as enabling or disabling a port, are captured in the Security log .
 
This issue is now resolved.

PIE-56864 (IS_10.3_Core_Fix7)
Integration Server throws "400 Bad Request" error while receiving an HTTP 
request with payload to execute the DELETE operation.

When Integration Server receives an HTTP request containing a payload to execute 
the DELETE operation, it throws a "400 Bad Request" error.

This issue is now resolved.

PIE-56872 (IS_10.3_Core_Fix7)
After migrating to Integration Server 10.3, an exception occurs during OAuth
initialization. 

While upgrading the ISInternal database to 10.3, some migration paths do not add
the SCOPE_DESCRIPTION column to the IS_OAUTH_SCOPE table. This results in a
java.sql.SQLSyntaxErrorException being thrown. 

[ISS.0010.0001E] Exception occurred during initialization of OAuth:
java.sql.SQLSyntaxErrorException: Column 'SCOPE_DESCRIPTION' is either not in
any table in the FROM list or appears within a join specification and is outside
the scope of the join specification or appears in a HAVING clause and is not in
the GROUP BY list. If this is a CREATE or ALTER TABLE statement then
'SCOPE_DESCRIPTION' is not a column in the target table. 

This fix adds the SCOPE_DESCRIPTION column to the IS_OAUTH_SCOPE table. 

PIE-56916 (IS_10.3_Core_Fix7)
Sending email in "Explicit" mode was failing. This issue is resolved now.

PIE-57100 (IS_10.3_Core_Fix7)
Enhancement to Integration Server to prohibit execution of specific services via
a blacklist. 

Integration Server now provides the ability to block the invocation of services
through use of a service blacklist. An attempt to invoke a blacklisted service
results in an Access Denied error. This occurs whether the blacklisted service
is a top-level service directly invoked by a client or trigger, a service
invoked within another service, or a service invoked from Java code using
Service.doInvoke( ). When using Designer to debug a service that calls a
blacklisted service, attempts to invoke the blacklisted result in an Access
Denied error as well. 

The service blacklist is different from using ACLs to control which users can
view, edit, or execute services. The service blacklist can be used for all
services, including those installed with Integration Server such as WmPublic
services. Additionally, the service blacklist blocks execution only and blocks
it for all users. The service blacklist does not hide the specified services
from select users nor does it limit execution to users in a specific group. When
viewing the services in a package, a blacklisted service still appears in
Designer or in Integration Server Administrator. 

When a backlisted service is invoked, Integration Server writes the following to
the server.log: 
[ISS.0053.0002C] Access denied for user <username> on port <portNumber> ->
<directive>/<serviceName> from <ipAddress>

Integration Server also writes the following to the error log:
[ISS.0084.9004] Access Denied com.wm.app.b2b.server.AccessException: <exception> 

Note: Integration Server writes the above server and error log messages whenever
a user is denied access, including situations where the user provides incorrect
credentials or is invoking blacklisted services. 

When the Integration Server facility 0007 Authorization is set to the Debug
level, Integration Server writes the following message to the server log after
an attempt to invoke a backlisted service: 
[ISS.0007.0007D] ACLManager: service execution blocked; <serviceName> has been
blacklisted via "watt.server.service.blacklist property" 

Integration Server provides a server configuration parameter for creating the
service blacklist. 

watt.server.service.blacklist 
Specifies, using a comma-separated list or a file, the services on the service
blacklist and/or the interfaces whose services are on the service blacklist.
Attempts to invoke blacklisted services or services in a blacklisted interface
result in an Access Denied error. Any service can be blacklisted, including
services delivered with Integration Server such as those in WmPublic and WmRoot.
Make sure that a service critical to the functioning of Integration Server is
not blacklisted. 

For example to place the pub.client:ftp service on the service blacklist,
specify the following: 
watt.server.service.blacklist=pub.client:ftp

To place all the services in the pub.client.ftp interface (folder) on the
service blacklist, specify the following: 
watt.server.service.blacklist=pub.client.ftp

To place the pub.client:ftp service and all the services in pub.client.ftp
interface on the service blacklist, specify the following: 
watt.server.service.blacklist=pub.client.ftp,pub.client:ftp

Note: Specifying a folder (interface) puts only the services in that folder on
the service blacklist. Services that reside within a subfolder of the folder are
not placed on the blacklist. For example, specifying
watt.server.service.blacklist =pub.client places only the services in
pub.client, such as pub.client:ftp, pub.client:http, pub.client:smtp,
pub.client:soapClient, and pub.client:websocket on the blacklist; it does not
place services in pub.client.ftp, pub.client.ldap, pub.client:oauth, or
pub.client.sftp on the service blacklist. 

Integration Server does not support the use of wildcards with this parameter. 

There is no default value for this server configuration parameter. 

You must restart Integration Server for changes to this parameter to take
effect. 

When processing the service blacklist, Integration Server does not validate
whether or not a service or interface actually exists on Integration Server.
However, Integration Server does ensure that service name does not contain
illegal characters. If the service or interface name contains illegal
characters, Integration Server logs the error [ISS.0007.0010W] ACLManager:
ignored blacklist entry <entryName> as it is not a valid service or interface
name. 

Wildcards cannot be used in the values for watt.server.service.blacklist or in
the file that contains the service blacklist. 

To use a file as the service blacklist, create a file that specifies each
service or interface for the blacklist on a different line. Then, specify either
the relative path to the file or the absolute path to the file as the value of
watt.server.service.blacklist where 

- A relative path has the format:  file:{relativePath} 
For a relative path, Integration Server expects the file to be in the home
directory of Integration Server which is defined in the watt.server.homeDir
parameter. If the watt.sever.homeDir parameter is not set, Integration Server
expects to find the file in the current working directory, that is the value of
the Java "user.dir" system property. 

- An absolute path has the format: file:/<directoryName>/<filename>

If the referenced file does not exist or cannot be read when Integration Server
starts, Integration Server does not blacklist any services and continues
starting up. Integration Server logs a warning message about the referenced
file, specifically: 
[ISS.0007.0009W]   "ACLManager: error processing
"watt.server.service.blacklist" property file. Stack trace: <stackTrace> 

If one of the entries in the list is a syntactically invalid name of a service
or an interface, Integration Server ignores the entry. 

Note: If you update the contents of the blacklisted service file, you must
restart Integration Server for changes to take effect. 

You can set the server configuration parameter to a comma-separated list,
relative path to a file, or the absolute path to a file. You cannot specify a
combination of these. 

Examples:
watt.server.service.blacklist=pub.client.ftp,pub.client:ftp
watt.server.service.blacklist=file:blacklist.txt
watt.server.service.blacklist=file:custom/blacklist.txt
watt.server.service.blacklist=file:/opt/blacklist.cnf 

Integration Server introduces the following messages for the service blacklist
feature: 

[ISS.0007.0007D] ACLManager: service execution blocked; <serviceName> has been
blacklisted via "watt.server.service.blacklist property" 
Cause: Integration Server blocks execution of the specified service because it
is on the service blacklist. 
Action: If you need to execute the specified service, contact your administrator
about removing the service from the blacklist. 

[ISS.0007.0008I] ACLManager: loaded <number>  blacklist entries from
<fileLocation> 
Cause: Integration Server successfully loaded the service blacklist from the
specified file. 
Action: None. 

[ISS.0007.0009W]   "ACLManager: error processing
"watt.server.service.blacklist" property file. Stack trace: <stackTrace> 
Cause: Integration Server encountered an exception when processing the contents
of the blacklist file specified for the watt.server.service.blacklist parameter.
Integration Server will not employ a service blacklist for this session. 
Action: Verify that the file specified as the service blacklist for
watt.server.service.blacklist exists and that the operating system user used to
run Integration Server has been granted the necessary permissions to read the
file contents. 

[ISS.0007.0010W] ACLManager: ignored blacklist entry <entryText> as it is not a
valid service or interface name. 
Cause: The specified entry contains illegal characters or is not syntactically
correct. Integration Server will not use the entry as part of the service
blacklist. 
Action: Verify that entry is correct and does not contain any illegal
characters. If using an external file for the service blacklist, makes sure that
each entry is on separate line in the file. If specifying the blacklist services
as the value of watt.server.service.blacklist, make sure that each entry is
separated by a comma. 

PIE-57178 (IS_10.3_Core_Fix7)
XML namespace decoding for "ArrayOf<elementName>Item" elements in SOAP
messages does not work correctly. 

An earlier Integration Server change introduced in PIE-36534 restored decoding
behavior for elements named "ArrayOf<elementName>Item" or "ArrayOfstring" in
web service descriptors built in versions of Integration Server prior to 8.2.
The PIE-36534 behavior instructs Integration Server to ignore the specified XML
namespace for "ArrayOf<elementName>Item" or "ArrayOfstring" elements when
decoding SOAP messages. Integration Server decodes these elements as if they had
no namespace. However, the PIE-36534 behavior causes incorrect decoding of SOAP
messages that contain XML elements with the same naming conventions where the
XML namespace needs to be retained. 

To resolve this issue such that both decoding needs will be addressed,
Integration Server now uses document type-directed decoding in which the
document type associated with the element determines the decoding. If the
"ArrayOf<elementName>Item" or "ArrayOfstring" element corresponds to a document
type field that contains a namespace, then Integration Server decodes the XML
element with the XML namespace. If the "ArrayOf<elementName>Item" or
"ArrayOfstring" element corresponds to a document type field that does not
contain a namespace, then Integration Server ignores the namespace provided for
the element in the SOAP message. 

Note: If there is not a document type for the element then Integration Server
ignores the namespace provided for the element in the SOAP message. 

PIE-57193 (IS_10.3_Core_Fix7)
Change to pub.xml:xmlStringToXMLNode service to ensure that the provided XML
document is well-formed XML. 

The pub.xml:xmlStringToXMLNode service now includes the input parameter
validateXML to ensure that the provided XML document is well-formed. Integration
Server validates the XML after converting the XML document to an XML node. If
the XML is not well-formed, the service ends with a ServiceException. A full
description of the parameter follows. 

validateXML - String. Optional. Flag indicating whether to validate the incoming
XML document to determine whether it is well-formed XML. Set to true to validate
the incoming XML. If validation fails, the service end with a ServiceException.
Set to false to skip validation. The default is false. 

PIE-57203 (IS_10.3_Core_Fix7)
After applying a fix that contains PIE-53676, Integration Server enforces access
restriction on all Axis2-based web services at the port level. 

PIE-53676 made it possible to configure ports to allow or deny access to
specific service URIs that are not part of the Integration Server namespace.
This change resulted in an access check on all web services that were deployed
directly into Axis2. 

To disable the access check on Axis2-based web services, add the following
server configuration parameter to extended settings: 

watt.server.portAccess.axis2=false

watt.server.portAccess.axis2
Specifies whether Integration Server verifies that an Axis2-based web services
can be accessed through a port. Set the parameter to true if you want
Integration Server to perform the access check on Axis2-based web services. Set
this parameter to false to disable the access check for Axis2-based web
services. The default is true. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-57207 (IS_10.3_Core_Fix7)
Integration Server does not close the non-transacted JMS session after 
completing the JMS send operation.

While sending the JMS messages with non-transacted JMS connection alias, 
Integration Server does not close the JMS sessions after completing the JMS send 
operation.
 
This issue is now resolved.

PIE-57211 (IS_10.3_Core_Fix7)
Integration Server incorrectly schedules multiple tasks for the resource 
monitoring service.

If user configures a webMethods messaging trigger to use a resource monitoring
service, Integration Server incorrectly schedules the resource monitoring 
service more than once.

This issue is now resolved.

PIE-57274 (IS_10.3_Core_Fix7)
Integration Server login fails with "No LoginModules configured for
IS_Transport". 

Occasionally, after Integration Server starts, it is not possible to log into
Integration Server. Each login attempt fails with the error "No LoginModules
configured for IS_Transport". This happens after some component alters the login
configuration used by Integration Server. 

Previously, this issue could be worked around by recreating the Integration
Server instance or by temporarily disabling the platform jaas. The latter can be
accomplished by setting com.softwareag.platform.jaas.enabled=false in the
<SoftwareAG_directory>/profiles/<profile_name>/configuration/config.ini file. 

The issue is now resolved and the workarounds are no longer needed.

Note: If you disabled the platform jaas, re-enable it by setting
com.softwareag.platform.jaas.enabled=true in the
<SoftwareAG_directory>/profiles/<profile_name>/configuration/config.ini file. 

PIE-57355 (IS_10.3_Core_Fix7)
Integration Server throws a StackOverflowError and logs the message "Unhandled
event loop exception" when creating an IS document type from an XML schema
definition with an anonymous complex type that references its own parent complex
type extension. 

When creating an IS document type from an XML Schema definition, the schema
compiler expands complex type extensions inline. If an anonymous complex type
definition references its own parent complex type extension, the schema compiler
loops indefinitely as it expands these types. This results in a
StackOverflowError and the log message "Unhandled event loop exception". 

To resolve this issue, Integration Server now includes the server configuration
parameter watt.core.schema.anonymousCyclicExtensionDepth to control the nesting
level of the expansion. The default value is 3, which stops the expansion at the
third nesting level. This may be adequate when needing to address the previous,
current, or next reference in the hierarchy of an expansion. 

Integration Server restart is not required for changes to the
watt.core.schema.anonymousCyclicExtensionDepth parameter to take effect. 

PIE-57379 (IS_10.3_Core_Fix7)
After applying a fix that includes PIE-54423, when decoding a SOAP request or
response, the presence of an xmlns attribute in an element causes Integration
Server to decode simple types as complex content. 

When decoding a SOAP request or a SOAP response, Integration Server incorrectly
decodes an element of simple type string if the element contains an xmlns
attribute declaration and the element corresponds to an open IS document type.
Integration Server decodes the element as a simple type with complex content. A
simple type with complex content is represented as a document with the same name
as the element and the document contains a *body field to hold the string
content and an @xmlns attribute to hold the namespace declaration. The document
will also contain additional fields for any other attribute values. It is
incorrect behavior for Integration Server to decode a string simple type with an
xmlns declaration in this way. 

Note: An open IS document type is one that allows unspecified fields during
validation. For example, an IS document type that contains a field of type
Object named *any, which corresponds to an xsd:any element, is considered to be
open. Additionally, Integration Server considers the top-level signature of the
IS service that corresponds to the web service to be open and allow unspecified
fields.) 

With this fix, Integration Server decodes simple type elements with string
content as a field of type String regardless of whether the element in the SOAP
request contains an xmlns declaration. 

PIE-57414 (IS_10.3_Core_Fix7)
Microservices Runtime now includes a health gauge for Adapters. 

Mirocoservices Runtime or an Integration Server with a Microservices license now
includes a health gauge for Adapters. 

PIE-57545 (IS_10.3_Core_Fix7)
On the Server > Service Usage page in Integration Server Administrator, the Show
running services on top check box resets to a cleared state after the page is
automatically refreshed. 

This issue is fixed. 

PIE-57652 (IS_10.3_Core_Fix7)
Microservices Runtime throws a FileNotFoundException when a configuration 
variables template modifies settings for the default keystore or truststore.

When a supplied configuration variables template modifies the settings for 
the default keystore or truststore, Microservices Runtime writes an error 
message similar to the following to the configurationvariables.log.

[ISS.0028.9999E] java.io.FileNotFoundException: /opt/softwareag/IntegrationServer/
instances/default/config/security/keystore/default_is_keystore_ks_config.xml
com.softwareag.is.dynamicvariables.DynamicVariablesException: 
java.io.FileNotFoundException: /opt/softwareag/IntegrationServer/
instances/default/config/security/keystore/default_is_keystore_ks_config.xml
at com.softwareag.is.dynamicvariables.processors.KeystoreAliasBaseProcessor.
parseKeystoreConfig(KeystoreAliasBaseProcessor.java:78)
at com.softwareag.is.dynamicvariables.processors.KeystoreAliasBaseProcessor.
getKeystoreConfiguration(KeystoreAliasBaseProcessor.java:58)
at com.softwareag.is.dynamicvariables.processors.KeystoreAliasBaseProcessor.
process(KeystoreAliasBaseProcessor.java:42)
at com.softwareag.is.dynamicvariables.DynamicVariablesManager.process
(DynamicVariablesManager.java:201)
at com.softwareag.is.dynamicvariables.DynamicVariablesManager.
processDynamicVariables(DynamicVariablesManager.java:321)
at com.wm.app.b2b.server.Server.run(Server.java:392)

Microservices Runtime no longer throws a FileNotFoundException when a 
configuration variables template changes the settings for the default 
keystore and truststore.

PIE-57718 (IS_10.3_Core_Fix7)
webMethods Integration Cloud shows duplicate types generated for an on-premises
service. 

The application service filter that prevents services that are not compatible
with Integration Cloud from being displayed contained a defect that allowed
incompatible services to be displayed and selected for use. This resulted in
errors such as the generation of duplicate or redundant types. 

The application service filter has been fixed to prevent the display of
incompatible services. 

PIE-57823 (IS_10.3_Core_Fix7)
The <EMPTY> URL alias becomes unregistered. 

The <EMPTY> URL alias, which corresponds to the empty path, becomes unregistered
at seemingly random times. This issue is caused by moving or renaming services
on Integration Server, which are typically design-time changes. However the
issue occurs sporadically and not every time services are moved or renamed. The
issue is unlikely to appear in a production environment where service names are
stable. 

With this fix, the <EMPTY> URL alias will not be unregistered by renaming and
moving of services. 

PIE-57843 (IS_10.3_Core_Fix7)
A dynamic server page (DSP) that is part of a custom package prompts for 
username and password when accessed, even though the 
DSP is configured for anonymous access.

This issue is resolved now.

PIE-57885 (IS_10.3_Core_Fix7)
webMethods messaging trigger that receives messages from Universal Messaging may
cause a slow memory leak on Universal Messaging if Integration Server retries
the trigger repeatedly. 

When Integration Server repeatedly retries a webMethods messaging trigger that
receives messages from Universal Messaging, the nSession on Universal Messaging
is not correctly closed by the Integration Server client when the nSession
initialization step fails. This may result in a slow memory leak on Universal
Messaging. 

Now, Integration Server closes the nSession on Universal Messaging when the
nSession initialization step fails. 

PIE-57957 (IS_10.3_Core_Fix7)
Emails are not deleted from the mailbox after the Integration Server 
email listener processes them.

If the "Log out after each mail check" property is set to yes, the Integration 
Server email listener sometimes fails to delete emails from the mailbox after processing, 
even though it is configured to delete mails (by setting either or both the 
"Delete valid messages (IMAP only)" or the "Delete invalid messages (IMAP only)" properties to Yes). 
The following message is logged in the server log : [ISP.0068.0021W] Could not 
process message with uid <uid>: This operation is not allowed on a closed folder.

This issue is resolved now.

PIE-57967 (IS_10.3_Core_Fix7)
When a client invokes a web service that has attachments and MTOM streaming is 
enabled on the Integration Server hosting the provider web service descriptor, 
Integration Server sends the incorrect HTTP response code if the client does not 
set the Authorization request header.

If a client does not provide credentials in the Authorization request header when
invoking an operation in a provider web service descriptor where the web service
has attachments and MTOM streaming is enabled on the host Integration Server
(watt.server.SOAP.MTOMStreaming.enable=true), the Integration Server hosting 
the provider web service descriptor responds with an 400 HTTP response code.
However, the server should respond with a 401 HTTP response code.

This issue is fixed.

PIE-57997 (IS_10.3_Core_Fix7)
Outbound HTTP request is incorrectly sent to the target server twice when
request includes a Cookie header. 

When an outbound HTTP request includes a Cookie header and the Integration
Server receives a response with 401, Integration Server resends the request but
should not. 

This issue is now fixed.

PIE-58001 (IS_10.3_Core_Fix7)
Outbound interceptor results in Null Pointer Exception when Special character is
encountered in URL 

When we have sample URL such as 
http://localhost:5555/invoke/RestResponseCode:httpresponse$%$$
then executing pub.client:http with Outbound interceptor results in NPE.

This issue is resolved.

PIE-58073 (IS_10.3_Core_Fix7)
API Gateway sends invalid responses while operating under a heavy load.

When operating under a heavy load, API Gateway mixes up certain responses for
requests that are forwarded to an internal server. 

This issue is now resolved.

PIE-58075 (IS_10.3_Core_Fix7)
While processing REST requests, when Integration Server validates the service 
input signature against the specifications, the validation fails.

While processing REST requests, Integration Server adds an extra variable, 
'$httpMethod' to the input pipeline. So, when user chooses to validate the input 
signature of the service against the specifications, the validation fails 
because of the extra input variable present in the input pipeline. 

This issue is now resolved.

PIE-58308 (IS_10.3_Core_Fix7)
SAP Adapter services for handling IDocs fail. 

Services related to IDoc handling fail with the following message in the error
logs. 

com.wm.data.BasicIDataCodable cannot be cast to
com.sap.conn.idoc.IDocDocumentList 

This issue is now resolved.

PIE-58323 (IS_10.3_Core_Fix7)
Enhancement to Microservices Runtime to provide a cluster health indicator. 

Microservices Runtime now includes a Cluster health indicator that Checks for
the number of available servers in a Microservices Runtime cluster. Returns a
status of UP if the number of available servers is greater than or equal to the
minimum defined by the Number of cluster hosts property for the Cluster health
indicator. Otherwise, returns a status of DOWN. This health indicator is
returned only for a Microservices Runtime that is a member of a configured
cluster. That is the Microservices Runtime must be a member of a stateful
cluster. 

PIE-58368
Integration Server cannot publish documents to Broker when
watt.server.checkWhitelist parameter is set to true. 

When the watt.server.checkWhitelist parameter is set to true, publishing a
document to Broker under certain cirucmstances fails with the following error
message: 

[BAT.0002.0000] Wrapped Exception: com.wm.io.codec.CodecException:
[BAC.0002.0000] Wrapped Exception: java.lang.ClassNotFoundException:
Class:com.wm.app.b2b.server.dispatcher.PublishOnSuccessDispatcherMessage, not in
White List 

This issue is now resolved.

PIE-58456 (IS_10.3_Core_Fix7)
Warning message transposes content lengths of the original request and the retry
request. 

When Enterprise Gateway Server retries sending a client request to the Internal
Server and the request's current content length does not match the content
length the request had with the previous attempt, the Integration Server acting
as the Enterprise Gateway Server should write the following message to the
server.log: 

[ISS.0053.0011W] Enterprise Gateway Server is stopping attempts to retry the
request because the content length "<retryRequestContentLength>" of the retry
request does not match the content length "<originalRequestContentLength>" of
the original request. The retry count is 1. 

However, the message transposed the content length values for the retry request
and the original request. 

This issue is now fixed.

PIE-58470 (IS_10.3_Core_Fix7)
Slow connection to ports.

The following sequence of actions results in Integration Server performing a 
reverse DNS lookup for all incoming connections:
- Create a port with the default IP Access mode.
- Modify the Allow/Deny List table.
- Revert the changes to empty the Allow/Deny List table.  
This results in slow connection even though the Allow/Deny List table is empty.

This issue is now resolved.

PIE-58504 (IS_10.3_Core_Fix7)
Process Engine cannot be started in a Docker container because two jar files
needed for starting Process Engine were included in the dockerignore file. 

This issue is now resolved. Process Engine successfully starts in a Docker
container. 

PIE-58605 (IS_10.3_Core_Fix7)
A system task, such as Server Shut Down task, (which shuts down an 
Integration Server instance), runs immediately, even if it is scheduled
to run later.

This issue is now resolved.

PIE-58635 (IS_10.3_Core_Fix7)
Integration Server fails SOAP API requests while executing custom filter service 
in Enterprise Gateway.

While receiving a SOAP API request, the custom filer service in Enterprise 
Gateway incorrectly processes the request details and hence Integration Server 
fails the SOAP API request.

This issue is now resolved.

PIE-58645 (IS_10.3_Core_Fix7)
The Server > Scheduler page is not displayed in Integration Server
Administrator. 

This issue has been resolved.

PIE-58733 (IS_10.3_Core_Fix7)
Java service running on Integration Server cannot load the JCE keystore
correctly. 

An alteration to the JVM changed the class loader that was available for
keystore deserialization logic. This JVM change prevents Integration Server from
loading the JCE keystore. 

To resolve this issue, this fix extends the capabilities of the server class
loader on Integration Server so that it provides the same classes previously
returned by the class loader in the JVM. 

PIE-58827 (IS_10.3_Core_Fix7)
Integration Server now allows you to log the SSL Session information. 
SSL session log contains SSL session information in JSON format for inbound 
connections. It contains information on the cipher suite used, selected protocol 
version, and client details along with server and session creation 
details. Using this information, you can analyze the details of a successful 
SSL handshake. 

For more information on SSL Session logging, see Integration Server 
Administrator's guide.

PIE-58867 (IS_10.3_Core_Fix7)
JMS connection alias in Integration Server throws JMSSecurityException while 
reconnecting to the WebLogic JMS provider.

While trying to reestablish connection, the JMS connection alias in Integration 
Server throws JMSSecurityException when Integration Server uses WebLogic as the 
JMS provider with secured destinations (queues and topics).

This issue is now resolved.

PIE-58995 (IS_10.3_Core_Fix7)
A Dockerfile cannot be created for an Integration Server that runs on Windows.

Previously, when creating a Dockerfile for an Integration Server that runs on
Windows, the -Dimage.name parameter did not need to be specified because the
is_container scripts referenced the base image tagged "latest" for Windows
server containers. However, Microsoft now provides Windows image tags per OS
version instead of a "latest" base image. This change prevents a Dockerfile
from being created for an Integration Server running on Windows when the
-Dimage.name parameter was not specified. 

Now, when the is_container.bat script is being used to create a Dockerfile for
an Integration Server that runs on Windows, the script logs an error message
when the createDockerfile command does not specify the -Dimage.name parameter. 

For an Integration Server running on Windows, the -Dimage.name parameter should
be set as follows: 
-Dimage.name=mcr.microsoft.com/windows/servercore:YourOsImageTag
Where YourOsImageTag is the tag for the Windows image created for the OS version
on which Integration Server runs. 

PIE-59662 (IS_10.3_Core_Fix7)
The fix for PIE-57977 cause NTLM and Digest authorization to fail when Integration Server 
acts as a client.

This issue is now resolved.

PIE-51979 (IS_10.3_Core_Fix6)
Integration Server ports that are created or updated after installing an
Integration Server core fix are removed when the corresponding fix is
uninstalled. 

Any change to the Integration Server port configuration after installing an
Integration Server core fix is reverted when you uninstall the fix. This issue
impacts ports that belong to the Integration server core packages: WmRoot,
WmPublic, and WmXSLT. 

This issue is fixed. To resolve this issue, you must also update the Update
Manager to the latest build (4838 or newer). Any fix that you install after
applying this fix and using the latest Update Manager can be uninstalled without
reverting your updates to the port configuration. 

PIE-52377 (IS_10.3_Core_Fix6)
Integration Server incorrectly opens two tabs in Firefox browser while clicking
any item under the Solutions and Adapters menus. 

While using Firefox and clicking any items under the "Solutions" and "Adapters"
menus in Integration Server administrator UI, Integration Server incorrectly
opens two tabs. This issue occurs because the "onclick" event is fired twice for
a single click. 

This issue is now resolved. 

PIE-53874 (IS_10.3_Core_Fix6)
In Integration Server Administrator, users can only click on the text area on 
the menu items to access the page. These changes are introduced as pat of WCAG 
508 compliance.

There is no workaround for this issue.

PIE-53914 (IS_10.3_Core_Fix6)
Integration Server throws high number of service errors.

In Integration Server Administrator, the service errors listed under the 
"Statistics" page does not correspond to the actual number of errors logged in 
WMERROR table or file. The service errors are high compared to the actual number
 of logged errors.

To resolve this, a new server configuration parameter 
"watt.server.serviceErrorsAsLogged" is added. If the value is set to 'true', 
then the number of service errors from the time the server is running, must be 
same with the number of logged error entries for that time. If the value is set 
to 'false' then the service errors may not be same with the actual number of 
errors. The default value is 'false'. You must restart the Integration
 Server for the changes to take effect.
The extra "Service Error" values appear because in case of nested services the 
error count is incremented for each inner services but is logged only for top 
level services.

PIE-54871 (IS_10.3_Core_Fix6)
When creating an IS schema from an XML Schema definition (XSD), Integration
server handles simple types with lists unions and enumerations incorrectly. 

When creating an IS schema from an XSD that included simple types with lists
unions and enumerations, Integration Server unpredictably reported good schemas
as bad and bad schemas as good. 

This issue is now resolved. 

PIE-54916 (IS_10.3_Core_Fix6)
Invoking pub.security.keystore:setKeyAndChain service fails to associate the key
and certificate chain. 

In Integration Server the pub.security.keystore:setKeyAndChain service fails to
associate the key and certificate chain with the subsequent set of invoked
services if "useJSSE" is set to false and "trustStore" is configured in
pub.client:http service. 
  
This issue is now resolved. 

PIE-55106 (IS_10.3_Core_Fix6)
The pub.report.runTemplate and pub.report:runTemplateOnPipe services are 
restricted to use templates from the 'templates' folder of a package. 

After installing a fix that contains PIE-46990, pub.report.runTemplate and 
pub.report:runTemplateOnPipe services are restricted to use the template files 
located only in the 'templates' folder of the package. 

This issue is now resolved. Now, pub.report.runTemplate and 
pub.report:runTemplateOnPipe services use the template files located in the 
'template' and 'pub' folders of the package.

PIE-55312 (IS_10.3_Core_Fix6)
When installing Integration Server using a composite template, creation of an
instance is skipped if an empty directory exists under the instance name
directory. 

This issue is now fixed. 

PIE-55395 (IS_10.3_Core_Fix6)
HTTP request using NTLM authentication fails intermittently in load balanced 
Microsoft IIS servers. 

Handshake using NTLM authentication fails in a load balanced Microsoft IIS 
server. During an NTLM handshake, Integration Server does not send back the 
cookie sent by the load balancer. Due to this, NTLM Type 1 and Type 3 requests
reach different Microsoft IIS servers resulting in unsuccessful handshake. 

This issue is now resolved.

PIE-55654 (IS_10.3_Core_Fix6)
Support for additional security headers. 

In addition to the Strict-Transport-Security, X-Content-Type-Options, and 
X-XSS-Protection security headers in the response headers, Integration server 
now supports the following new security headers in response headers: 

- Content-Security-Policy 
- X-Permitted-Cross-Domain-Policies 

Following server configuration parameters are introduced: 

watt.server.http.Content-Security-Policy 
Specifies whether Integration Server includes the Content-Security-Policy header 
in response headers. Value for this parameter is set in the response 
headers of web requests to access the Integration Server Administrator. 
Integration Server supports only the following fixed input value for 
this server configuration parameter: script-src 'self' 'unsafe-inline. Default 
is None. 
Example: 
watt.server.http.Content-Security-Policy=script-src 'self' 'unsafe-inline' 
If the value is set to None or left blank, then Integration Server does not 
include the Content-Security-Policy header in the response headers. 


watt.server.http.X-Permitted-Cross-Domain-Policies 
Specifies whether Integration Server includes the 
X-Permitted-Cross-Domain-Policies header in response headers. Value for this 
parameter is set in the response headers of web requests to access the 
Integration Server Administrator. Integration Server supports only None as the 
input value for this server configuration parameter. 
If the value is left blank (default), then Integration Server does not include
the 
X-Permitted-Cross-Domain-Policies header in the response headers. 
Example: watt.server.http.X-Permitted-Cross-Domain-Policies=none 


Note: Server restart is not required for changes to these parameters to take 
effect.

PIE-55775 (IS_10.3_Core_Fix6)
Integration Server throws NullPointerException when an asset referenced in REST 
API descriptor (RAD) is modified and saved.

When you create a RAD using a Swagger document and modify the references of the 
mapped service in the RAD and save it, Integration Server throws 
NullPointerException.

This issue is now resolved.

PIE-56449 (IS_10.3_Core_Fix6)
Duplicate port aliases were not checked while adding additional registration
ports. 

For API Gateway, it is possible to map multiple registration ports to one
external port. The port aliases of the registration ports were not checked for
uniqueness before allowing creation of such ports. 

The issue is now resolved. If a duplicate port alias is detected when adding a
registration port, an error message - "Port alias <port alias name> must be
unique" is returned and the registration port is not added. 

PIE-56457 (IS_10.3_Core_Fix6)
The server configuration property watt.server.publish.maxCSQRedeliveryCount does
not appear on the Extended Settings page in Integration Server Administrator. 

This is now fixed.

PIE-56549 (IS_10.3_Core_Fix6)
Integration Server does not connect with OData .NET clients if the OData 
namespace property contains colon (:).

While setting the OData namespace property to the Integration Server OData 
service namespace, if the property contains a colon (:), Integration Server 
fails to connect with OData .NET clients.

This issue is now resolved. Now Integration Server does not support containing a
 colon in OData namespace property and hence can connect with OData .NET 
 clients.

PIE-56605 (IS_10.3_Core_Fix6)
Integration Server exhibits differences in REST features acrosss different 
versions.

Integration Server shows differences in REST features between 10.3 and 10.5 
versions.

This issue is now resolved. Now REST features are in sync acrosss both the 
versions.

PIE-56620 (IS_10.3_Core_Fix6)
When the webservice consumer expects an IS document in the SOAP response header,
but the SOAP response does not contain a header, a null pointer exception is
thrown. 

The issue is now resolved. The expected error message is now thrown as part of
service execution. 

PIE-56717 (IS_10.3_Core_Fix6)
Internet Explorer does not prompt users to enter the credentials to 
login to Integration Server Administrator after logging off. 

In Internet Explorer, after logging off from Integration Server Administrator, 
users can login again using the link to resume the session without being 
prompted to enter the credentials. 

This issue is now resolved.

PIE-56721 (IS_10.3_Core_Fix6)
The pub.document:searchDocuments service functions differently from the expected
behavior when dealing with null values. 

This issue is now resolved. 

PIE-56725 (IS_10.3_Core_Fix6)
Integration Server does not return the supported methods for a REST/RESTV2 
resource.

While making an OPTIONS request to a REST/RESTV2 resource, Integration Server 
does not return the supported methods for the REST/RESTV2 resource.

This issue is now resolved. Now Integration Server returns the list of supported
 methods defined for an operation for a REST/RESTV2 resource.

PIE-56740 (IS_10.3_Core_Fix6)
The pub.client:http service receives a 403 response from the Terracotta
Management Console but should not. 

When pub.client:http receives multiple cookies from a server and one of the
cookies has an Expires parameter in the past, all cookies from the server are
discarded. If pub.client:http connects to a Terracotta Management Console and
one of the cookies returned to pub.client:http is expired, the pub.client:http
service incorrectly discards both cookies returned by the Terracotta Management
Console and the login attempt fails. 

This has been fixed. The cookie matching logic in pub.client:http now includes
the cookie name, in addition to the host, port and path. 

PIE-56748 (IS_10.3_Core_Fix6)
Integration Server does not honor the server configuration parameter
"watt.server.rest.removeInputVariablesFromResponse" for REST APIs imported from
a Swagger document.

When a REST API is imported using a Swagger document and the server 
configuration parameter "watt.server.rest.removeInputVariablesFromResponse" is
set as 'true', Integration Server does not remove the undefined extra variables
from the response. 

The issue is now resolved.

PIE-56757 (IS_10.3_Core_Fix6)
Integration Server fails to save the updates made to Keystore Alias and 
Truststore Alias fields on the Edit HTTPS Port Configuration screen. 

If the watt.security.ssl.resumeClientSessions server configuration property is 
set to true, Integration Server fails to save the updates made to the Keystore 
Alias and Truststore Alias fields in the Security Configuration section of 
Edit HTTPS Port Configuration screen. 

This issue is now resolved.

PIE-56768 (IS_10.3_Core_Fix6)
Integration Server becomes unresponsive. 

A call from the DataDirect JDBC Driver for Oracle to the propertyNames() method
was not overridden to use the new ServerProperties behavior. This result in a
deadlock condition. 

This issue is now resolved. 

PIE-56779 (IS_10.3_Core_Fix6)
There is no mechanism to configure the Time To Live (TTL) settings for the
UsernameToken that is used in the UsernameToken security policy. 

This issue has been resolved by introducing the following configuration settings
in the WS Security Properties section of the Settings > Web Services pages for
creating or editing a web services endpoint alias: 
- Username Token TTL: This is the permitted time difference, in seconds,
between the time when the UsernameToken was created (as provided in the
wsu:Created element) and the time when it reaches the server. Requests that
exceed this limit are rejected by the server. The default value is 300. 
- Username Token Future TTL: It is possible that the wsu:Created element has a
timestamp that is in the future. The server considers such requests as valid If
the time at which the request was created does not exceed the time at which it
reaches the server by the value (in seconds) given in this setting. The default
value is 60. 

The above configurations can also be set at the global level using the following
server configuration properties: 
- watt.server.ws.security.usernameTokenTTL: This corresponds to the Username
Token TTL configuration setting described above. The default value is 300. 
- watt.server.ws.security.usernameTokenFutureTTL: This corresponds to the
Username Token Future TTL configuration setting described above. The default
value is 60. 
Note: If there is a configuration setting at the web services endpoint level,
the server will ignore the server configuration (global) property. 

PIE-56807 (IS_10.3_Core_Fix6)
Integration Server incorrectly handles the date formats in REST requests.

Integration Server services that exposed REST APIs treated dates sent as a 
parameter in the requests as strings instead of date objects.
Further, date values in the response used an invalid date format.

These issues are now resolved. Integration Server handles the date formats 
correctly according to the Swagger specification.

PIE-56824 (IS_10.3_Core_Fix6)
Service monitoring test case failure.

Service monitoring test cases regarding barGraph fail on a virtual server due to
time zone issue.

This issue is now resolved. 

PIE-56950 (IS_10.3_Core_Fix6)
Integration Server trigger adds more threads than the maximum execution threads 
possible and throws NullPointerException during audit logging when the 
Integration Server is shutting down.

When Integration Server trigger is in retry phase and the package containing the 
trigger reloads, Integration Server continues to invoke the service adding 
multiple threads concurrently. 

When Integration Server is shutting down, the audit logging subsystem is 
unavailable and hence Integration Server throws NullPointerException during 
audit logging.

These issues are now resolved.

PIE-56984 (IS_10.3_Core_Fix6)
Prometheus cannot parse data received from Microservices Runtime. 

The metrics endpoint for Microservices Runtime (or an Integration Server with a
Microservices Runtime license) returns non-numeric data for some metrics which
results in Prometheus parsing errors. 

Now, non-numeric data is replaced with a 0 (zero). 

PIE-56985 (IS_10.3_Core_Fix6)
Integration Server does not correctly import a Swagger file in which the base
path contains an Integration Server directive. 

While importing a Swagger file, Integration Server creates a URL alias from the
base path and maps it to the generated REST API descriptor. If the base path in
the Swagger file includes an Integration Server directive (such as invoke, rest,
or restv2) and you try to invoke the generated service using the URL alias, the
invocation fails because Integration Server directives are reserved words. 

The issue is now resolved. Integration Server now validates the base path in the
Swagger file and does not import the file if the base path includes an
Integration Server directive. 

PIE-56997 (IS_10.3_Core_Fix6)
File access control settings did not have adequate checks for invalid UNC paths
(UNC paths without a share name were allowed) in some 9.x releases. This allowed
a few customers to continue using incorrect UNC paths within 9.x release
deployments. 

Later, when the required checks were added, they were not adequately documented. 

This issue has been resolved now by providing a feasible migration path to such
customers. Post 10.5 invalid UNC paths (without a sharename) are no longer
supported. 

PIE-57009 (IS_10.3_Core_Fix6)
When creating an IS document type from an XML Schema definition, Integration
Server does not correctly compile the list of unions which results in
unpredictable outcomes during validation. 

With this fix, Integration Server correctly compiles XML schema definitions that
use list of unions. 

PIE-57010 (IS_10.3_Core_Fix6)
To enhance the WebSocket functionalities, Integration Server 10.3 supports the 
following new public built-in services: 
- pub.websocket:getCookies - Retrieves the cookies that are part of the HTTP 
  request to establish a WebSocket connection. 
- pub.websocket:getExtensions - Retrieves the extensions used in the request 
  URL to establish a WebSocket connection. 
- pub.websocket:getHeaders - Retrieves the headers used in the request URL to 
  establish a WebSocket connection. 
- pub.websocket:getPathParameters - Retrieves the path parameters used in the 
  request URL to establish a WebSocket connection. 
- pub.websocket:getPathParameter - Retrieves the path parameter used in the 
  request URL to establish a WebSocket connection. 
- pub.websocket:getRequest - Retrieves the HTTP request information used to 
  establish the WebSocket connection. 
- pub.websocket:getQueryParameters - Retrieves the query parameters used in the 
  request URL to establish a WebSocket connection. 
- pub.websocket:getQueryParameter - Retrieves the value of a specific query 
  parameter used in the request URL to establish the WebSocket connection. 
- pub.websocket:getSubProtocols - Retrieves the query parameters used in the 
  request URL to establish a WebSocket connection. 
- pub.websocket:ping - Sends a ping message containing the given application 
  data to the remote endpoint after establishing the connection. 
- pub.websocket:pong - Sends back an unsolicited pong message with the exact 
  application data as the ping for the WebSocket session. 
   
For more information on these services, see the webMethods Integration Server 
Built-In Services Reference 10.3 guide on Empower.

PIE-57051 (IS_10.3_Core_Fix6)
webMethods messaging trigger may log inaccurate information. 

webMethods messaging triggers can receive asynchronous error notifications from
Universal Messaging. Based on the type of exception included in the asynchronous
notification, Integration Server might restart the trigger. Currently,
Integration Server always writes a log entry stating that the trigger has been
restarted. However, some errors do not cause a trigger to be restarted. Instead,
the errors are simply written to the server log. Even when a trigger restart
does not occur, the log message written by Integration Server states that the
trigger's listener will be restarted. 

Now, the log entries for asynchronous listener notification include information
about a trigger restart only when the restart occurs. 

PIE-57088 (IS_10.3_Core_Fix6)
Adoption of updated security modules provided by WS-Stack. 

This fix uses updated versions of wss4j.jar, xmlsec.jar, sandesha2.mar, and
rampart.mar files to improve security for Integration Server web services. 

Important! After installing a fix that includes this PIE-57088, you must take
some manual steps to complete the change for PIE-57088 and to ensure correct
execution of web services. For more information see the Installation section of
this readme. 

PIE-57216 (IS_10.3_Core_Fix6)
Change in how Integration Server handles activation of packages that require a
JVM version that is higher than the version of the JVM on the installing
Integration Server. 

Previously, Integration Server installed but did not activate a package when the
version of the JVM used by Integration Server was less than the minimum JVM
version required for the package. This included cases where the JVM used by
Integration Server and the JVM version required by the package were the same
major version. For example, if the minimum JVM version required for a package is
1.8.0_23 and the Integration Server JVM version is 1.8.0_12, Integration Server
installed the package but did not activate it. 

Now, when the major versions of the JVM used by the Integration Server and
required by the package are the same, Integration Server installs and activates
the package. 

PIE-57242 (IS_10.3_Core_Fix6)
Integration Server displays incorrect triggertype in the error message.

Integration Server lists webMethods Messaging triggers as JMS triggers 
incorrectly for some of the log messages.

The issue is now resolved.

PIE-57473 (IS_10.3_Core_Fix6)
Integration Server executes incorrect service while invoking a REST API.

When there are two URL templates associated with a RESTV2 resource, Integration 
Server invokes incorrect service based on the order of the URL templates as they 
are saved. For example, consider these URL templates '/R1/{id}' and 
'/R1/{id1}-{id2}'. If '/R1/1-2' URL is invoked, Integration Server must match 
'/R1/{id1}-{id2}' but incorrectly matches '/R1/{id}' URL based on the order when 
it is saved.

The issue is now resolved to match the correct URL.

PIE-58277 (IS_10.3_Core_Fix6)
Microservices Runtime now provides configuration variables support for  AS/400
Adapter connections. 

Configuration variables template now supports configuration variables for AS/400
Adapter connections. 

PIE-52475 (IS_10.3_Core_Fix5)
Enhancement to Integration Server to designate HTTP/S ports as stateless. 

Integration Server now provides the ability to make Integration Server HTTP and
HTTPS ports stateless. A stateless port will not provide or maintain any
sessions or session IDs for requests received by the port. This might be useful
when using multiple non-clustered Integration Servers with a load balancer (this
configuration is sometimes referred to as a stateless cluster). Use the new
server configuration parameter watt.server.portStateless to identify the
stateless ports. 

watt.server.portStateless 
Specifies a comma-separated list of the port numbers for the ports on
Integration Server that are stateless. Integration Server does not provide or
maintain any sessions or session IDs for requests received on the port. For
example: 

watt.server.portStateless =8443 
watt.server.portStateless =8443,8081 

You can configure any HTTP or HTTPS port on Integration Server to be stateless
with the exception of the primary port and the diagnostic port. Additionally, do
not configure any ports used for WebSockets or for administering Integration
Server to be stateless. If you specify the primary port, diagnostic port, a port
that is not an HTTP or HTTPS port, or a port that does not exist in the value
for watt.server.portStateless. Integration Server logs an warning message
stating that the port cannot be made stateless and that it will be skipped. 

There is no default value for this parameter. That is, by default, none of the
ports on Integration Server are stateless. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-54128 (IS_10.3_Core_Fix5)
Integration Server does not validate the key alias configured through 
wm.server.security.keystore/createStore service.

While configuring an invalid key alias through 
wm.server.security.keystore/createStore service to the existing keystore 
configuration, Integration Server does not validate the invalid key alias and 
allows the configuration.

The issue is now resolved.

PIE-54278 (IS_10.3_Core_Fix5)
Integration Server did not save or restore the pipeline from an arbitrary
directory. 

The pub.flow:savePipelineToFile and pub.flow:restorePipelineFromFile services do
not save or restore pipelines from an arbitrary directory. 

This issue is now fixed.

PIE-54332 (IS_10.3_Core_Fix5)
Integration Server does not correctly enforce the 'Maximum Requests in Progress' property.

In Integration Server Administrator, the value provided for 
'Maximum Requests in Progress' under Security > Enterprise Gateway Rules > Denial of Service Options > 
Configure Global Denial of Service was not honored properly. As a result, Integration Server 
allowed more requests to be processed concurrently through Enterprise Gateway than the value 
specified in 'Maximum Requests in Progress'.

The issue is fixed now. Enterprise Gateway denies additional requests and returns an error 
message when the number of requests in progress reaches the value provided for 'Maximum Requests in Progress'.

PIE-54466 (IS_10.3_Core_Fix5)
Integration Server does not perform a clean shutdown if shutdown services for a
package take a long time to execute. 

If packages hosted in Integration Server contain shutdown services and the
shutdown services take a long time to execute, the JVM hosting Integration
Server exits with the following message written to the wrapper.log. 

Shutdown failed: Timed out waiting for the JVM to terminate. 
JVM did not exit on request, terminated 

This problem is resolved. Integration Server now sets the default timeout for
shutdown to 300 seconds. If 300 seconds elapse after the shutdown request is
made and shutdown services are still executing, the JVM exits with the message
cited above. This timeout value can be controlled with the following properties
defined in custom_wrapper.conf file. 

wrapper.jvm_exit.timeout 
Number of seconds to allow between the time that the JVM reports that it is
stopped and the time that the JVM process actually terminates. Setting this
property value to "0" (zero) means never time out. The default is 300 seconds. 

wrapper.shutdown.timeout 
Number of seconds to allow between the time that the Java Service Wrapper asks
the JVM to shut down and the time that the JVM side of the Java Service Wrapper
responds that it is stopping. Setting this property value to "0" (zero) means
never time out. The default is 300 seconds. 

PIE-54698 (IS_10.3_Core_Fix5)
Integration Server did not save or restore the pipeline from the default
pipeline directory if Integration Server was installed at a location that is a
symbolic link. 

The pub.flow:savePipelineToFile and pub.flow:restorePipelineFromFile services do
not save or restore pipelines from the default pipeline directory if Integration
Server was installed at a location that is a symbolic link. 

This issue is now fixed. Note that the default pipeline directory does not need
to be specified in the fileAccessControl.cnf and is located here: Integration
Server_directory/instances/instance_name/pipeline 

PIE-54802 (IS_10.3_Core_Fix5)
Integration Server allows to edit fields in Integration Server Administrator 
under "Schedule Type and Details" during tabbed navigation even though the field
 radio button is not selected.

In Integration Server Administrator under "Server > Scheduler > User Tasks > 
New Task" during tabbed navigation, users can edit or provide the values for the
 fields under "Schedule Type and Details" even through the parent radio button 
 is not selected.

This issue is now resolved. Now if users need to edit a field they must enable 
the parent radio button and modify the fields underneath.

PIE-55237 (IS_10.3_Core_Fix5)
webMethods messaging trigger's document resolver service does not return the 
correct document processing status.

In Designer under "Transient error handling" in the "Properties" view, while 
using the document resolver service and setting the "Max retry attempts" as 
greater than zero, webMethods messaging trigger does not return the correct 
document processing state.

This issue is now resolved.

PIE-55396 (IS_10.3_Core_Fix5)
Integration Server does not read the value configured for 
'watt.core.xml.expandGeneralEntities'.

While configuring the server configuration parameter 
'watt.core.xml.expandGeneralEntities=false', Integration Server still converts 
the hexadecimal values to special characters. The issue occurs because the 
default text/xml content handler is converting the hexadecimal values into 
special characters.

This issue is now resolved.

PIE-55473 (IS_10.3_Core_Fix5)
Unable to enable distributed cache in Integration Server under Internet
Explorer. 

This issue is now resolved. 

PIE-55561 (IS_10.3_Core_Fix5)
Change to Integration Server to disable key exchange algorithms for use with
SFTP. 

For an SFTP server alias, the Preferred Key Exchange Algorithms list can be
updated to change the order in which Integration Server presents the algorithms
to the SFTP server. However, the list of key exchange algorithms cannot be
edited to remove algorithms deemed vulnerable to attack. 

To address this issue, Integration Server includes a server configuration
parameter that controls the list of key exchange algorithms. 

watt.ssh.jsch.kex 
Specifies a comma-separated list of the key exchange algorithms that will appear
in the Preferred Key Exchange Algorithms list when creating or editing an SFTP
server alias. Specify only the key exchange algorithms that are not deemed to be
vulnerable. Do not list key exchange algorithms deemed to be vulnerable The
Preferred Key Exchange Algorithms list will display the key exchange algorithms
in the same order in which the configuration parameter value lists the
algorithms. The default is "", which means that Integration Server displays
all key exchange algorithms in the Preferred Key Exchange Algorithm list. 

You must restart Integration Server for changes to this parameter to take
effect. 

PIE-55598 (IS_10.3_Core_Fix5)
Security vulnerability while using webMethods Enterprise Gateway if 
'X-Forwarded-For' header exists in HTTP request.

To enhance the security, a new server configuration parameter 
'watt.server.enterprisegateway.ignoreXForwardedForHeader' is added to configure 
the behaviour of 'X-Forwarded-For' header in Enterprise Gateway. If this 
property is set to 'true' then Integration Server ignores the 'X-Forwarded-For' 
header and considers the proxy server's IP address as the host IP address. If 
the property is set to 'false' then Integration Server obtains the host IP 
address from the 'X-Forwarded-For' header. Default value is 'true'. You do not 
need to restart the server for the changes to take effect.

This issue is now resolved.

PIE-55653 (IS_10.3_Core_Fix5)
Integration Server might throw a NullPointerException when an error is written
to the audit log outside of a service invocation. 

When an error is written to the audit log outside of a service invocation,
Integration Server might throw a NullPointerException which will appear as a one
line entry in the server log. 

This issue has been fixed. Now, when an error is written to the audit log
outside of a service invocation, Integration Server no longer throws a
NullPointerException. 

PIE-55746 (IS_10.3_Core_Fix5)
Enhancement to Integration Server to send and accept SAML2 assertions through
the HTTP header. 

Integration Server already supports sending SAML tokens with web service
requests as part of the WS-Security header. With this fix, Integration Server
adds support for sending SAML2 tokens in the HTTP header, making it possible to
use SAML2 tokens with all types of services. This enables integration with other
security providers. 

To use this functionality, you must do the following tasks:

-  Configure the Integration Server is_jaas.cnf as shown below by adding the
SamlAssertLoginModule as the first login module to the IS_Transport login
context: 

        com.wm.app.b2b.server.auth.jaas.SamlAssertLoginModule requisite 
                mode="transport" 
                defaultUserName="Default"; 

-   Add the issuer of the SAML assertion to the list of trusted SAML issuers
using the Security > SAML > Add SAML Token Issuer page in Integration Server
Administrator. 

-  Send the Base64 encoded SAML2 assertions with the new custom HTTP header
named "wmIS-SAML2-Assertion". 

When Integration Server receives an HTTP request with the custom header
"wmIS-SAML2-Assertion" and 
finds a Base64 encoded SAML2 assertion in the header, Integration Server decodes
from Base64 and validates the assertion. If validation of the assertion
succeeds, Integration Server searches for an Integration Server users that
matches the NameID from the SAML2  Assertion. Integration Server first checks
for a local user defined on Integration Server and then searches Central Users
or LDAP. If Integration Server finds a username that matches the NameID,
Integration Server uses that username for the session. Otherwise, Integration
Server uses the user defined in the "defaultUserName" option of the module shown
above. If the "defaultUserName" option is set to "Default", Integration
Server uses the Default user account, which allows access to resources that have
the Anonymous ACL. 

PIE-55802 (IS_10.3_Core_Fix5)
When decoding a SOAP request, Integration Sever drops the namespace declaration
for an element of anyType. 

When decoding a SOAP request for a web service descriptor created from a WSDL
that contains an element of type=xsd:anyType, Integration Server drops the xmlns
namespace declaration from the resulting document (IData). 

This issue is now resolved.

PIE-55912 (IS_10.3_Core_Fix5)
Message Authentication Code (MAC) algorithms with known vulnerabilities cannot
be disabled. 

Integration Server does not provide any option to disable MAC algorithms which
have known vulnerabilities that leave the Integration Server open to attacks. 

To address this issue, the purpose of the watt.ssh.jsch.mac_c2s and
watt.ssh.jsch.mac_s2c server configuration parameters has been enhanced.
Previously, the parameters only controlled the order of MAC algorithms for
client to server transmission or server to client transmission, respectively.
Now, to disable use of a MAC algorithm, delete it from the server configuration
parameter value. 

When you change the value of watt.ssh.jsch.mac_c2s or watt.ssh.jsch.mac_s2c, you
must restart Integration Server for changes to take effect. 

PIE-55914 (IS_10.3_Core_Fix5)
Integration Server does not support REST V2 request and response compression.

Integration Server now supports REST V2 request and response compression.
The supported compression scheme is gzip.

Sending compressed payload using a REST V2 request
- Client compresses the REST V2 request payload using the gzip compression
algorithm.
- Client sends the request including the HTTP header 'Content-Encoding' if the 
payload is compressed along with the name of the appropriate compression scheme.
In this case it is gzip.

Requesting compressed response from a REST V2 request
- Integration Server compresses the response only if the client sends the 
request including the HTTP header 'Accept-Encoding: gzip'.
- Integration Server sends the response including the HTTP header
'Content-Encoding: gzip' highligting the appropriate name of the compression
algorithm. In this case it is gzip.

PIE-55951 (IS_10.3_Core_Fix5)
Creating a service first provider web service descriptor fails because the
resulting WSDL schema is invalid. 

When creating a service first provider web service descriptor from an IS service
that makes use of IS document types that have been generated from XML Schema
definitions that contain a mixture of namespace qualified and non-namespace
qualified elements, Xerces validation of the generate WSDL document results in
the following error in Designer: 

[ISC.0081.9182] Invalid WSDL schema generated for the service signatures or the
document types referred by the WSD 'webServiceDescriptorName'. To view the
generated WSDL change the logging level of Namespace(0081) to Trace. 

Error details: 
src-resolve: Cannot resolve the name 'elementName' to a(n) 'element declaration'
component. 

This issue could be worked around be clearing the Xerces validation option when
creating the web service descriptor. 

Now, the issue is resolved and Xerces validation can once again be used when
creating a service first web service descriptor that makes use of IS document
types that have been generated from XML Schema definitions that contain a
mixture of namespace qualified and non-namespace qualified elements. 

PIE-55979 (IS_10.3_Core_Fix5)
Integration Server incorrectly toggles the value for "Enable Follow the Master 
for Consumers" option while modifying the value for "Drain CSQ in Order" in 
Integration Server administrator.

While deselecting the checkbox for "Drain CSQ in Order" under "Settings > 
Messaging > webMethods Messaging Settings > Universal Messaging Connection Alias
 > Edit" in Integration Server administrator, Integration Server incorrectly 
 deselects the value for "Enable Follow the Master for Consumers" option. 
 Integration Server also displays the value for "Drain CSQ in Order" under 
 "Settings > Messaging > webMethods Messaging Settings > Universal Messaging 
 Connection Alias" as "No" irrespective of the setting on the Edit screen.

This issue is now resolved.

PIE-56018 (IS_10.3_Core_Fix5)
Integration Server throws "Error while executing command 'put': 
java.io.IOException: Pipe closed" exception while executing a flow service.

While executing a flow service Integration Server throws "Error while executing 
command 'put': java.io.IOException: Pipe closed" exception if the connection 
timeout for a SFTP user alias is set to 0.

This issue is now resolved.

PIE-56065 (IS_10.3_Core_Fix5)
If API Gateway exists on Integration Server, the migration utility throws an
ERROR during migration. 

When executing the migration utility on Integration Server, the utility throws
the following exception if API Gateway exists on Integration Server. 

Caused by: java.lang.ClassNotFoundException:
com.softwareag.apigateway.passman.datastore.CustomDataStore 

This issue is now fixed. 

PIE-56070 (IS_10.3_Core_Fix5)
Integration Server throws "java.nio.file.InvalidPathException: UNC path is 
missing sharename" exception while invoking pub.file:stringToFile service incase
 of an invalid UNC path.

While invoking pub.file:stringToFile service if an allowed pathname in the 
fileAccesscontrol.cnf file is an invalid UNC path, Integration Server throws
"java.nio.file.InvalidPathException: UNC path is missing sharename" exception
and does not validate the remaining allowed pathnames.

This issue is now resolved. Integration Server now records the error in the 
server log and validates the remaining allowed paths. 

PIE-56242 (IS_10.3_Core_Fix5)
Integration Server throws OutOfMemoryException during heavy FTP operations.

Integration Server throws OutOfMemoryException during more number of FTP 
operations due to a memory leak in wm.server.net.FTPConnectionsHandler class.

This issue is now resolved.

PIE-56249 (IS_10.3_Core_Fix5)
Unable to modify the logging levels for different facilities under Server Logger 
Configuration. 

After applying IS_10.1_Core_fix10, a user is unable to modify the logging level 
for different facility in Server Logger Configuration. 

The issue is now resolved. 

PIE-56305 (IS_10.3_Core_Fix5)
Integration Server does not store the newly added service while adding a new 
service to an existing scope.

While adding a new service to the existing list of services for an existing 
scope in Integration Server administrator under "Security > OAuth > Scope 
Management > {scope_name} > Edit", Integration Server does not store the newly 
added service after the server is restarted.

This issue is now resolved.

PIE-56379 (IS_10.3_Core_Fix5)
Integration Server incorrectly displays the persisted queue value for local 
triggers in Integration Server administrator.

Integration Server administrator incorrectly displays the persisted queue value 
for state information as blank for local triggers under "Settings > Messaging > 
webMethods Messaging Trigger Management > {trigger name}" in Integration Server 
administrator.

This issue is now resolved.

PIE-56422 (IS_10.3_Core_Fix5)
Change to Integration Server to allow disabling of vulnerable cipher algorithms
for SFTP. 

Integration Server does not provide any option to disable ciphers that have
known vulnerabilities which leave the Integration Server open to attacks. 

To address this issue, Integration Server enhances the purpose of the
watt.ssh.jsch.ciphers server configuration parameter to include the ability to
remove ciphers. Previously, the parameter only supported adding more ciphers. 

watt.ssh.jsch.ciphers 
Specifies a list of ciphers that Integration Server supports for communication
with an SFTP server. When establishing a connection to an SFTP server, these are
the ciphers that Integration Server, acting as an SFTP client, presents to the
SFTP server. 

The default values are: aes256- ctr,aes192-ctr,arcfour,arcfour128,arcfour256 

To include other ciphers, append the cipher to the comma-separated list. 
To remove a cipher, delete the cipher from the list. You may want to remove a
cipher if the cipher has known vulnerabilities. 

You must restart Integration Server for changes to this parameter to take
effect. 

PIE-56595 (IS_10.3_Core_Fix5)
PIEAR-1162
In webMethods Adapter for Runtime, when you set the watt property to 
watt.server.jca.connectionPool.thresholdWaitingRequest, even though there is no
load in the system, sometimes the connection request fails with the following 
exception-
Unable to get a connection to resource. 130 Threads are already waiting 
to get connection.

This issue occurs when there is an incorrect decrement of waiting requests count
to create a connection.

This issue is now resolved. Now, the number of waiting requests count variable 
is atomic to ensure the count is consistent.

PIE-56611 (IS_10.3_Core_Fix5)
Execution of RosettaNet transaction fails.

Executing a RosettaNet transaction fails with an error similar to the following
in the Integration Server error log: 

com.wm.estd.rosettaNet.transport.TransportException:
com.wm.estd.rosettaNet.networkTransport.NetworkTransportException:
com.wm.estd.rosettaNet.RosettaNetException: java.lang.ClassCastException:
java.lang.String cannot be cast to com.wm.net.HttpContext 

This issue is now resolved.

PIE-45939(IS_10.3_Core_Fix4)
State options are not localized in Settings > Messaging > JMS Settings > View
JMS Trigger Management> Edit Global JMS Trigger Controls > Individual Standard
JMS Trigger Controls screen. 

In Integration Server Administrator, the following options for State field in
Settings > Messaging > JMS Settings > View JMS Trigger Management> Edit Global
JMS Trigger Controls > Individual Standard JMS Trigger Controls > edit all are
not localized: 
-Enabled 
-Disabled 
-Suspended 

The above options are now localized.

PIE-51883(IS_10.3_Core_Fix4)
Integration Server fails to generate document reference during REST API 
Descriptor (RAD) creation.

Integration Server does not generate proper REST definition during REST API
Descriptor (RAD) creation, when comments are added in the document reference. 

The issue is now resolved.

PIE-52166(IS_10.3_Core_Fix4)
The pub.string:isNullOrBlank service does not work as expected. 

The pub.string:isNullOrBlank service did not work as named as it 
did not trim for whitespace before checking for emptiness. Additionally, 
the service name is misleading. 

To address these issues, Integration Server now includes the service 
pub.string:isNullEmptyOrWhitespace which determines if a string is null,
empty, or only whitespace. 

Input Parameter 
inString - String. Optional. String to be checked. If the pipeline does not 
contain inString, the service throws an exception. 

Output Parameter 
isNullEmptyOrWhitespace- String. Indicates whether inString is null, zero length, 
or only whitespace. true indicates that inString has a null value, is zero length,
or is only whitespace. false indicates that inString is not null, not zero length,
or is not only whitespace. 

This fix also deprecates pub.string.isNullOrBlank. 

PIE-52425(IS_10.3_Core_Fix4)
The processing of SOAP messages using WS-ReliableMessaging may exhibit a
decrease in performance. 

A number of changes have been made that may improve the performance of
processing SOAP messages that use WS-ReliableMessaging. 

PIE-52690(IS_10.3_Core_Fix4)
Designer fails to edit a flow service after migrating from one version to 
another.

While editing a flow service after migration, Designer does not respond because 
Integration Server client API "NSRecordRef" deep clones the fields when 
"cloneContentType" flag is set to false.

The issue is now resolved.

PIE-53676(IS_10.3_Core_Fix4)
Enhancement to Integration Server port access control feature to allow
specifying an EDIInt AS4 web service. 

The port access control feature makes it possible to allow or deny access to
certain services through a port. If a port denies access by default, a list of
allowed services and provider web service descriptors can be specified. If a
port allows access by default, a list of services and web service descriptors
for which the port denies access can be specified. Previously, the port access
control allowed specifying services, including provider web services, that were
part of the namespace only. However, an EDIInt AS4 web service is not part of
the Integration Server namespace and could not be specified as part of port
access control. 

With this fix, the port access control feature can specify service URIs that are
not part of the Integration Server namespace. Though any service URI can now be
included in port access control, Integration Server only validates and enforces
web service URIs as part of this change. For example, the following two web
service URIs could be added to the Allow List or Deny List for a port: 

/ws/EchoWS.EchoWSHttpEndpoint 
/ws/msh/receive 

PIE-53781(IS_10.3_Core_Fix4)
Integration Server does not include a Negotiate header challenge in
response to a request received on a port that requires Kerberos tickets. 

If a port configured to require a Kerberos ticket receives a client request that
does not include the Negotiate header, Integration Server should return a
response with a 401 status code and a Negotiate header challenge. Instead,
Integration Server returns 401 status code and prompts the client for username
and password credentials. 

This issue is now fixed. 

PIE-53831(IS_10.3_Core_Fix4)
Integration Server cannot read the boolean field values for "java.lang.Boolean" 
type.  

Integration Server does not support boolean field values, "0" and "1", for 
"java.lang.Boolean" type and sets the field as 'false' for both "0" and "1" as 
inputs.

The issue is now resolved.

PIE-54068(IS_10.3_Core_Fix4)
A task running on Integration Server requires access to select Task Engine
libraries for successful execution. 

To resolve this issue, the select Task Engine libraries have been added to the
Integration Server classpath. 

PIE-54135(IS_10.3_Core_Fix4)
When using Internet Explorer 11 to access Integration Server Administrator, some
pages did not render scroll bars correctly. 

This is now fixed. 

PIE-54167(IS_10.3_Core_Fix4)
Integration Server takes a longer time than expected to display search results.

While searching an item with the scope selected as "Field or Variable names" or 
"All occurrences (Element names, Field or Variable names)" and if the MapSet 
value in any flow service is very high, Integration Server takes more time than 
usual to display the search results. 

To resolve this, a new server configurationparameter, "watt.server.search.fast" 
is added. If the value is set to 'True', Integration Server evaluates the large 
text MapSet steps during loading time and the search operation becomes faster. 
You must restart Integration Server for the changes to take effect.

PIE-54199(IS_10.3_Core_Fix4)
Integration Server incorrectly removes CDATA blocks in SOAP RPC/Encoded
messages. 

When decoding a SOAP message with a style/use of RPC/Encoded, Integration Server
removes CDATA blocks. This is incorrect. 

Now, when decoding a RPC/Encoded SOAP message, Integration Server retains the
text within the CDATA block. 

For example if the following xml element was encountered: 
<xml:element>Leading text. <![CDATA[ < " & " > ]]> Trailing text. </xml:element> 

The following should be the string value of the element: 
Leading text. < " & " > Trailing text. 

Without the fix the string value would lose the CDATA text and become the
following: 
Leading text. Trailing text. 

Now all of the CDATA text is correctly retained and is present in the pipeline. 

PIE-54214(IS_10.3_Core_Fix4)
Integration Server ignores the value set for MIME header while using the 
pub.mime:addBodyPart service.

While adding a body part to the MIME message by setting the header as 
"content-transfer-encoding", Integration Server ignores the value set for the 
MIME header and updates it with the default value from the MIME body part.

This issue is now resolved.

PIE-54245(IS_10.3_Core_Fix4)
Integration Server does not filter packages as expected in certain scenarios
involving wildcard character.

While using the wildcard character '*' at the end of the filter criteria,
Integration Server does not filter the packages as expected.

This issue is now resolved.

PIE-54246(IS_10.3_Core_Fix4)
Before Integration Server 10.1,  OS Name value in  'About' page was derived
from Licenses\sagosch.exe file. 

This file is no longer maintained IS 10.1 onward so the issue occurred.

This issue is fixed now by using JVM System properties for deriving Operating
System environment variables. 

PIE-54303(IS_10.3_Core_Fix4)
Integration Server executes incorrect service while invoking a REST API.

When there are two URL templates associated with a RESTV2 resource, Integration 
Server invokes incorrect service based on the order of the URL templates as they
are saved. For example, consider these URL templates '/R1/{id}' and '/R1/1'. If
'/R1/1' URL is invoked, Integration Server must match '/R1/1' but incorrectly 
matches '/R1/{id}' URL depending on the order when it is saved.

The issue is now resolved to match the correct URL.

PIE-54342(IS_10.3_Core_Fix4)
Integration Server fails to validate the value of a variable of type dateTime 
when the time offset is used.

Integration Server cannot validate a variable of type dateTime when the value 
for time is 24:00:00 and time offset is used.

The issue is now resolved.

PIE-54423(IS_10.3_Core_Fix4)
When decoding an xsd:any element in a SOAP request or response, Integration
Server removes xmlns attributes in nested elements. 

When decoding a SOAP request or response that includes an xsd:any element,
Integration Server preserves only the namespace declarations (xmlns attributes)
in the top level element of an xsd:any element. An xsd:any element may have any
number of nested elements. Integration server should not remove he namespace
declarations in nested elements. 

Now, Integration Server preserves all the namespace declarations associated with
an xsd:any element. 

PIE-54465(IS_10.3_Core_Fix4)
Unable to debug flow service if MAP step contains for each element.

This issue is fixed now.

PIE-54501(IS_10.3_Core_Fix4)
The messaging audit logger is incorrectly configured to use a database as the
destination. 

The messaging audit logger can only write to a file and therefore should never
be configured to write to a database. When the Software AG Installer is used to
configure database destinations during installation of Integration Server, the
Audit Logger configuration for the messaging audit logger incorrectly used a
database as the destination. This resulted in corrupted Audit Logger
configuration. 

This fix corrects the corrupted Audit Logger configuration. After applying the
fix, the messaging audit logger will use a file as the destination. 

PIE-54651(IS_10.3_Core_Fix4)
Integration Server cannot resume back a suspended schedule job.

While suspending a schedule job that is running from a past date and then trying
to resume it back, Integration Server reverts back the state of the job to 
suspended again within few seconds. 

The issue is now resolved.

PIE-54722(IS_10.3_Core_Fix4)
Integration Server setting to control the preservation of xmlns attributes for
namespaces when decoding xsd:any elements in SOAP requests and responses. 

When decoding a SOAP request or response for a WSDL that includes an xsd:any
element, Integration Server preserves namespace declarations for the xsd:any
element by inserting the following field into the document: 

@xmlns:<prefix> 
Where <prefix> is the prefix defined in the SOAP message. If no prefix is
defined, the variable name will be @xmlns. 
The value of the @xmlns:<prefix> variable is the namespace declaration.
Integration Server adds one @xmlns:<prefix> field for each namespace declaration
in the xsd:any field. Additionally, the corresponding field for an element that
belongs to the namespace includes the prefix in the field name. 

Preserving xmlns attributes for namespace qualified elements can result in
unexpected and unwanted fields. Unlike fields that correspond to declared
elements, for an xsd:any field that corresponds to an xsd:any element in the
WSDL document there is not a corresponding IS document type that identifies the
possible fields and namespaces that appear at run time. Integration Server
represents an any element by indicating that the IS document type that contains
the corresponding any field may have unspecified fields (Allow unspecified
fields is set to true). In short, the namespace declarations in the SOAP message
are not present in an IS document type.

To address this, Integration Server now provides the server configuration
parameter watt.server.SOAP.retainUndeclaredNamespace.
to control whether or not Integration Server retains namespaces in an xsd:any
element when decoding a SOAP request or SOAP response. 

watt.server.SOAP.retainUndeclaredNamespace 
Specifies whether Integration Server retains namespaces from an xsd:any element
when decoding a SOAP request or SOAP response. Integration Server considers the
namespaces from an xsd:any element to be undeclared because the possible
elements and corresponding namespaces are not defined in a corresponding
document type. When set to true, Integration Server preserves namespace
declarations for the xsd:any element. Additionally, the corresponding field for
an element that belongs to the namespace includes the prefix in the field name,
When set to false, Integration Server does not retain the namespace declarations
for an xsd:any element and the name of the field corresponding to an element in
the declared namespace names do not include the prefix. The default is true. 

When this parameter is set to true, Integration Server preserves namespace
declarations by inserting the following field into the document for each
namespace declaration in the xsd:any element: 

@xmlns:<prefix> 
Where <prefix> is the prefix defined in the SOAP message. If no prefix is
defined, the variable name will be @xmlns. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

Note that the watt.server.SOAP.retainUndeclaredNamespace value affects decoding
of all SOAP messages for web services. 

PIE-54763(IS_10.3_Core_Fix4)
Integration Server adds an additional invoke flow step in the OData CRUD 
services generated for external entity. The '$expand' option does not work for 
external entity.

When a CRUD service for external entity is modified to add customer flow steps
and when the OData service is modified, Integration Server adds an additional
invoke flow step in CRUD service for the generated adapter service.

These issues are now resolved and updates to the OData service do not add an 
additional invoke flow step. The system query option '$expand' functions 
properly for external entities. In addition Integration Server supports to 
create URL alias for OData service where a valid alias is mapped to URL path 
"odata/<Odata service>".

PIE-54771(IS_10.3_Core_Fix4)
The Integration Server migration utility fails with an error when NTLM
authentication is enabled for SQL Server used by a JDBC pool. 

When NTML authentication is enabled for a SQL Server used by a JDBC pool created
in Integration Server, the migration utility fails with the following error: 

ServerIdMigrator : [SoftwareAG][SQLServer JDBC Driver]NTLM (type-2)
Authentication was requested but the required DDJDBCx64Auth05.dll was not found
on the path specified by the java.library.path system property. 

This issue is now resolved. 

PIE-54796(IS_10.3_Core_Fix4)
Resource owner password credentials (ROPC) grant type for OAuth does not support
public clients. 

Prior to this fix, the ROPC grant type could be used with confidential clients
only. With this fix, the ROPC grant type can now be used with public clients as
well. To use a public client with the ROPC grant type, the body of the request
needs to include the client_id parameter with the public client's client id as
the value. 

PIE-54804(IS_10.3_Core_Fix4)
IS version 10.3 is now WCAG compliant.

PIE-54852(IS_10.3_Core_Fix4)
During start up, Integration Server erroneously logs a message about an invalid
factory name for a listener that registered successfully. 

During Integration Server startup, a log sequence similar to the following may
appear in the server log. 

[ISS.0070.0016D] Registered webMethods Email Listener listener factory 
[ISS.0070.0002D] Invalid factory name specified in listener configuration for
HTTP:5555 

The second message is erroneous, occurs due to synchronization issues, and does
not prevent successful registration of the HTTP listener factory. 

The issue is now resolved. Integration Server no longer logs the error message
ISS.0070.0002D when the listener factory is registered successfully. 

PIE-54861(IS_10.3_Core_Fix4)
Integration Server does not enable the triggers in the target server while 
deploying a package using WmDeployer runtime deployment and hot deployment 
turned on.

While deploying a package having webMethods triggers after enabling the hot 
deployment setting under "Settings > Hot Deployment" in the Integration Server 
Administrator, and the package being deployed using the runtime deployment 
option of wmDeployer, Integration Server cannot enable or resume the triggers 
after the deployment.

The issue is now resolved.

PIE-54872(IS_10.3_Core_Fix4)
webMethods JMS trigger does not detect duplicate messages for SOAP-JMS triggers 
using the UUID (Universally Unique Identifier) field.

Integration Server sends messages that either carries a UUID for each message 
set by the user or a JMSMessageID is generated by the messaging provider. 
Integration Server uses this UUID or JMSMessageID to detect the duplicate 
messages once they are received along with history table and duplicate detection
option set to true. If user sets the UUID, then Integration Server uses UUID to
track duplicate messages. For SOAP-JMS based triggers, the UUID field was not 
considered for duplicate detection, hence Integration Server was unable to 
identify the duplicate messages with same UUID field value.

The issue is now resolved.

PIE-54907(IS_10.3_Core_Fix4)
Creating or updating an Integration Server instance fails when the package.list
parameter contains leading or trailing spaces. 

If the package.list parameter value contains leading or trailing spaces around
the package names, an attempt to create or update an Integration Server instance
fails with an error message like the following. 

BUILD FAILED 
/opt/softwareag/IntegrationServer/instances/is_instance.xml:219: The following
error occurred while executing this line: 
/opt/softwareag/IntegrationServer/instances/is_instance.xml:206:
/opt/softwareag/IntegrationServer/instances/default/packages/<packageName> does
not exist. 

where <packageName> is the name of the package with leading or trailing spaces. 

This issue is now resolved. When creating or updating Integration Server
instances, the is_instance script trims leading or trailing spaces from the
package.list parameter. 

PIE-54919(IS_10.3_Core_Fix4)
Exactly-once processing may not catch duplicate JMS messages that are resent
because the JMSMessageIDs assigned to the messages are different. 

In JMS messaging, the JMSMessageID is typically set by the JMS provider and
returned to the client after the message has been successfully sent, which
occurs when the send method returns to the sending client. If the Integration
Server sends the JMS message to the JMS provider around the same time the
Universal Messaging realm fails, Integration Server might send the JMS message
successfully but never receive the JMSMessageID information from Universal
Messaging. In these situations, if the JMS connection alias uses a client side
queue (CSQ) or the producer retry functionality, Integration Server resends the
message automatically. However, if Universal Messaging received the first
message, resending the message results in Universal Messaging assigning the same
message a different JMSMessageID. That is, the same message might be published
twice and received by Universal Messaging twice but receive two different
JMSMessageIDs. If the pub.jms:send* service does not explicitly set the
JMSMessage/properties/uuid field, this leads to duplicates that will not be
caught by the JMS triggers exactly-once processing feature. 

To address this issue, when publishing JMS messages to Universal Messaging,
Integration Server sets the JMSMessageID. This is now the default behavior. If
Integration Server needs to resend a message, the same JMSMessageID will be
used. If a message is successfully sent more than once, the exactly once
processing feature, when properly configured, will catch the duplicate message.
Note that the JMSMessageID generated by Integration Server is longer than the
JMSMessageID generated by Universal Messaging. 

Note: This change applies only when Integration Server uses Universal Messaging
as the JMS provider. It does not apply to other JMS providers. 

PIE-54935(IS_10.3_Core_Fix4)
Removal of obsolete server configuration parameters during Integration Server 
migration. 

During Integration Server migration, if a user opts to choose the behavior for new 
properties or existing properties with new defaults, an obsolete server configuration 
property 'watt.server.service.documentList.treatEmptyAsNull' is prompted. 

The issue is resolved. Integration Server no longer prompts the obsolete 
configuration property, instead prompts new configuration property 
'watt.server.service.list.treatEmptyAsNull'. 

PIE-54960(IS_10.3_Core_Fix4)
Remote server alias unable to use configured keystore details.

After configuring a remote server alias to use SSL and specifying the desired 
keystore alias and key alias, the remote server alias will not use the 
configured keystore alias and key alias. Instead, the remote server alias will 
only use the keystore alias and key alias configured in the SSL key section 
of the "Security > Certificates" screen.

The issue is now resolved.

PIE-55097(IS_10.3_Core_Fix4)
The pub.client:http service fails with a StringIndexOutOfBoundsException when
using digest authentication. 

When the pub.client:http service input parameter auth/type is set to
"Digest" and the server response header field "Content-Type" does not
contain the parameter "charset", the service fails with a
java.lang.StringIndexOutOfBoundsException. 

Now, when the server response header field "Content-Type" does not contain
the "charset" parameter, Integration Server uses the value of
watt.server.netEncoding server configuration parameter as the default charset. 

PIE-55161(IS_10.3_Core_Fix4)
Integration Server logs warnings about missing required SOAP response headers
even when watt.server.SOAP.ignoreMissingResponseHeaders set to true. 

When watt.server.SOAP.ignoreMissingResponseHeaders is set to true, a SOAP
response that does not contain a required header will not result in an error. 
However, Integration Server is still logging messages about missing headers 
when the SOAP response contains a SOAFault but does not include
a required header. 

[ISC.0088.9443W] One or more required Headers "headeName1, headerName2" are
not present in the SOAP response" 

This issue is now fixed. 

PIE-55182(IS_10.3_Core_Fix4)
The pubflow:savePipelieToFile services fails with an IOException when the value
of the filename input parameter contains a colon. 

This issue is now fixed. 

PIE-55261(IS_10.3_Core_Fix4)
Integration Server treats the CORS Access-Control-Request-Headers as
case-sensitive but should not. 

The watt.server.cors.exposedHeaders server configuration parameter is
case-sensitive which results in Integration Server treating the
Access-Control-Request-Headers as case-sensitive and returning ah HTTP status
code 403 "Header not supported" if the exposed headers do not exactly match
those in the watt.server.cors.supportedHeaders. This is incorrect as the HTTP
standard defines headers as being case in-sensitive. 

Now, Integration Server no longer treats the Access-Control-Request-Headers and
the watt.server.cors.exposedHeaders server configuration parameter as
case-sensitive. 

PIE-55330(IS_10.3_Core_Fix4)
AMQP. 

Integration Server is certified to communicate with JMS providers that support 
AMQP protocol using QPID JMS client libraries. Integration Server supports the 
"Qpid JMS AMQP 0-x 6.3.3" JMS client libraries. This feature is tested with 
RabbitMQ messaging provider.

PIE-55345(IS_10.3_Core_Fix4)
Enhancement to use a text file for specifying the URIs from which Integration
Server is to allow cross-origin requests to access resources. 

A text file can now be used as the value for the watt.sever.cors.allowedOrgins
server configuration parameter. The server configuration parameter specifies the
URIs from which Integration Server is to allow cross-origin requests to access
resources. If the value of the parameter is "file:<path to file>",
Integration Server expects to find the list of URIs in the specified file. The
file must use the same syntax as is required for the
watt.sever.cors.allowedOrigins with the difference that each line must be an
allowed origin server URI or a regular expression. 

You can set watt.sever.cors.allowedOrgins to a comma-separated list or the
absolute path to a file. You cannot specify a combination of these. 

Additionally, this fix introduces a new internal service 'refreshAllowedOrigins'
that can be invoked using a URL to cause the referenced text file to be loaded
into the Integration Server. The URL to invoke the service is as follows: 

http:/<host:port>/invoke/wm.server.admin:refreshAllowedOrigins 

PIE-55360(IS_10.3_Core_Fix4)
Integration Server generates the root element automatically for all REST 
responses.

Integration Server wraps the ouput signature structure into a root element to 
provide a response in a valid XML format. However this wrapping is unnecessary 
if the output signature has only a single document that is not an array type.

This issue is now resolved. Integration Server wraps the output signature only 
when necessary. A new REST API descriptor (RAD) property, 'Wrap response root 
element' is added in Designer to make this change compatible for existing APIs. 
Users can choose to select or deselect this behavior. 

PIE-55381(IS_10.3_Core_Fix4)
Addition of third-party libraries to support the TaskEngine HPSTRA framework
with My webMethods Server. 

Integration Server now includes third-party libraries to support the use of the
TaskEnging HPSTRA with My webMethods Server. 

PIE-55521(IS_10.3_Core_Fix4)
Update the Spring Boot Actuator jar file to version 1.5.7. 

Spring Boot Actuator jar file version 1.5.7 resolves documented security
vulnerabilities in version 1.3.5. 

PIE-55528(IS_10.3_Core_Fix4)
Integration Server does not support PostGreSQL database.

Integration Server supports PostgreSQL 9.6.10 as one of the database platform.

PIE-55536(IS_10.3_Core_Fix4)
Integration Server does not support to map the JSON format request payload for 
REST APIs to match the service input signature.

For any JSON format, Integration Server expects the request payload for 
PUT/POST/PATCH to be as defined in the Swagger for a particular service. For 
example, consider a service "addDetails" which has a service input signature as 
shown below:

"input"
{
"name",
"id"
}

The Swagger generated for the above service expects the input request payload 
structure to be as:

{
"name" : "test",
"id" : "123"
}

However, Integration Server does not provide any option to match the request 
payload with the service structure.
A new RAD property, "Match payload with Swagger" is added in Designer to allow 
users to select the target mapping of the request payload. The property values 
are "true" or "false". Default is "true". When set to "true", Integration Server
supports to match the request payload as per the Swagger definition. For the 
above example, the input payload structure would be:

{
"name" : "test",
"id" : "123"
}

When set to "false", Integration Server supports to match the request payload as
per the service input structure. For the above example, the input payload 
structure would be:

{
"input" :
{
"name" : "test",
"id" : "123"
}
}

PIE-55627(IS_10.3_Core_Fix4)
Replacement of an obsolete jar fie. 

The third-party jsp-api.jar is replaced by
common/lib/glassfish/gf.javax.servlet.jsp-api.jar. 

PIE-55780(IS_10.3_Core_Fix4)
A task running on Integration Server requires access to select Task Engine libraries 
for successful execution. 

To resolve this issue, the select Task Engine libraries have been added to the 
Integration Server classpath.

PIE-55798 (IS_10.3_Core_Fix4)
Integration Server provides the XML response in converted XML format containing 
IData objects for media type 'text/xml'. 

Integration Server now supports to provide the XML response in proper XML 
format for media type 'text/xml'.

PIE-51049 (IS_10.3_Core_Fix3)
Validation of input signature is not happening at the server side. 

Validation of a SOAP request's input signature is not happening at 
the server side when a user provides additional input fields apart from the 
request's intended signature. As a result, a validation error is not flagged 
and service results are returned. 

The issue is now resolved. 

PIE-51713 (IS_10.3_Core_Fix3)
Integration Server cannot enable the JMS trigger against Weblogic.

While using Weblogic as the JMS provider with secured destinations (queues and 
topics), Integration Server cannot perform send/receive operations and throws 
JMSSecurityException. When the additional JNDI property is set as 
weblogic.jndi.enableDefaultUser=true, this issue does not occur. But in case of 
clustered Weblogic JMS servers containing new connection per trigger, 
Integration Server throws JMSSecurityException.

This issue is now solved. Integration Server is now initializing the JNDI 
context just before the send/receive operations or creating the consumers to 
have the users available in the Thread which Weblogic requires for 
authentication. 

PIE-51948 (IS_10.3_Core_Fix3)
Unrestricted file upload allowed while upgrading the license. 

When upgrading the license in Integration Server Administrator, the setup 
program allows uploads of any network shared file of any size and formats. 

The issue is now resolved. Integration Server allows uploading the license 
file which has content with a valid checksum.

PIE-53105 (IS_10.3_Core_Fix3)
My webMethods Server (MWS) is unable to connect to Integration Server running
inside a Docker container. 

If a Docker image is created for an Integration Server (or Microservices
Runtime) using scripts located in the IntegrationServer/docker directory, MWS
cannot connect to Integration Server running inside Docker container. 

When generating a Docker image for Integration Server, the is_container script
overwrites the default truststore used by MWS and Integration Server for single
sign-on. Overwriting the default truststore is required only when generating
Docker images for an Integration Server instance that is to be lifted and
shifted into webMethods Cloud. 

Now, to generate a Docker image for an Integration Server instance that will be
lifted and shifted into webMethods Cloud, when executing the createDockerfile or
createLeanDockerfile command, set the -Dtarget.configuration parameter to
wmcloud. This change ensures that the default truststore used by MWS and
Integration Server for single sign-on is not overwritten, which will allow MWS
to connect to an Integration Server running inside a Docker container. 

PIE-53174 (IS_10.3_Core_Fix3)
Building a Docker image for an Integration Server or Microservices Runtime
running on a Windows platform fails. 

Building a Docker image for an Integration Server or Microservices Runtime
running on a Windows platform fails with an error such as the following: 

failed to copy files: GetFileAttributesEx? 

This issue is now resolved

PIE-53260 (IS_10.3_Core_Fix3)
Integration Server incorrectly migrates AuditConfig.xml from 9.7 version to
9.12. 

While running migration from 9.7 version to 9.12, Integration Server incorrectly
migrates AuditConfig.xml file. The URIs of FailedAuditLog and AuditFSDest still
points to the source instance name instead of the destination instance name.

This issue is now resolved.

PIE-53368 (IS_10.3_Core_Fix3)
Integration Server fails to update server configuration properties through 
Command Central or using a YAML template. 

When the server configuration properties are updated through Command Central 
or using a YAML template, the extended configuration properties are not visible 
in Integration Server Administrator. This happens with only those configuration 
properties that use the default values for update. 

The issue is now resolved. 

PIE-53545 (IS_10.3_Core_Fix3)
Enhancement  to Integration Server to provide lifecycle management settings for
sockets. 

Integration Server maintains a socket pool for a given target endpoint when the
watt.net.maxClientKeepaliveConns is set to a value greater than 0.  Prior to
this fix, Integration Server did not provide a way to manage the lifecycle of
sockets contained in the socket pool, resulting in sockets becoming stale and
causing exceptions at the application level. 

To address this, Integration Server now includes server configuration parameters
to control how long a socket is kept in the pool
(watt.net.clientKeepaliveAgingLimit) and how many times it can be used
(watt.net.clientKeepaliveUsageLimit ). If either limit is exceeded, Integration
Server will not return a socket to the pool. The new parameters are tuning
parameters that will need to be adjusted based on use case and usage patterns. 

The new tuning parameters are in addition to the existing parameter
watt.net.clientKeepaliveTimeout which Integration Server uses to remove any idle
or unused sockets from the pool. 

The following paragraphs provide more information about the new tuning
parameters. 

watt.net.clientKeepaliveAgingLimit
Specifies how long a is kept alive measured in seconds. Before returning a
socket to the pool, Integration Server compares the age of the socket connection
against the value of the watt.net.clientKeepaliveAgingLimit. If the 
socket is older than the watt.net.clientKeepaliveAgingLimit value, then
Integration Server does not return the socket to the pool. Instead, Integration
Server closes the socket. When another socket connection is needed, Integration
Server will create it. If the socket age is less than the
watt.net.clientKeepaliveAgingLimit value, then Integration Server returns the
socket to the connection pool. The default is 180 seconds. 

You must restart Integration Server for changes to this parameter to take
effect. 

Note: Even if the connection age is less than the
watt.net.clientKeepaliveAgingLimit parameter, Integration Server will close the
connection if the connection has exceeded the usage limit set by the
watt.net.clientKeepaliveUsageLimit server configuration parameter. 

Note: The watt.net.clientKeepaliveAgingLimit  parameter applies only if
watt.net.maxClientKeepaliveConns is set to a value greater than 0. 

watt.net.clientKeepaliveUsageLimit 
Specifies the maximum number of usages for a socket in a client connection pool.
Before returning a socket to the pool, Integration Server compares the number of
times the socket has been used to send a request to the
watt.net.clientKeepaliveUsageLimit  value. If the socket usage count is greater
than the watt.net.clientKeepaliveUsageLimit value, then Integration Server does
not return the socket to the pool. Instead, Integration SErver closes the
socket. If a new soket is needed in the pool, Integration Server creates one.
The default value is 100 uses. 

You must restart Integration Server for changes to this parameter to take
effect. 

Note: Even if the number of connection usages is less than the
watt.net.clientKeepaliveUsageLimit parameter, Integration Server will close the
connection if the connection has exceeded the age limit set by the
watt.net.clientKeepaliveAgingLimit server configuration parameter. 

Note: The watt.net.clientKeepaliveUsageLimit parameter applies only if
watt.net.maxClientKeepaliveConns is set to a value greater than 0. 

PIE-53608 (IS_10.3_Core_Fix3)
Integration server incorrectly shows the default value of 
'watt.server.log.orphanLoggers' parameter.

The default value of 'watt.server.log.orphanLoggers' parameter is 
'com.webmethods.portal.jms.db.DbJMSClient'; however Integration Server 
incorrectly displays the default value as 'com.webmethods.jms.db.DbJMSClient'.

The issue is now resolved.

PIE-53669 (IS_10.3_Core_Fix3)
The pub.file:getFile service using streams can cause an OutOfMemoryError if
there is subsequent usage of a stream that references a very large file. 

When the pub.file:getFile service input parameter loadAs is set to stream to
make the file available as an input stream for a subsequent service, Integration
Server wraps the FileInputStream with a BufferedStream. As a result, when the
stream is read, the file contents are loaded into memory. This results in an
OutOfMemoryError if the file is very large. 

To resolve this issue, Integration Server no longer uses the BufferedStream. 

PIE-53856 (IS_10.3_Core_Fix3)
Change in way that Integration Server handles an exception from Universal
Messaging. 

Prior to this fix, when Integration Server received an exception from Universal
Messaging, Integration Server would always stop and restart the JMS connection
alias that received the exception, regardless of the cause. This had a negative
impact on JMS triggers and publishing services that used the alias. 

Now, when Integration Server receives an exception from Universal Messaging,
Integration Server first checks the error code in the exception message. If the
error code indicates that the exception resulted from a the deletion of a
Universal Messaging store, which can be caused by deleting or updating an
existing channel or queue, Integration Server will not stop and restart the 
JMS connection alias. Instead,Integration Server will refresh its Destination 
object cache to remove any obsolete Destination objects. This behavior change 
prevents the exception from affecting JMS triggers and publishing services 
that use the alias. 

Note: An exception that Integration Server receives because of connection
failures or other changes in Universal Messaging besides deleted or updated
messaging stores still results in Integration Server stopping and restarting the
JMS connection alias. 

PIE-54031 (IS_10.3_Core_Fix3)
The watt.server.oauth.token.endpoint.auth server configuration parameter does
not appear in extended settings in Integration Server Administrator. 

This has been resolved. 

PIE-54073 (IS_10.3_Core_Fix3)
The OpenID Connect redirection endpoint may request scopes that the provider
does not support. 

When the OpenID Connect redirection endpoint requests an ID Token from an OpenID
Provider, it may request scopes that the provider does not support. 
When the internal service that acts as the OpenID Connect redirection endpoint
in Integration Server, requests an ID token from an OpenID Provider, the service
should limit the request only to those scopes that the provider supports as
specified by the scopes_supported field in the OpenID Provider's file in the
config/security/openid directory. Instead, the service always requests the full
set of standard OpenID scopes. 

This has been fixed. Requests for ID tokens now include only the scopes
supported by the OpenID Provider. 

PIE-54074 (IS_10.3_Core_Fix3)
An error message appears while migrating Integration Server from version 9.10 
to version 10.3. 
   
When migrating from Integration Server version 9.10 to version 10.3 with 
Core fix 1, the Integration Server startup fails with the following message: 
"WmRoot: Startup service (wm.server.access:initAccountLocking)" 

This issue is now resolved. 

PIE-54075 (IS_10.3_Core_Fix3)
Integration Server throws a NullPointerException if the password store does not
contain a password for a proxy server. 

Now, instead of throwing a NullPointerException when the password store does not
contain a password associated with a username for a proxy server, Integration
Server throws the following exception: ISC.0064.9336 Proxy password is missing
or invalid.

PIE-54137 (IS_10.3_Core_Fix3)
Integration Server fails to login while one of the configured LDAP servers does 
not respond.

Integration Server cannot retrieve user groups for the user and fails to login 
if one of the multiple configured LDAP servers does not respond.

This issue is now resolved.

PIE-54163 (IS_10.3_Core_Fix3)
After migrating to Integration Server 10.3, a client cannot acquire an OAuth
access token. 

This issue has been resolved. 

PIE-54210 (IS_10.3_Core_Fix3)
Integration Server generates the error message "Unable to allocate a new thread
in the time specified". 

When the server thread pool is empty and a scheduled task waiting for an
available thread expires without obtaining a thread to run the scheduled task,
Integration Server logs an error like the following: 

[ISS.0137.0011E] Scheduler: Exception: [9119] Unable to allocate a new thread in
the time specified. 
   
Now, when the thread pool is empty and a scheduled task expires because a thread
is not obtained for the task within the specified time period, Integration
Server schedules the task to run at the next interval. 

PIE-54273 (IS_10.3_Core_Fix3)
The pub.utils:migrateDocTypesTriggersToUM service incorrectly migrates a trigger
filter that contains an invalid character. 

When the pub.utils.messaging.migrateDocTypesTriggersToUM service migrates
publishable document types to use Universal Messaging as the messaging provider,
the service also converts the filters used by the webMethods messaging triggers
that subscribe to the publishable document types. Specifically, the service
migrates the filter expressions that can be evaluated by the Universal Messaging
server from the Filter field for a trigger condition to the Provider Filter (UM)
field. However, the service incorrectly migrates a filter that contains a field
with a character, such as a ":", that is not supported by protocol buffers.
The service makes the filter a provider-side filter in the Provider Filter (UM)
field, but should not. Because the filter uses a field containing a character
that is not supported by protocol buffers, the service should keep the filter as
a local filter which is visible on in the Filter field. As a result of the
incorrect filter migration, the trigger never executes because the filter on the
provider checks for a field that will never appear in the protocol buffer
encoded message. The field and its contents is passed through as an
UnknownFieldSet. 

Now, if a trigger filter contains a field with a character that is not supported
by protocol buffers, the pub.utils.messaging.migrateDocTypesTriggersToUM service
keeps the filter a local filter (Filter field) and issues a warning about the
invalid field name. 

PIE-54275 (IS_10.3_Core_Fix3)
Integration Server instance fails to start up after migration from version 10.2 
to version 10.3. 

Integration Server instance fails to start up after migration from versions 10.2 
to version 10.3 when using the Java Service Wrapper configuration files. The 
issue occurs because of the corrupted configuration files residing in the 
migrated instance. 

The issue is resolved now.

PIE-54292 (IS_10.3_Core_Fix3)
After migrating Java Server Wrapper configuration, for some jar files java
classpath and server classpath of the migrated instance were still pointing to
the source instance instead of the migrated instance. 

The issue is resolved now and the jar file paths are pointing to the migrated
instance. 

PIE-54301 (IS_10.3_Core_Fix3)
The OpenID Connect redirection endpoint throws a NullPointerException when the
OpenID Provider cannot be found. 

The OpenID Provider may not be found due to a misconfiguration in Integration
Server or an error by the OpenID Provider. When this happens,
wm.server.security.openid:codeCallback, the internal service that functions as
the redirection endpoint in Integration Server, throws a NullPointerException. 

This has been fixed. Now, when the wm.server.security.openid:codeCallback
service cannot connect to the OpenID Provider, Integration Server returns an
explanatory message. 

PIE-54381 (IS_10.3_Core_Fix3)
Integration Server does not process requests from webMethods Monitor to resubmit
services. 

This issue has been resolved by adding
com.wm.app.b2b.server.resubmit.ResubmitData to the set of whitelist classes. 

Additionally, to aid in diagnosing problems with an internal store used by the
resubmission process, Integration Server now includes the server configuration
parameter watt.core.transientStore.logExceptions. Some exception conditions
thrown by the transient store such as interruptions and deadlocks are handled
internally and Integration Server recovers from them silently. When set to true,
Integration Server logs exceptions thrown by the transient store that might
cause the consumer thread to terminate. When set to false, Integration Server
does not log all exceptions from the transient store. This parameter is set to
false to prevent false alarms from exceptions that Integration Server handles
and recovers from. Software AG recommends that you set this parameter to true
only when directed to do so by Software AG Support. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-54483 (IS_10.3_Core_Fix3)
The pub.client.sftp* services return an error when the connection timeout is set
to 0 for the SFTP user alias. 

If the Connection Timeout property is set to 0 for the SFTP user alias, when
executing a command via a pub.client.sftp* service, the service returns a
"returnCode" of "4" and a "returnMsg" of "Error while executing
command 'commandName' ". A Connection Timeout value of 0 indicates that the
session on the SFTP server should not time out. However, the the
pub.client.sftp* service closes the channel with an error. This issue occurs
after applying a fix that includes PIE-52020. 

Now, when the Connection Timeout value is set to 0 in the SFTP user alias used
to establish the connection to the SFTP server, the read operation will block
until the SFTP server finishes the command execution. 

PIE-54485 (IS_10.3_Core_Fix3)
Integration Server switches the usage of the configuration parameters used that
control the behavior for restarting JMS triggers. 

The watt.server.jms.trigger.startupFailure.restartTaskRetryCount and
watt.server.jms.trigger.startupFailure.restartTaskRetryInterval server
configuration parameters control the restart attempts and interval between
attempts for the JMS trigger restart task, respectively. However, Integration
Server switched the usage of the parameters, using the retry count value as the
retry interval and vice versa. 

This fix restores the correct behavior. 

PIE-54565 (IS_10.3_Core_Fix3)
Integration Server throws EndOfFileException while processing a post request. 

While processing a post request with "application/x-wmidatabin" content type, 
Integration Server throws EndOfFileException. 

The issue is now resolved.

PIE-54773 (IS_10.3_Core_Fix3)
Enterprise Gateway sends a new header in the outgoing requests to ICAP server. 

Enterprise Gateway now sends a new header named, 'X-wmUUID' with every outbound 
ICAP request. The value of this header is a unique identifier. The encapsulated 
header in the ICAP request is modified to add a new request header (req-hdr) and 
the unique identifier is referenced by this req-hdr.

PIE-51843 (IS_10.3_Core_Fix2)
During repository-based deployment, Integration Server does not report an error
that occurs while taking a checkpoint. 

When deploying packages during repository-based deployment, Integration Server
does not report any errors that it encounters when taking a checkpoint. 

This issue is now fixed. Integration Server reports any errors that it
encounters while taking a checkpoint during the deployment of packages. 

PIE-52020 (IS_10.3_Core_Fix2)
The pub.client.sftp* services do not honor the configured connection timeout set
in the SFTP user alias. 

The pub.client.sftp* services open a channel to the SFTP server. While writing
to the channel, the services honor the connection time out set for the SFTP user
alias specified in the userAlias input parameter. However, the read operation
was blocking until the SFTP server finished the command execution, which could
be longer than the configured connection timeout. 

Now, if the STP server does not finish the command execution with the configured
connection timeout period, the pub.client.sftp* services close the channel with
an error. 

PIE-52096 (IS_10.3_Core_Fix2)
LDAP user unable to sign in to Integration Server. 

In Integration Server, associating the user with the group in LDAP is governed
by the watt.server.ldap.memberInfoInGroups property. When retrieving the groups
for a user, the watt.server.ldap.memberInfoInGroups property is not considered. 

The issue is resolved now. 

PIE-52228 (IS_10.3_Core_Fix2)
Integration Server fails to uninstall while it is running.

When the Integration Server is up and running and the Integration Server 
uninstaller is executed, it throws an uninstallation error.

This issue is now resolved.

PIE-52242 (IS_10.3_Core_Fix2)
Session ID masking does not work in Cookie header with multiple parameters. 

The Session IDs is not masked when a Cookie header containing Session ID and 
other parameters is passed to Integration Server during a service request. 
If the Session ID alone is the only parameter in the header, the masking works. 

The issue is now resolved. 

PIE-52281 (IS_10.3_Core_Fix2)
Integration Server throws a NullPointerException during trigger pre-processing. 

When the document history database fails while Integration Server is in the
midst of pre-processing for a message received by a trigger, Integration Server
might throw a NullPointerException instead of the actual failure. This applies
to webMethods messaging triggers and JMS triggers. 

Now, Integration Server captures and logs the actual failure. 

PIE-52432 (IS_10.3_Core_Fix2)
Integration Server fails to save the nested object properties as part of Swagger
document definitions.

When you import a Swagger document, the document definitions contain nested 
object properties. Integration Server fails to store these nested object 
properties as part of REST definitions in the Swagger document. As a result, the
regenerated Swagger document does not contain the nested object properties.

The issue is now resolved. 

PIE-52533 (IS_10.3_Core_Fix2)
The OAuth token endpoint is not handling client credentials in token requests in
conformance with RFC 6749, the OAuth specification. 

This issue is now fixed. The token endpoint now handles client credentials as
follows. 

For confidential clients: 
- If credentials are not supplied in Authorization header, or they do not
identify an Integration Server user, the token endpoint returns a 401. 
- If credentials in the Authorization header do not match the client to which
the authorization_code was issued, the token endpoint returns a 400 and the
message "The authorization code supplied with the request was not issued to this
client." 
- If credentials in the Authorization header do not identify a registered OAuth
client, the token endpoint returns 400 with the message, "<username> does not
identify a registered client." 
  
For public clients 
- If a client_id is not supplied in the body of the request, the token endpoint
returns a 400 and the message, "Public OAuth clients must supply a client_id in
the body of the request." 
- If the client_id in body of request does not match the client to which the
authorization_code was issued, the token endpoint returns a 400 and the message
"The authorization code supplied with the request was not issued to this
client." 
- If the client_id in body of request does not identify a registered OAuth
client, the token endpoint returns 400 with the message, "<client_id> does not
identify a registered client." 

PIE-52535 (IS_10.3_Core_Fix2)
Number of waiting threads keep increasing in Integration Server for multiple 
Designer connects or disconnects.

Every time Designer connects or disconnects from an Integration Server instance,
a new waiting thread is added for Shutdown event. Multiple connects or
disconnects to same Integration Server instance increases the number of waiting 
threads and Integration Server eventually stops responding. 

This issue is resolved now. Now, for each Designer connection, there is 
only one waiting thread created in Integration Server to notify the Shutdown 
event.

PIE-52547 (IS_10.3_Core_Fix2)
Integration Cloud user sessions are not cleared from Integration Server even 
after after the user logs out. 

The in-memory mapping of Integration Cloud user and groups is not cleared from 
the Integration Server memory even after the user logs out. Therefore, later on 
when changing the user's access profile, which is sent as group in SAML, fails 
and the ACL permission model is not honoured. 

This issue is now resolved.

PIE-52558 (IS_10.3_Core_Fix2)
Integration Server fails to return empty array for resource collection.

Integration Server must respond to a successful request to fetch a resource
collection with an empty array ([]) as the response document's primary data.
Integration Server fails to return empty array for such requests to fetch one to
many relations.

This issue is now resolved.

PIE-52561 (IS_10.3_Core_Fix2)
Integration Server adds invalid self link while sending a JSON API response.

Integration Server incorrectly adds invalid self pagination link in JSON API 
response and the link does not match with the request URL.

This issue is now resolved.

PIE-52580 (IS_10.3_Core_Fix2)
Integration Server adds incorrect pagination links in resource documents.

Integration Server is generating incorrect pagination links for the link section
of the resource document.

This issue is now resolved.

PIE-52581 (IS_10.3_Core_Fix2)
Integration Server returns successful response for invalid sparse field query
parameter.

Integration Server fails to validate the format or data provided in sparse
fieldset query parameter as part of request to fetch resource. This result in 
successful response even when the query parameters are invalid.

This issue is now resolved.

PIE-52610 (IS_10.3_Core_Fix2)
Integration Server incorrectly accepts invalid JSON API request. 

Integration Server does not validate the request type parameter present in the 
resource document and hence accepts the requests with invalid request types. 

This issue is now resolved. Integration Server now validates the request type
parameter and rejects requests with invalid request types. 

PIE-52691 (IS_10.3_Core_Fix2)
When enhanced logging is configured for a specific trigger that uses a JMS
connection alias, the enhanced logging stops after the first message is
received. 

Integration Server stops writing log entries after the first message is received
if the JMS connection alias Consumer Message ID Tracking: Include Triggers
property contains the name of one or more triggers. 

This issue is now fixed.

PIE-52699 (IS_10.3_Core_Fix2)
Integration Server fails to receive the reply through pub.publish:publishAndWait 
if pub.publish:reply is not part of webMethods messaging trigger service.

While initiating a synchronous request/reply using pub.publish:publishAndWait
service, the same service fails to receive the response if the reply is not sent
through webMethods messaging trigger using pub.publish:reply. 

The issue is now resolved.

PIE-52830 (IS_10.3_Core_Fix2)
The Message History Sweeper task executes simultaneously on more than one
Integration Server in a cluster which results in locking issues in the database
component. 

This issue is resolved by limiting the Message History Task to running on one
Integration Server in cluster at a time. 

PIE-52854 (IS_10.3_Core_Fix2)
Integration Server SFTP sessions fail with error. 

In a multi-threaded environment, Integration Server SFTP client was generating 
same session id for multiple SFTP sessions due to which some threads failed 
with the following error:
"Integration Server does not support parallel command execution on a session". 
  
This issue is resolved. Now, Integration Server SFTP client does not generate 
same session id for multiple SFTP sessions.

PIE-52909 (IS_10.3_Core_Fix2)
Slower SSL caching under heavy load. 

Under heavy load, SSL session caching performance slows down that leads to 
blocking of multiple threads while caching the SSL sessions. This is because, 
Integration Server is dependent on iaik's DefaultSessionManager for SSL session 
caching, which internally uses HashTable and Vector to store the sessions. This 
slows down the caching and retrieval of sessions. 

The issue is resolved. Now, DefaultSessionManager is replaced with custom 
implementation that uses ConcurrentHashMap which is very fast compare to
HashTable. 

PIE-52937 (IS_10.3_Core_Fix2)
Integration Server does not highlight the text on the left navigation tree.

While navigating through the Integration Server Administrator interface using 
the Tab key, Integration Server does not highlight the text on the left 
navigation tree.

This issue is now resolved.

PIE-52942 (IS_10.3_Core_Fix2)
Integration Server displays incorrect error message while locally published 
document type is used in pub.publish:deliverAndWait service.

While publishing a document type through pub.publish:deliverAndWait that uses 
IS_LOCAL_CONNECTION, Integration Server incorrectly displays error message as 
"Deliver and Wait operation is not supported when connection alias type is DES".
It should display "Deliver and Wait operation is not supported when connection 
alias type is Local".

The issue is now resolved.

PIE-52943 (IS_10.3_Core_Fix2)
Integration Server incorrectly adds header and query parameter values to the
REST API request body in pipeline.

Integration Server builds the pipeline from the REST API request body and maps
the body structure with the document in the input signature. Integration Server
incorrectly adds the query and header parameters, that are passed in the REST
request to the same structure.

This issue is now resolved.

PIE-52947 (IS_10.3_Core_Fix2)
Integration Server does not add the root element in the XML response format for 
Swagger first resources.

While invoking an API with application/xml as accept type and XML response watt 
parameter being enabled, Integration Server does not add the required root 
element in the response code for Swagger first resources.

This issue is now resolved.

PIE-52961 (IS_10.3_Core_Fix2)
Integration Server connects directly to FTP server even when the proxy is
enabled. 

When SOCKs proxy is specified or used in an FTP service, instead of connecting 
to the FTP server through the proxy, Integration Server connects directly to the 
FTP server. 

This issue is now resolved.

PIE-52968 (IS_10.3_Core_Fix2)
The Selection property for the Catch step is editable even when no failures are
specified in the Failures property. 

The Selection property for the Catch step specifies whether the Catch step
catches exceptions that are included in or excluded from the list of exceptions
set in the Failures property. If the Failures property does not specify any
exceptions, the Selection property is not editable. This is not being enforced. 

Now, the Select property can be set only when the Failures property specifies
one or more exceptions. 

PIE-52973 (IS_10.3_Core_Fix2)
webMethods Messaging Trigger Details page in Integration Server Administrator
now includes the Provider Filter property. 

For a webMethods messaging trigger that receives messages from Universal
Messaging, the Provider Filter is the filter that Universal Messaging applies to
each instance of the publishable document type that it receives. Universal
Messaging enqueues the document for the trigger only if the filter criteria is
met. You specify a provider filter in a trigger condition. The webMethods
Messaging Trigger Detail Screen displays the Filter property for a trigger
condition, which, for triggers that receive messages from Universal Messaging,
is the local filter applied by Integration Server. The webMethods Messaging
Trigger Detail Screen now displays the Provider Filter as well. 

Note that the webMethods Messaging Trigger Details in Integration Server
Administrator is accessed via: Settings > Messaging > webMethods Messaging
Trigger Management > triggerName 

PIE-52977 (IS_10.3_Core_Fix2)
Integration Server throws NullPointerException while using include query option 
for JSON API resorces.

While fetching JSON API resources using the include query option, Integration 
Server throws NullPointerException.

This issue is now resolved.

PIE-52978 (IS_10.3_Core_Fix2)
Integration Server does not add the service invocation flow in the log while 
executing a JSON API request.

When Integration Server executes a JSON API request, it invokes multiple 
services to build the resource data. Integration Server does not log these 
service invocation details.

This issue is now resolved.

PIE-52984 (IS_10.3_Core_Fix2)
Integration Server shows incorrect error message for invalid sort parameters in
JSON API request.

Integration Server returns an error with incorrect usage details if invalid and
unsupported sort attributes are used as sort parameters.

The issue is now resolved.

PIE-53098 (IS_10.3_Core_Fix2)
When using Integration Server Administrator in Internet Explorer, scrolling does
not work for the screens under the Adapters menu. 

This issue is resolved.

PIE-53100 (IS_10.3_Core_Fix2)
The CPU is not scaling when caching is enabled for a service. 

When service caching is enabled for a service on Integration Server, the CPU is
not scaling under load testing. 

Now, CPU should scale under load testing when caching is enabled for a service. 

PIE-53115 (IS_10.3_Core_Fix2)
Integration Server fails to confirm the JSON API resource existence and returns
incorrect error status code.

While requesting a JSON API resource with a specific ID that does not exist,
Integration Server returns a success status code "200" incorrectly with "null"
as primary data in resource document. Integration Server must return failure
code "404" as non-existent of resource.

This issue is now resolved. 

PIE-53121 (IS_10.3_Core_Fix2)
Integration Server cannot generate the Swagger document and throws 
NullPointerException.

While renaming a REST API Descriptor and accessing the Swagger document through 
the Swagger URL, Integration Server throws an error 
'Swagger could not be generated'.

This issue is now resolved.

PIE-53144 (IS_10.3_Core_Fix2)
Very slow clients can hold onto connections indefinitely, tying up server
resources. 

Integration Server does not enforce a minimum rate at which data may be sent to
it. If several large requests are being sent very slowly, the requests can tie
up server resources, making resources unavailable to other clients. To address
this issue, Integration Server now includes the ability to set the minimum rate
at which data may arrive. This behavior is controlled by the new server
configuration parameter watt.security.min.bytesPerSecond. 

watt.security.min.bytesPerSecond
Specifies the minimum rate at which data may arrive at Integration Server. If
data arrives more slowly than the watt.security.min.bytesPerSecond value,
Integration Server rejects the request with a 408 Request Timeout error and then
closes the connection. Set this parameter to a value greater than 0 to enforce a
minimum rate of data arrival. The default value for
watt.security.min.bytesPerSecond is 0 which means that Integration Server does
not enforce a minimum rate of data arrival. Integration Server does not need to
be restarted for changes to this configuration parameter to take effect. 

Integration Server calculates the rate that bytes are received over each
connection in a moving window. The larger the window, the more accurate the
calculation will be. However, a large window allows very slow clients to hold
connections longer than is advisable for security purposes. Instead, Integration
Server uses a smaller  window which makes the calculation less accurate. As a
result, Integration Server's enforcement of the
watt.security.min.bytesPerSecond value is not precise. For example, when
watt.security.min.bytesPerSecond is 120, you may find that a client can
successfully transmit requests at 100 bytes per second, or that another client
may be forbidden to transmit requests at 135 bytes per second. 

Note that Integration Server determines the rate at which data is sent to it by
monitoring the rate at which it is reading data from the network connection. In
most cases, this is the rate at which the network is delivering the data.
However, there are some cases in which the data is not completely read by
Integration Server before invoking a requested service. Instead, a reference to
the incoming stream of bytes may be passed to the service which is responsible
for reading the data. In these cases, the service may be busy doing other
processing and could be reading the data more slowly than it is arriving over
the network. This can happen when XML is sent to Integration Server and
watt.server.http.xmlFormat is set to "stream", or when JSON is sent to
Integration Server and watt.server.http.jsonFormat is set to "stream". It can
also happen when using the node iterator feature of the pub.xml services. The
watt.security.min.bytesPerSecond value may need to be set to a lower value if
your application uses these features. 

Take care when setting the watt.security.min.bytesPerSecond configuration
parameter. If the parameter value is set too high, Integration Server may reject
legitimate requests being sent over a slow network. It is also possible to lock
yourself out of the Integration Server Administrator user interface by setting
the parameter too high. If this happens, you can try changing the configuration
parameter value by invoking the wm.server.admin:setSettings service with a
command-line HTTP client. If you are still unable to change the value of this
parameter, you need to  kill the Integration Server process, manually edit the
parameter in the IntegrationServer/instances/instanceName/config/server.cnf
file, and restart Integration Server. 

PIE-53152 (IS_10.3_Core_Fix2)
Integration Server generates decode errors for filter criteria of a JSON API
request.

Integration Server cannot identify the attribute path in a filter criteria of a
JSON API request because the path is built as linked list and generates class
cast exceptions.

This issue is now resolved. 

PIE-53153 (IS_10.3_Core_Fix2)
Integration Server does not execute the include relation feature properly for
JSON API resource.

If a JSON API resource has a unique identifier property named other than "id",
the include relation feature in Integration Server does not function properly
while fetching the resource.

This issue is now resolved.

PIE-53158 (IS_10.3_Core_Fix2)
Integration Server sometimes incorrectly generates service signature for JSON 
API resource. 

Integration Server cannot generate service signatures for JSON API resources. 
The output signature of the resource contains one-to-one cardinality and a 
document reference list and does not include some of the relationship URLs in 
the signature. Integration Server must change the cardinality to document 
reference or document reference list based on one-to-one or one-to-many 
relationship. 

The issue is now resolved.

PIE-53160 (IS_10.3_Core_Fix2)
The default value for "watt.server.coder.responseAsXML" parameter is changed to 
"true".

Integration Server must include a proper XML structure for the resource APIs 
that are invoked with accept type application/xml. To support this, the default 
value for "watt.server.coder.responseAsXML" parameter is changed to "true".

This issue is now resolved.

PIE-53184 (IS_10.3_Core_Fix2)
Integration Server throws NoSuchElementException while executing
pub.client:http. 

While creating a service using pub.client:http, Integration Server throws 
NoSuchElementException because the provider service responds with an empty 
header "www-authenticate:".

This issue is now resolved.

PIE-53200 (IS_10.3_Core_Fix2)
Integration Server does not receive requests sent from My webMethods Server 
(MWS). 

Integration Server cannot receive the complete request body sent from MWS and 
provide it to the corresponding service if the connection is slow. 

This issue is now resolved. 

PIE-53204 (IS_10.3_Core_Fix2)
In response to an HTTP request with an Expect header, Integration Server always
includes a session identifier in the Set-Cookie header of the "100 Continue"
response, even if the requested service is stateless. 

When an HTTP request includes an Expect header, Integration Server includes a
session identifier in the Set-Cookie header of the "100 Continue" response, even
if the requested service is stateless. When the client uses this session
identifier on a subsequent request, the request is rejected with a 401 response. 

This has been fixed. An "100 Continue" response no longer includes Set-Cookie
headers. 

PIE-53207 (IS_10.3_Core_Fix2)
If the pub.report:runStringTemplate service fails because of an Access Denied
error, subsequent flow steps fail with the same error. 

For any service invoked within the template specified for the
pub.report:runStringTemplate, Integration Server ensures that the client
invoking the pub.report:runStringTemplate service has execute access by checking
the ACL of the client against the service. However an uncaught exception left
ACL checking enabled for services called by subsequent flow steps. 

This issue is now fixed. 

PIE-53292 (IS_10.3_Core_Fix2)
After Integration Server user deployed to Integration Cloud, 
NullPointerException message is getting printed on error log. 

When deploying Integration Server user to Integration Cloud, Integration Server 
throws NullPointerException in the error log file even after the user is 
deployed. 
   
The issue is now resolved. 

PIE-53306 (IS_10.3_Core_Fix2)
Variable Substitution view displays internal property names instead of user
friendly names. 

The Variable Substitution view in Designer now displays the user friendly names
instead of internal names for the following properties: 

-	disallowActivePackageInstall is now Disallow Active Package Install.
-	packageExecutionCheck is now Package Execution Check.

PIE-53310 (IS_10.3_Core_Fix2)
For deployment, the label of the global property for synchronizing document
types for a package is incorrect. 

The label of the property that determines whether document types in a package
are synchronized with the webMethods messaging provider (Broker or Universal
Messaging) during deployment is misleading as it implies the option is limited
to Broker. 

With this fix, the property label "Synchronize Document Types To Broker During
Deployment" is renamed to "Synchronize Document Types During Deployment". 

Note that the property itself is still named syncDocTypesToBroker. This fix
changes the label only. 

PIE-53362 (IS_10.3_Core_Fix2)
Integration Server removes the self links for relationships added for JSON API
resources.

While sorting the results, Integration Server removes the self links for the
relationships added for JSON API resources.

This issue is now resolved.

PIE-53363 (IS_10.3_Core_Fix2)
Integration Server does not add the root element in the response format for REST
APIs.

For application/xml media type, Integration Server does not add the required 
root element in the response code for REST APIs.

This issue is now resolved.

PIE-53373 (IS_10.3_Core_Fix2)
OAuth client is able to use authorization code grant and implicit grant even if
those grant types are not selected on the Allowed Grants field. 

The Allowed Grants field on the OAuth Client Registration page in Integration
Server Administrator indicates which OAuth grants the client is allowed to use.
When Authorization Code Grant or Implicit Grant is not selected, the client is
not allowed to use the authorization code grant or implicit grant, respectively.
However, Integration Server is not enforcing this. The client is able to use
these grants even though they are not included in the set of grants the client
is configured to be able to use. 

The Allowed Grants field is now enforced for all OAuth grant types.

PIE-53390 (IS_10.3_Core_Fix2)
Integration Server does not preserve 'xmlns:xsi' and 'xmlns:tns'
namespaces. 

While using pub.xml:xmlNodeToDocument service with a specified document type 
having 'Allow Unspecified Field = False', Integration Server does not
preserve 'xmlns:xsi' and 'xmlns:tns' namespaces in the output.

This issue is now resolved.

PIE-53391 (IS_10.3_Core_Fix2)
Package installation fails when installing a package with a higher version of a
package over a lower one. 

The issue is now resolved. 

PIE-53395 (IS_10.3_Core_Fix2)
Integration Server incorrectly considers page offset as page number query 
parameter.

For JSON API requests, Integration Server must consider page number for 
pagination but incorrectly considers page offset as query parameter.

This issue is now resolved.

PIE-53436 (IS_10.3_Core_Fix2)
Integration Server hangs while retrieving the host key from SFTP server. 

The issue occurs when the authentication method is gssapi-with-mic. Since 
Integration Server supports only password authentication and public key 
authentication for authentication itself as the client to the SFTP server, 
other authentication methods are removed from the preferred authentication list. 

The issue is now resolved.  

PIE-53475 (IS_10.3_Core_Fix2)
Enhancement to Integration Server to provide service monitoring capabilities 
across a cluster.

Integration Server provides service monitoring capabilities by using root 
services. Currently, service monitoring data is available only for the 
Integration Server on which the root service is executed. This is an issue when 
more than one Integration Server form a cluster and service monitoring data is 
required for the entire cluster and not just for a single instance in the
cluster. 

To resolve this issue, Integration Server introduces a new server configuration 
parameter, watt.server.serviceMonitor.queryOnServerId that specifies monitoring 
capabilities for the entire stateful cluster and not just for a single instance 
of the cluster. When the value for this parameter is set to true, then server ID 
will be included in the query and only that server's data are available for 
monitoring. If the value for this parameter is set to false, the server ID is 
excluded from the query and the entire cluster is considered as a single entity. 
The new parameter must be set to the same value on every member of the cluster. 
There is no default value for this parameter. You must restart 
Integration Server for changes to this parameter to take effect.

PIE-53529 (IS_10.3_Core_Fix2)
Within a Try, Catch, or Finally step, an Exit step set to exit from $parent and
signal failure sometimes reflects the wrong exception to the parent flow step. 

This issue is now fixed. 

PIE-53548 (IS_10.3_Core_Fix2)
Integration Server fails to sort the related JSON API resources and throws class
cast error.

While fetching JSON API resorces sorted with one to many related resorces, 
Integration Server throws class cast error.

This issue is now resolved. Integration Server does not support to sort by one 
to many resource and shows proper error message.

PIE-53549 (IS_10.3_Core_Fix2)
Integration Server fails to sort the JSON API result and throws stack overflow 
exception.

While fetching the JSON API resources with sorting enabled, Integration Server 
throws stack overflow error.

This issue is now resolved.

PIE-53550 (IS_10.3_Core_Fix2)
Integration Server adds invalid self pagination link for a JSON API response.

While fetching a JSON API response for a resource with pagination enabled, 
Integration Server incorrectly builds the response with invalid self pagination 
link.

This issue is now resolved.

PIE-53620 (IS_10.3_Core_Fix2)
Some facilities in Integration Server used the deprecated version of a UUID
generator instead of the current version. 

This issue is now fixed. 

PIE-53627 (IS_10.3_Core_Fix2)
Disabling an Exit step in a Try step may affect the behavior of an enabled Exit
step in an associated Catch or Finally step. 

This issue is now fixed. 

PIE-53639 (IS_10.3_Core_Fix2)
Integration Server does not fetch JSON API response with 'one to many' resource 
fields as attributes.

Integration Server throws error while fetching JSON API response for a resource 
that contains 'one to many' related resource fields.

This issue is now resolved.

PIE-53640 (IS_10.3_Core_Fix2)
The Server > Statistics page shows a negative number for Completed Req's and
Average Time. 

In Integration Server Administrator the Completed Req's and Average Time
fields on the Server > Statistics page display a negative number when the
statistic value is larger than an integer. 

To resolve this issue, the Completed Req's and Average Time fields now use a
long data type. 

PIE-53711 (IS_10.3_Core_Fix2)
Integration Sever migration utility does not migrate artifacts for the WmSAP
adapter. 

The migration utility now migrates the required artifacts for the WmSAP adapter. 

PIE-53774 (IS_10.3_Core_Fix2)
Unable to deploy ACLs to Integration Cloud.

When deploying ACLs from Integration Server to Integration Cloud, only the 
ACLs without "Allowed" and "Denied" group lists gets deployed.

The issue is now resolved. Now all the ACLs available in Integration Server 
will get deployed to Integration Cloud.

PIE-53789 (IS_10.3_Core_Fix2)
Changes in the visualization of timestamp details. 

Timestamp that specifies the start time and the end time when the message in 
the sequence was transmitted was rendered incorrectly for each bar in bar-graph. 

The issue is now resolved. The creation of timestamp will reflect more 
numerical columns to display the timestamp details correctly. 

PIE-53837 (IS_10.3_Core_Fix2)
Central user group names internally defined is not visible in SPM and 
Command Central. 

When central users and groups are configured in Integration Server, the SPM and
Command Central do not show group names although the groups (local, central and
LDAP) are available in Integration Server. 

The issue is now resolved. SPM and Command Central now display all internally 
defined groups.

PIE-53850 (IS_10.3_Core_Fix2)
The Catch step does not work properly when the Selection property is set to
EXCLUDE and the Failures property specifies multiple failure names. 

This issue is now fixed. 

PIE-53878 (IS_10.3_Core_Fix2)
Integration Server Administrator page does not respond when "Show threads that
can be canceled or killed at the top of the list" check box is selected in
Chrome browser.

While launching the Integration Server Administrator page in Chrome browser and 
selecting the checkbox "Show threads that can be canceled or killed at the top 
of the list" under "Server > Statistics > System Threads", Integration Server 
does not respond. After selecting the checkbox, the list is not updated even 
though the list contains active Threads that can be killed.

This issue is now resolved.

PIE-53957 (IS_10.3_Core_Fix2)
The flow step information is not returned by pub.flow:getLastError. 

When an Exit step that is configured to signal failure does not specify a
failure name, the Exit step defaults to the com.wm.lang.flow.Failure. If the
failure propagates to the top-level of a flow service, Integration Server
converts the com.wm.lang.flow.Failure into a com.wm.lang.flow.FlowException.
This conversion maintains compatibility with prior versions of the webMethods
flow language. However, the conversion process loses the flow step information
returned by pub.flow:getLastError in the field lastError\callStack\flowStep
field. 

This issue is now resolved. 

PIE-54110 (IS_10.3_Core_Fix2)
After the transition from Daylight Saving Time (DST) to standard time in some
time zones, the scheduler suspended tasks. 

After the transition from DST to standard time, the scheduler suspended tasks
which prevented the tasks from executing. This issue occurs only in some time
zones. 

This issue has been resolved. 

Note: After this issue was found, Software AG provided a workaround which
required editing Extended Settings to include:
watt.server.scheduler.legacyScheduler=true. After applying this fix, either
remove watt.server.scheduler.legacyScheduler=true from Extended Settings or set
property watt.server.scheduler.legacyScheduler=false. You do not need to restart
Integration Server for changes to this parameter to take effect. 

PIE-53282 (IS_10.3_Core_Fix1)
Change to Integration Server migration utility to preserve the previous 
behavior of the pub.flow:savePipelineToFile and pub.flow:restorePipelineFromFile
services. 

Beginning with Integration Server 10.3, the pub.flow:savePipelineToFile and 
pub.flow:restorePipelineFromFile services were made more secure by changing 
the default behavior to prevent the services from saving or loading files outside 
of the default pipeline directory. By default, the pub.flow:savePipelineToFile 
can only save files to the default pipeline directory and directories in the 
allowedWritePaths parameter in the fileAccessControl.cnf file. Similarly, by 
default, the pub.flow:restorePipelineFromFile service can only read files from 
the default pipeline directory and directories in the allowedReadPaths parameter 
in the fileAccessControl.cnf file. The following server configuration parameters 
control the behavior: 

watt.server.checkPath.savePipelineToFile 
watt.server.checkPath.restorePipelineFromFile 

The default value for each parameter is true, which requires that 
pub.flow:savePipelineToFile and pub.flow:restorePipelineFromFile services access 
only files listed in the allowedWritePaths and allowedReadPaths parameters, 
respectively, in the fileAccessControl.cnf file. This is the more secure behavior.
However, for migrated services, the default behavior may cause exceptions similar
to the following: 

com.wm.app.b2b.server.ServiceException: [ISS.0086.9263] Specified path [path] is not
on the [allowedReadPaths] allowed list in the fileAccessControl configuration file 

Setting the watt.server.checkPath.savePipelineToFile and 
watt.server.checkPath.restorePipelineFromFile parameters to false would result in the 
behavior available in previous releases and would prevent exceptions like the above 
from appearing. 

To address this issue, the Integration Server Migration Utility now includes an
option to modify the values of watt.server.checkPath.savePipelineToFile and
watt.server.checkPath.restorePipelineFromFiles during migration. 

Note: The default pipeline directory is 
Integration Server_directory/instances/instance_name/pipeline 
Note: The fileAccessControl.cnf file is located in the following directory:
Integration Server_directory/instances/instance_name/packages/WmPublic/config 

PIE-53293 (IS_10.3_Core_Fix1)
After restart, Integration Sever invalidates all active OAuth access tokens. 

When Integration Server restarts, Integration Server does not load active OAuth
access tokens from the database. As a result, all active access tokens become 
invalid after Integration Server restart. 

This issue is now resolved.

PIE-53255 (IS_10.3_Core_Fix1)
The pub.string:urlEncode service encodes the @ symbol but did not in previous releases. 

This pub.string:urlEncode service now behaves as it did in previous releases, which means 
that the @ symbol is not encoded.

PIE-52559 (IS_10.3_Core_Fix1)
Auto deploy system task is part of Microservices Runtime installation. 

The Auto deploy system task checks for the license using isMicroServicesContainer 
instead of isMicroServicesLicensed. This is wrong and will return true only if 
Microservices Runtime is installed, whereas isMicroservicesLicensed would return 
true if Integration Server or Microservices Runtime is licensed. 

The issue is now resolved.

PIE-50452 (IS_10.3_Core_Fix1)
Sensitive information disclosed in responses of Integration Server Administrator 
while creating a keystore alias. 

The issue is resolved now.

PIE-52895 (IS_10.3_Core_Fix1)
When executing a service from Integration Server Administrator, some 
information appears in clear text that should not. 

This issue is fixed.

PIE-53178 (IS_10.3_Core_Fix1)
Integration Server now supports the service monitoring 
capabilities of Integration Server root services on Integration Cloud for 
deployment. Integration Cloud can invoke these root services that will enable 
you to monitor the solution landscape.



8.0 Installation

Install using Software AG Update Manager. For instructions, see the 
documentation at http://documentation.softwareag.com

Note: After installing IS_10.3_Core_Fix7 and higher verify that the below properties have
been added under ${SoftwareAG103Install}/profiles/{is.profiles}/configuration/custom_wrapper.conf
	  wrapper.jvm_exit.timeout=300
	  wrapper.shutdown.timeout=300
If the above properties are not added, use a text file to open custom_wrapper.conf and 
add the properties manually.



9.0 Uninstallation

Note: These instructions can only be used to uninstall the most recently installed fix. This action 
will revert your installation to the previously installed fix. You cannot use these instructions to 
uninstall the previously installed fix.

Uninstall using Software AG Update Manager. For instructions, see the documentation at 
http://documentation.softwareag.com.



10.0 Globalization

This fix conforms to the internationalization standards of the webMethods 
product suite and includes support for operation in any country, locale, or 
language as specified in the Installing webMethods Products guide. It was 
tested with non-English configurations and non-ASCII data.


10.1 Localization

This fix does not require an updated language pack. It might contain new 
messages and these messages will appear in English.



11.0 Copyright

Copyright @ 2021  Software AG, Darmstadt, Germany and/or Software AG USA Inc., 
Reston, VA, USA, and/or its subsidiariesand/or its affiliates and/or their 
licensors.

The name Software AG and all Software AG product names are either trademarks 
or registered trademarks of Software AG and/or Software AG USA Inc. 
and/or its subsidiaries and/or its affiliates and/or their licensors. 
Other company and product names mentioned herein may be trademarks of their 
respective owners.

Detailed information on trademarks and patents owned by Software AG and/or 
its subsidiaries is located at http://softwareag.com/licenses.

Use of this software is subject to adherence to Software AG's licensing 
conditions and terms. These terms are part of the product documentation, 
located at http://documentation.softwareag.com/legal/ and/or in the 
root installation directory of the licensed product(s).

This software may include portions of third-party products. For third-party 
copyright notices, license terms, additional rights or restrictions, please 
refer to "License Texts, Copyright Notices and Disclaimers of Third Party 
Products". For certain specific third-party license restrictions, please 
refer to section E of the Legal Notices available under "License Terms
and Conditions for Use of Software AG Products / Copyright and Trademark 
Notices of Software AG Products". These documents are part of the product 
documentation, located at http://softwareag.com/licenses and/or in the root 
installation directory of the licensed product(s).




































