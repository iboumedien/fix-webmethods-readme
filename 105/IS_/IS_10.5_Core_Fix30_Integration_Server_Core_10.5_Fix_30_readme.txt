                  webMethods Integration Server 10.5 Core Fix 30 readme
                 webMethods Integration Server 10.5 Client Fix 30 readme

                                December 2024                                                      

________________________________________________________________________________

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements and Dependencies
5.0   Platform Support
6.0   Cautions and Warnings
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization
11.0  Copyright
________________________________________________________________________________


1.0 Fix Name

webMethods Integration Server 10.5 Core Fix 30.



2.0 Fix ID

IS_10.5_Core_Fix30



3.0 Product(s)/Component(s) Affected

This fix affects webMethods Integration Server 10.5.



4.0 Requirements and Dependencies

IS_10.5_Migration_Fix2
MTA_10.5_Fix2
TPP_10.5_Misc_Fix2
IS_10.5_Database_Fix4
IS_10.5_EmbeddedDB_Fix3
WSC_10.5_Security_Fix1
TPP_10.5_Loggers_Fix2
TPP_10.5_BaseSecurity_Fix2
OGI_10.5_Updater_Fix1
TPP_10.5_GlassFish_Fix4
TPS_10.5_GlassFish_Fix11
SIN_10.5_Fix12
ZSL_10.5_Fix1
TPP_10.5_Parsers_Fix13 


Fixes are cumulative. Therefore, for each of the listed fixes, you can install 
the specified fix or later.

For language pack requirements, see the Globalization section of 
the Software AG Empower Product Support website at https://empower.softwareag.com/Products/Globalization/default.asp



5.0 Platform Support

webMethods Integration Server 10.5 Core Fix 30 is supported on the 
same platforms and operating systems and with the same JREs as webMethods 
Integration Server 10.5.



6.0 Cautions and Warnings

To complete remediation of the critical security vulnerabilities (CVE-2021-45046
and CVE-2021-44228) found in Apache Log4j 2.x, you must install Platform 10.5.0
Fix 0018 (OGI_10.5_Fix18) and Shared Libraries Loggers 10.5 Fix 2
(TPP_10.5_Loggers_Fix2) with a fix that includes PIE-73331 (IS_10.5_Core_Fix13
and above). Note that Microservices Runtime requires only TPP_10.5_Loggers_Fix2;
it does not require OGI_10.5_Fix18.

If you want to uninstall IS_10.5_Core_Fix30 from Integration Server, you must
first uninstall Platform 10.5.0 Fix 0018 (OGI_10.5_Fix18). If you do not,
uninstalling IS_10.5_Core_Fix30 fails.

If you uninstall IS_10.5_Core_Fix30 from Integration Server or Microservices
Runtime, you must uninstall Shared Libraries Loggers 10.5 Fix 2 
(TPP_10.5_Loggers_Fix2) at the same time. If you do not, Integration Server will 
not start after uninstalling IS_10.5_Core_Fix30.

Support for deploying a Universal Messaging connection alias was added in 
PIE-63275 which is included in IS_10.5_Core_Fix6. This fix depends on 
installation DEP_10.5_Fix4 for the icon for the Universal Messaging connection 
alias to appear in Deployer. However, the presence or absence of the icon does 
not affect the ability to successfully deploy a Universal Messaging connection 
alias once a fix containing PIE-63275 is installed.

To complete resolution of PIE-66920, after applying a fix that includes PIE-66920, 
you must do the following for each publishable document type that contains 
multiple document reference variables with the same name but different document 
type references: edit the publishable document type, save it, and then 
synchronize it with Universal Messaging. This will generate a new protocol 
buffer descriptor and synchronize it with the definition on Universal Messaging.

If Integration Server uses central user management which is provided through 
My webMethods Server, you must keep the common libraries provided by 
My webMethods Server up to date. To obtain the current changes to the common 
libraries, install the latest My webMethods Server fix located under 
Common Libraries in Software AG Update Manager.

If ActiveTransfer is a layered product for the Integration Server to which
IS_10.5_Core_Fix15 fix or higher is applied, you must apply webMethods
ActiveTransfer Server 10.5 Fix 16 (MAT_10.5_Server_Fix16) or higher as well.
This requirement is due to changes made in PIE-70913 to resolve security issues.
If the ActiveTransfer fix is not applied, authentication for an ActiveTransfer
user will fail.

For Integration Server to start up successfully after uninstalling
Integration Server Core 10.5 Fix 30, first uninstall
the Security Infrastructure 10.5 Fix 12 and ZSL 10.5 Fix 1.
Then, uninstall the Integration Server Core 10.5 Fix 30 and Shared Libraries
BaseSecurity 10.5 Fix 2. See section 9.0 Uninstallation for more details.



7.0 Fix Contents

PIE-90782
Fix archives accumulate in the IntegrationServer/replicate/archive 
directory using additional disk space on the user's system.

This issue is resolved. Now, Update Manager deletes the fix
archives to free up disk space.

PIE-93984
Upgrade of graphql-java.jar file.

The graphql-java.jar is now upgraded to version 19.11. The previous version was
17.5. 

The upgraded graphql-java.jar file resolves the following security
vulnerabilities: 

- CVE-2024-40094 (https://nvd.nist.gov/vuln/detail/CVE-2024-40094)
- CVE-2023-2976
(https://ossindex.sonatype.org/vulnerability/CVE-2023-2976?component-type=maven&component-name=com.google.guava/guava)

PIE-94420
Metering changes to support internal product codes.

PIE-94635
Users can access Integration Server Administrator with an expired password.

Integration Server allows users to access Integration Server Administrator with
an expired password without prompting them to change it, despite
configuring and enabling password expiration settings.

This issue is now resolved. Users must change their expired password to log in
to Integration Server Administrator.

PIE-94971
Updates to webMethods Metering to ensure that services in the
WmAgileAppsDeployer, WmDeployerResource, WmLogUtil, and WmTNExtDC packages are
not counted for metering purposes. 

Note: The WmTnExtDC package has been removed as of webMethods Integration Server
11.1. 

PIE-87607 (IS_10.5_Core_Fix29)
After initial login to Integration Server through LDAP fails due to an 
intermittent issue, subsequent login attempts also fail.

When the initial login to Integration Server through LDAP fails due to an
intermittent issue, subsequent login attempts to Integration Server also fail, 
requiring a server restart. However, even after restarting Integration Server, 
the connection is only briefly established before it is lost again.

This issue is now resolved.

PIE-87807 (IS_10.5_Core_Fix29)
Integration Server does not collect UM client logs and integrationlive 
configurations as part of diagnostics data. 

This issue is resolved. Now, Integration Server includes the umClient.log files 
and the .cnf files from config/integrationlive in the diagnostics.

PIE-92334 (IS_10.5_Core_Fix29)
Integration Server has a security vulnerability that allows a
Developer user to create a user and grant administrator privileges.

A user with Developer privileges can create a scheduled task using a
built-in service to add a user and run the task, even without permission
to invoke the service. Similarly, the Developer user can add a user
to the Administrators group making Integration Server vulnerable
to security risks.

This issue is resolved. Now, Integration Server provides the
watt.server.scheduler.checkUserAcl server configuration parameter
to validate a user invoking the service in a scheduled task.

watt.server.scheduler.checkUserAcl
Indicates whether Integration Server verifies if a user has Execute ACL
permission for a scheduler service. Set this parameter to true to enable
the verification or false to disable it. The default value is true.

You do not need to restart the server for the changes to the parameter
to take effect.

PIE-92369 (IS_10.5_Core_Fix29)
The wm.xslt.File:save service in Integration Server has an access control flaw
that exposes the server to security risks.

A developer user has Execute ACL permission for the wm.xslt.File:save service,
allowing the user to perform sensitive administrative tasks, making the server
insecure.

This issue is resolved. Now, only administrator users have the Execute ACL
permissions for the wm.xslt.File:save service.

PIE-93180 (IS_10.5_Core_Fix29)
SOAP handler services are generating metering data but should not.

This issue is resolved. webMethods Metering no longer generates metering data
for SOAP handler services. 

PIE-93338 (IS_10.5_Core_Fix29)
Integration Server does not include security headers in HTTP responses.
 
When the legacy Integration Server Administrator
(http://localhost:{port}/WmRoot) receives an anonymous HTTP request and returns 
an "ACCESS DENIED" response, Integration Server does not include security headers 
such as HTTP Strict Transport Security (HSTS) in those responses.
 
This issue is now resolved.

PIE-93865 (IS_10.5_Core_Fix29)
The pub.report:runTemplate service can return the contents of files located
outside of the specified input package but should not. 

Now the pub.report:runTemplate service can only return the contents of files in
the templates or pub directories for the package specified in the $package input
parameter. 

PIE-86607 (IS_10.5_Core_Fix28)
After upgrading the Mavericks JAR, Integration Server does not use the
sftpLicenseKey.cnf file in the IntegrationServer\instances\default\config\sftp
folder of the installation. Therefore, the file is removed.

PIE-86812 (IS_10.5_Core_Fix28)
Integration Server 10.5 blocks incoming payload requests that include certain
file types (for example, .pdf or .png) within multipart/form-data as SQL
injection violation. 

Integration Server blocks payload requests containing specific file types 
(for example, .pdf or .png) as an SQL injection violation. Moreover, if 
incoming payload requests include such file types within multipart/form-data,
Integration Server 10.5 blocks the request at Enterprise Gateway because
multipart/form-data is not supported by the Enterprise Gateway rules. 

The issue is now resolved. If you want to instruct Integration Server to 
bypass validation for any specific content type against the SQL injection, use 
watt.server.enterprisegateway.SQLinjection.ignoreContentType system
configuration parameter. 

PIE-87446 (IS_10.5_Core_Fix28)
The SFTP Version 2 client in Integration Server does not support Public key 
authentication with ED25519 keys.

The maverick JAR used in Integration Server for the SFTP Version 2 client is 
now upgraded from 1.7.34 to 1.7.55

PIE-87548 (IS_10.5_Core_Fix28)
Updates to Nimbus-JSE-JWT jar to resolve security vulnerability.

Integration Server now includes the nimbus-jose-jwt-9.37.3.jar file which
resolves the following security vulnerability: 

CVE-2023-52428

The previous version of the jar file was: nimbus-jose-jwt-8.5.1.jar

PIE-88415 (IS_10.5_Core_Fix28)
Integration Server fails to create a connection to an SFTP server when the SFTP
user alias is created based on values in the application.properties file.

When the application.properties file specifies the authentication type as
public key for an SFTP user, and the SFTP client version as v1,
Integration Server fails to create a connection to an SFTP server and throws
NullPointerException but succeeds when the SFTP client version is v2.

This issue is now resolved.

PIE-88499 (IS_10.5_Core_Fix28)
Addition of new class to the Integration Server whitelist.

Integration Server maintains a list of classes for which Java objects can be 
loaded and deserialized. Now, the whitelistclasses.xml file includes the
com.wm.app.b2b.server.jms.ResourceUnavailableException class.

PIE-92521 (IS_10.5_Core_Fix28)
Integration Server explicitly disabled the CSRFGuard feature for the
Administrator API. This is no longer necessary since
wm.admin.controller:execute, the entry point for the Administrator API, has an
Anonymous Execute ACL. CSRFGuard is not used for services that allow anonymous
access. 

PIE-76115 (IS_10.5_Core_Fix27)
Integration Server throws "425 Unable to build data connection: TLS session of 
data connection not resumed." while executing pub.client.ftp:ls. 

Integration Server does not honor the watt.security.ssl.resumeClientSessions 
server configuration parameter. Hence, the pub.client.ftp:ls service fails to 
build a data connection. 

This issue is now resolved.

PIE-85555 (IS_10.5_Core_Fix27)
Login failure in Integration Server Administrator with HTTP 500 error.

This issue is now resolved.

PIE-86815 (IS_10.5_Core_Fix27)
The sample.xslt:transformToString service in the WmXSLT package is susceptible 
to XML External Entity (XXE) injection.

This issue is now resolved by introducing the watt.core.xml.loadExternalEntities 
server configuration parameter with the default value as false. 
If the parameter is set to false, the service ignores any external entities 
referenced in the input.

Note: If the parameter is set to true, the service parses the external entity 
references, which makes Integration Server vulnerable to XXE injection.

You do not need to restart the server for the changes to take effect.

PIE-85423 (IS_10.5_Core_Fix26)
Integration Server incorrectly names the first server log file after
a rollover.

When configuring size-based rollover for server log using the 
watt.server.serverlogRotateSize server configuration parameter, 
Integration Server incorrectly uses the previous day's date in the 
filename of the first log file after the rollover.

This issue is resolved. Integration Server now uses the current date in 
the filename of the first server log file after the rollover.

PIE-85589 (IS_10.5_Core_Fix26)
JMS connection cannot be enabled if it uses a JNDI alias configured to use a
JBoss provider. 

When a JNDI alias is configured to use JBoss as the provider, attempts to enable
a JMS connection that use the JNDI alias fail with the exception
"javax.net.ssl.SSLException: Unsupported signature algorithm:
rsa_pss_rsae_sha256". 

This issue is now resolved. Integration Server successfully starts a JMS
connection alias that uses a JNDI provider configured to use a JBoss provider. 

PIE-86212 (IS_10.5_Core_Fix26)
The pub.xslt.Transformations:transformSerialXML service fails to transform an 
XML document with the "JAXP: Error instantiating transformer" error.

The Xalan 2.7.3 XSLT processor that the service uses to transform XML documents 
causes the error.

This issue is now resolved through changes to the service.

PIE-86235 (IS_10.5_Core_Fix26)
A request to send an empty file to an FTPS server using the pub.client.ftp:put
service in Integration Server results in an exception.

This issue is now resolved.

PIE-86542 (IS_10.5_Core_Fix26)
Updated jar files for Spring Boot Actuator.

The jar files for spring-boot-actuator have been updated to version 2.7.18.
The previous version was 2.7.12

Upgrading to version 2.7.18 resolves the following vulnerability:

https://nvd.nist.gov/vuln/detail/CVE-2023-34055

PIE-86845 (IS_10.5_Core_Fix26)
Deletion sets do not work as expected for repository-based project deployment.

When deploying a repository-based project to the target Integration Server, 
deletion sets fail to work as expected, resulting in a NullPointerException.

This issue is now resolved.

PIE-78908 (IS_10.5_Core_Fix25)
Service requests to Enterprise Gateway server fail when the 
Enterprise Gateway (EG) port is disabled for one of the internal Integration 
Servers.

The Enterprise Gateway server has issues in the retransmission logic related 
to content length calculation and verification, which results in service request 
failures.

This issue is now resolved.

PIE-82732 (IS_10.5_Core_Fix25)
Integration Server throws DataStoreException while processing a JSON 
request. 

After upgrading the Jackson libraries, Integration Server fails to process JSON
strings that exceed 1,000,000 characters in length because of the maximum length
limit of the upgraded libraries. 

This issue is resolved. Now, Integration Server provides the  
watt.server.json.decode.maxStringLength parameter to override the limit on 
maximum string length. The default value is 20,000,000. You must restart 
Integration Server for changes to this parameter to take effect.

PIE-83025 (IS_10.5_Core_Fix25)
Integration Server queries users of an LDAP group during ACL
management, which leads to a delay in service invocations.

This issue is resolved by introducing the watt.server.ldap.queryUsersForGroup
server configuration parameter that specifies whether Integration Server
queries users of an LDAP group. When the parameter is set to true and LDAP is configured,
Integration Server queries the LDAP server to retrieve the users of an LDAP group. 
When the parameter is set to false, Integration Server does not query the LDAP 
server. The default value is false. You do not need to restart Integration Server 
for changes to this parameter to take effect.

PIE-84291 (IS_10.5_Core_Fix25)
Migrating to a higher version of Integration Server fails and the following
appears in the migration.log: Error while initializing JDBC configuration files.
Error message: null. 

This issue is now resolved. 

PIE-84629 (IS_10.5_Core_Fix25)
Integration Server Administrator console has the vulnerability to content 
injection attacks.

When a client application makes an invalid HTTP request to Integration Server, 
the response to the request contains the invalid URL, which can be misused to 
perform a text injection attack by presenting a customized message to the
application. 

This issue is resolved. Integration Server provides the 
"watt.server.http.404.responseWithURL" server configuration parameter that 
controls the response messages to invalid HTTP requests. 

watt.server.http.404.responseWithURL

Specifies whether Integration Server adds the requested resource name to the 
404 response when a HTTP client sends an invalid URL request. If the parameter
is set to true, Integration Server responds with "Object Not Found (URL name)". 
If the parameter set to false, Integration Server responds with "Object Not
Found". The default value is true. 

You need not restart Integration Server for the changes to the parameter 
to take effect.

PIE-84750 (IS_10.5_Core_Fix25)
Setting up an SFTP connection using the application.properties file fails
when the file uses a private key without the passphrase.

The issue is resolved. Now, you can use a private key without the passphrase
in the application.properties file to set up an SFTP connection. This behavior
is similar to that of Integration Server Administrator.

PIE-85214 (IS_10.5_Core_Fix25)
Integration Server does not start after applying a fix that includes PIE-76261.
 
A conflict between old SAML libraries and the upgraded ESAPI 2.4.0.0 libraries
included with PIE-76261 resulted in incompatible classes being used for ESAPI
security configuration. 
 
This issue has been resolved by setting the security configuration to a
compatible class. 

PIE-85312 (IS_10.5_Core_Fix25)
A value placed in cache by a pub.cache* service cannot be retrieved with the key
if a com.wm.data.IData object was used as the key. 
 
If an IData object was used as the key when placing a value in cache using a
pub.cache* service, later attempts to retrieve the value using the same key
might fail. This occurs because IData objects are mutable. 
 
To address this issue, Integration Server now includes the server configuration
parameter watt.server.cache.iDataKey.toString that specifies whether a
com.wm.data.IData object used as a key in one of the pub.cache* services is
converted to an immutable String before accessing the cache. Set to true to
convert an IData object used as a key to a String. Set to false to keep the key
as an IData object. The default is true. 
 
Integration Server does not need to be restarted for changes to this parameter
to take effect. 
 
Important! If the IData object is modified after it has been used as a key,
Integration Server will not be able to retrieve values stored with the key
regardless of the value of watt.server.cache.iDataKey.toString. 
 
Software AG does not recommend using an IData object as a key with a cache as
IData objects are mutable. Instead, use a java.lang.String object as a key. 

PIE-85433 (IS_10.5_Core_Fix25)
During Integration Server migration from 10.5 to 10.15, the migration
utility throws "java.nio.file.NoSuchFileException" for files at random
while copying packages to the target instance.

This issue is now resolved.

PIE-80279 (IS_10.5_Core_Fix24)
Security log entries list Administrator as the user who performed the audited
action when the logged in user is an LDAP user. 

This issue is resolved. The security log now lists the user in the session that
performed the audited action. 

PIE-82302 (IS_10.5_Core_Fix24)
A startup delay in seen in solutions like WxConfig. 

The issue is now resolved by adding an input parameter to  
the root services that load users from ACL. The default value of the parameter
is "true" for backward compatibility. The parameter allows you to optionally
exclude loading users from the ACL to enable faster loading of startup services 
of solutions like WxConfig.

PIE-82634 (IS_10.5_Core_Fix24)
Integration Server throws "AADSTS700082: The refresh token has 
expired due to inactivity." while enabling the disabled email ports.

When configuring email ports in Integration Server with 
OAuth authentication, you receive a refresh token along with the access token.
Such a refresh token is valid for 90 days but continues to work until revoked if
used continuously. Restarting Integration Server after 90 days causes
authentication issues, leaving the email port disabled. 

This issue is now resolved.

PIE-83212 (IS_10.5_Core_Fix24)
If Integration Server receives a request with an invalid URL and a Cookie header
that identifies a session, subsequent requests that use the session are rejected
with a 401 status code. 

When a request with an invalid URL is sent to Integration Server, and the
request includes a Cookie header that identifies a session, the session becomes
unusable. Integration Server rejects all subsequent requests that use the
session with a 401 status code. 

This issue has been resolved. When a request with an invalid URL is sent to
Integration Server, it is rejected but the session is retained and can be used
in subsequent requests. 

PIE-83348 (IS_10.5_Core_Fix24)
The MAC algorithm configuration in an SFTP Server Alias is not retained after
restarting Integration Server. 

This issue is now resolved.

PIE-83560 (IS_10.5_Core_Fix24)
Legacy Integration Server Administrator displays an error message for a failed
metering dry run despite the success of the most recent metering dry run. 

The legacy Integration Server Administrator displays the error message "MTA
status failing for: Dry run." at the top even though the most recent metering
dry run check finished with a success status of true. 

This issue is now resolved.

PIE-83995 (IS_10.5_Core_Fix24)
The Jetty library in Integration Server installation has security
vulnerabilities. 
For more information, see the reports at
https://eclipse.dev/jetty/security_reports.php 

This issue is now resolved. The Jetty library is upgraded to the latest version.

PIE-76455 (IS_10.5_Core_Fix23)
Integration Server Docker images do not use the latest Tanuki wrapper.

The Integration Server Docker images do not use the latest Tanuki 
wrapper updated using the Integration Server Tanuki fixes despite following 
the OS-specific instructions in the Integration Server Tanuki fixes.

This issue is now resolved by automating the manual instructions 
for Docker image creation.

PIE-78336 (IS_10.5_Core_Fix23)
Integration Server uses the graphql-java-9.4.0.jar library, which has the
CVE-2022-37734 vulnerability. For details about the vulnerability, see
https://nvd.nist.gov/vuln/detail/CVE- 2022-37734 

The issue is resolved. Now, Integration Server uses "graphql-java-17.5.0.jar" 
to address the vulnerability. 

Important: The updated JAR requires significant modifications to the schema 
definitions that were created based on previous versions of the JAR. The 
updated JAR imposes several constraints that affect your schema definitions. 
For example:

Implementing multiple interfaces requires using "&" as a separator instead of a 
comma. 
Two interfaces cannot have a common field name.
Defining a new field by extending a type, interface, or input type is not
permitted. 
Extended scalar types such as Long, Short, Char, BigDecimal, BigInteger are not
implicitly supported. 
Depending on the impact of the updated JAR on your current implementation, you
may need to recreate existing assets or redefine the schema. Given that the 
updated JAR introduces breaking changes, it is strongly recommended that you 
contact Software AG support for assistance with your GraphQL workflows.

PIE-79351 (IS_10.5_Core_Fix23)
As part of this fix, Integration Server supports OAuth based authentication for 
email notifications.

Procedure

1. Log on to Integration Server Administrator.
2. Go to Settings > Resources.
3. Click Edit Resource Settings and enter the following details to configure  
   OAuth based authentication for email notifications. 

- Username - Type the e-mail address of the account that Integration Server uses 
to connect to the SMTP server.
- Authentication - Specify the type of authentication that Integration Server
should use to connect to the specified e-mail server. 
- Select Basic Authentication if you want to authenticate the user on the 
specified e-mail server with only login credentials (username and password). 
- Select OAuth to authenticate the user on the specified e-mail server using 
the credentials issued by the OAuth server.
Note: Only the Authorization Code grant type is supported for OAuth.
      To obtain the OAuth credentials for Integration Server, you must first 
      register Integration Server with the OAuth Server. For details about 
      registering an application and obtaining the OAuth credentials, see 
      your authorization server's documentation.
- Password - Type the password associated with the username that identifies you 
on the SMTP server. This field applies only to Basic Authentication.
- Auth URL - Specify the URL of the email provider or endpoint that Integration 
Server uses to request authorization code. This field applies only to OAuth.
- Client ID - Specify the unique public identifier that the OAuth server 
generates for Integration Server during registration. This field applies only to 
OAuth.
- Client Secret - Specify a unique string that the OAuth server provides to 
Integration Server. It is known only to Integration Server and the authorization 
server. This field applies only to OAuth.
- Scope - Specify the mail server access permissions configured for Integration 
Server during registration. You can specify multiple scopes separated by a
space. This field applies only to OAuth.
- Access Token URL - Specify the URL that Integration Server must use to request 
an access token from the OAuth server. This field applies only to OAuth.
- Redirect URL - Specify the URL that the OAuth server uses to send
authentication responses to Integration Server. This field applies only to OAuth.
- If you access Integration Server locally, enter the redirect URL in one of 
the applicable formats:
        "http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp"
        "https://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp"
         - If you access Integration Server remotely, use 
        "https://{ISHostName}:{port}/WmRoot/security-oauth-get-authcode.dsp" 
- Get Authorization Code - Click Get Authorization Code to receive a unique
string from the OAuth Server that Integration Server requires to request an access 
token. A new window prompts for user credentials. After a successful login, an 
authorization code is sent to the redirect URL.
Alternatively, you can obtain the authorization code manually in scenarios that 
do not allow you to obtain the authorization code through Integration Server 
Administrator.
To obtain the authorization code manually, send a request through a browser in 
the format:
<URL of an
emailprovider>/<TenantID>/oauth2/authorize?response_type=code&prompt=login& 
redirect_uri="http://host:port/WmRoot/securityoauth-get-authcode.dsp&client_id= 
    <clientID>&scope=<scope>"
Here, response_type is set to code to inform the OAuth server that Integration 
Server expects an authorization code as the response at the mentioned 
redirect_uri.
    Note: Since the code generated is valid only for one-time usage, get the 
          authorization code each time you update the OAuth relevant fields.
- Access Token Expiry Time - This field is displayed specifying the time until 
when an access token issued to Integration Server is valid. This field applies 
only to OAuth. This is a read-only field displayed based on the access token. 
- Token Refresh Interval - Specifies the time interval in minutes at which 
the cron job is scheduled to fetch a new access token. The access token and the 
refresh token are issued the first time you save the settings for email 
notifications. Thereafter, the scheduled cron job refreshes and fetches the 
access token using the refresh token, ensuring that a valid access token is used 
to send mails. The default is 15 minutes.
	Note: If the access token expires, the user needs to give consent again using 
          login credentials and regenerate the tokens by editing the Email 
		  Notification Settings.
Click Save Changes to update the server with the new or changed email 
notification settings. Your changes take effect immediately, and you start 
receiving emails in case of any errors. In addition, the Access Token Expiry
Time is displayed.

Alternatively, you can set all the email notification parameters using the 
following new server configuration parameters.
You do not need to restart Integration Server for changes to these parameters to
take effect.

- watt.server.smtp.authentication.type - Specifies the type of authentication 
that Integration Server should use to connect to the specified e-mail server. 
Select Basic Authentication or OAuth.
- watt.server.smtp.oauth.accessTokenURL - Specifies the URL that Integration 
Server must use to request an access token from the OAuth server.
- watt.server.smtp.oauth.authorizationCode - Specifies the authorization code 
used to get an access token manually in scenarios where browser support is 
unavailable.
- watt.server.smtp.oauth.authURL - Specifies the URL of the email provider or 
endpoint that Integration Server uses to request authorization code.
- watt.server.smtp.oauth.clientID - Specifies the unique public identifier the 
OAuth server generates for Integration Server during registration.
- watt.server.smtp.oauth.clientSecret - Specifies a unique string that the OAuth 
server provides to Integration Server while registering Integration Server as 
an application. It is known only to Integration Server and the authorization 
server.
- watt.server.smtp.oauth.redirectURL - Specifies the URL that the OAuth server 
uses to send authentication responses to Integration Server.
- watt.server.smtp.oauth.token.refreshInterval - Specifies the time interval in 
minutes the cron job is scheduled to fetch a new access token. The default is 
15 minutes to fetch a new access token by using the refresh token and setting 
it for email notification settings.
- watt.server.smtp.oauth.scope - Specifies the mail server access permissions 
configured for Integration Server during registration. You can specify multiple 
scopes separated by a space.

PIE-79729 (IS_10.5_Core_Fix23)
Changes in how Integration Server handles the expiration of cached OAuth tokens
and the removal of expired OAuth tokens from the database. 

Prior to this fix, the removal of an expired OAuth token from the database was
linked to the expiration of cached OAuth tokens. Now, Integration Server handles
these two activities separately. 

Expiration and removal of expired OAuth tokens from cache

The elements in the OAuthTokens cache and the OAuthAccessTokens cache have a
time-to-live. When the time-to-live elapses, Ehcache evicts the elements.
However, Ehcache does not usually remove the elements from the cache as soon as
they expire. Instead, Ehcache removes expired elements when it needs to make
room for new elements. Previously, Integration Server explicitly removed expired
access tokens from the token cache. Now, Integration Server relies on Ehcache to
remove expired elements. 

Removing expired OAuth tokens from the database

Prior to this fix, Integration Server listened for notifications about expired
OAuth access tokens from Ehcache. In response to a notification, Integration
Server deleted the access token from the database. Now, Integration Server no
longer listens for these notifications. When an OAuth token expires in Ehcache,
Integration Server does not delete the token from the database. Instead,
Integration Server uses the scheduled system task Expired OAuth Token Cleanup to
remove expired tokens. This system task, which is added to Integration Server to
resolve PIE-79139, executes the pub.oauth:removeExpiredAccessTokens service at a
regular interval. See the description of PIE-79139 for details on how to control
the frequency and behavior of the Expired OAuth Token Cleanup scheduled system
task. 

In addition to the above changes, the process Integration Server uses to delete
expired tokens form a database has changed. The
pub.oauth:removeExpiredAccessTokens service deletes expired access tokens from
the database by performing a series of delete operations in the database.
Previously, the pub.oauth:removeExpiredAccessTokens service used a single SQL
statement that involved multiple database tables. If the database contains a
very large number of expired access tokens, the token deletion can take several
minutes, tying up database resources and impacting system performance. Now,
Integration Server deletes the expired tokens in batches. The size of the
batches defaults to 1000. Use the new server configuration property
watt.server.oauth.token.removal.batchSize to change the batch size. A change to
the value of watt.server.oauth.token.removal.batchSize takes effect the next
time pub.oauth:removeExpiredAccessTokens executes. Integration Server does not
need to be restarted for changes to this parameter to take effect. 

Note: Take care when making the batch size much larger than the default of 1000.
As each row is deleted, the database will create a row-level lock. A database
may choose to escalate multiple row-level locks to a single table-level lock if
it determines that an operation is creating too many locks. A large batch size
can influence a database to escalate row-level locks. This can increase the
chance of a deadlock in the database. 

As a result of the changes introduced in this fix, the
watt.server.oauth.tokenRemoval.queueCapacity configuration parameter, which was
added for PIE-71548, is now obsolete. This parameter limited the queue size for
notifications about expired OAuth access token. Integration Server no longer
links removal of expired tokens from the database to notifications for expired
access tokens, making a queue for notifications about expired tokens
unnecessary. Integration Server ignores the
watt.server.oauth.tokenRemoval.queueCapacity parameter. 

PIE-80611 (IS_10.5_Core_Fix23)
Packages are not loaded in order during repository-based deployment, which might
result in package corruption. 

This issue is resolved now. Packages are now loaded in order during
repository-based deployment. 

PIE-80791 (IS_10.5_Core_Fix23)
The pub.client:ftp service returns the error message "Could not connect to ftp 
server: java.lang.NumberFormatException: Cannot parse null string". 

Integration Server fails to connect to an FTP server through a SocksProxy 
server when proxyAlias is not specified as input to the pub.client:ftp service. 

This issue is resolved now.

PIE-80840 (IS_10.5_Core_Fix23)
After applying a fix that includes PIE-72765, Integration Server logs a 
javax.net.ssl.SSLPeerUnverifiedException in the server log when executing a 
service.

When executing a service from a browser or a DSP page, Integration Server logs 
the following SSL authentication error in the server log:
javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated.

This issue is caused by changes made to internal files for PIE-72765. 
However, the log message is not correct.

This issue is now resolved. Integration Server no longer writes the message when 
executing a service from a browser or a DSP.

PIE-81159 (IS_10.5_Core_Fix23)
Integration Server does not honor the 'timeout' input parameter in the 
'pub.client:soapClient' service. 

When sending a message using the 'pub.client:soapClient' service, Integration 
Server considers the value of "watt.server.soapjms.request.timeout" 
instead of the 'timeout' input parameter specified in the service. 

This issue is now resolved.

PIE-81173 (IS_10.5_Core_Fix23)
Integration Server now provides alert emails for hybrid connectivity.

When an account connection or a tenant connection is disconnected
or restored, Integration Server notifies the user by an email.
You can configure the hybrid connectivity email notifications using
the watt.wmcloud.hybridConnectivityAlert.notifications server configuration
parameter and the recipients of the notification emails using 
the watt.wmcloud.hybridConnectivityAlert.mail server configuration parameter.

Integration Server uses the email notification settings configured in
Integration Server Administrator > Settings > Resources.

watt.wmcloud.hybridConnectivityAlert.mail
Specifies the list of email addresses to which Integration Server sends emails
about errors and warnings related to the connection status between Integration 
Server and webMethods Cloud. Use a semicolon ( ; ) as a delimiter to specify 
multiple email addresses. By default, the parameter value is blank.

watt.wmcloud.hybridConnectivityAlert.notifications
Specifies whether Integration Server generates notifications and notifies users
when a tenant connection or an account for webMethods Cloud is disconnected or 
restored. The parameter can have one of the following values:

email: Integration Server sends an email to the user.
none: Integration Server does not notify the user.

Note: If you are using any value other than email or none, Integration 
Server notifies the user through an email. By default, the parameter value is 
blank.

Integration Server restart is not required for changes to these parameters to 
take effect.

In addition, the HybridConnections health indicator is added to track
the status of hybrid connections.
HybridConnections: Checks all the listed tenant connection
aliases and associated accounts for webMethods Cloud. Returns a status of UP if
all of the listed tenant connections and associated accounts are UP.
Returns a status of DOWN if any of the listed tenant or account connections are
down. The health indicator includes individual statuses for tenant connections
and associated accounts, along with the overall hybrid connection status.
If an enabled tenant connection does not have an account alias or the account
alias is not enabled, the health indicator does not list the tenant alias.
If a tenant connection is disabled and the associated account is enabled, the
health indicator shows the account status. 

PIE-81276 (IS_10.5_Core_Fix23)
If the SFTP client in Integration Server implements OpenSSH 8 or later, 
clicking "Get Host Key" in an SFTP server alias returns the host key with ecdsa-
sha2-nistp256 as the prefix. However, ecdsa-sha2-nistp256 is not part of the 
prefixes validated by Integration Server. Hence, Integration Server throws 
corrupt or unknown public key format error.

This issue is now resolved by including ecdsa-sha2-nistp256 in the list of 
prefixes validated by Integration Server.

PIE-81394 (IS_10.5_Core_Fix23)
The REST API responses from Integration Server are not completely
HTML-encoded.

Invoking a REST API with the "Accept: application/xml" header returns invalid
XML responses because Integration Server fails to return HTML entities for the
pre-defined character entities in XML, such as <, >, &, 
and so on in the response data.

This issue is now resolved.

PIE-81477 (IS_10.5_Core_Fix23)
Integration Server returns empty responses for improperly formed SOAP XML 
requests.

This issue is resolved. Now, Integration Server returns the appropriate error 
message instead of empty responses.

PIE-81575 (IS_10.5_Core_Fix23)
Repository-based package deployments result in wrong ACL configurations 
on the target Integration Server.

This issue is now resolved.

PIE-81707 (IS_10.5_Core_Fix23)
Blocked services lead to performance degradation in Integration Server
connected to a slow SFTP server.

When multiple services in Integration Server connect to SFTP servers, the 
service that connects to a slow SFTP server blocks the rest. 

This issue is now resolved.

PIE-81953 (IS_10.5_Core_Fix23)
The json-smart library in Integration Server has the CVE-2023-1370 security 
vulnerability. 
 
The json-smart-2.4.7.jar library in Integration Server is upgraded to json-
smart-2.4.10.jar to resolve the CVE-2023-1370 security vulnerability. 
For more information, see https://nvd.nist.gov/vuln/detail/CVE-2023-1370

PIE-81983 (IS_10.5_Core_Fix23)
Updates to webMethods Metering to ensure that services in the WmCDS, WmDeployer,
and WmTaskClient packages are not counted for metering purposes. 

PIE-82061 (IS_10.5_Core_Fix23)
After applying a fix that includes PIE-77728,  executing the pub.io:reset 
service results in the "java.io.IOException: Stream closed" error.

The resolution for PIE-77728 changed the pub.io:streamToString service to close 
the input stream. Consequently, if the pub.io:reset service uses the same
inputStream used by pub.io:streamToString, the pub.io:reset service fails 
because the stream is already closed. The pub.io:reset service ends with the
error: java.io.IOException: Stream closed.

To resolve this issue, the pub.io:streamToString service no longer closes the 
inputStream. Invoke pub.io:close to close the input stream.

PIE-82236 (IS_10.5_Core_Fix23)
The Auto Package Deployer system task in Integration Server fails to 
automatically deploy updated packages to a server.

This issue is now resolved.

PIE-82323 (IS_10.5_Core_Fix23)
Integration Server hosted on Software AG Cloud throws the 
following exception for the hybrid health indicator as the wmCloud 
package is unavailable:

"HybridConnections" :
{ "exception" : "com.wm.app.b2b.server.UnknownServiceException: [ISS.0026.9201]
Unknown service:
wm.client.integrationlive.health.HybridConnectionHealth:getConnectionHealthStatus",
"status" : "DOWN"} 

This issue is resolved. Now, Integration Server does not check the 
HybridConnections health indicator when the wmCloud package is unavailable.

PIE-82325 (IS_10.5_Core_Fix23)
The configuration variables template file (application.properties) does not have 
the properties necessary to configure the SFTP server and user aliases. Hence,
Integration Server cannot connect to an SFTP server using application.properties. 

This issue is resolved. The application.properties file now contains the 
following properties.

SFTP User Alias properties

sftpuser.aliasName.authenticationType : password or public key.
sftpuser.aliasName.privateKeyFileLocation : location of the private key if 
authenticationType is public key.
sftpuser.aliasName.strictHostKeyChecking : yes or no.
sftpuser.aliasName.passPhrase : passphrase generated while creating the private 
key.

SFTP Server Alias properties

sftpserver.aliasName.version : v1 or v2
sftpserver.aliasName.preferredKeyExchangeAlgorithm: key exchange algorithms 
separated by a comma.
sftpserver.aliasName.hostKey : location of the public key of the SFTP server.
sftpserver.aliasName.preferredMACS2C : preferred Mac S2C algorithms separated by
a comma. 
sftpserver.aliasName.preferredMACC2S : preferred Mac C2S algorithms separated by
a comma. 
sftpserver.aliasName.preferredCiphersS2C : preferred S2C ciphers separated by a
comma. 
sftpserver.aliasName.preferredCiphersC2S : preferred C2S  ciphers separated by a
comma. 
sftpserver.aliasName.minDHKeySize=Integer value representing the key size in
bytes. 
For example, 1024
sftpserver.aliasName.maxDHKeySize=Integer value representing the key size in
bytes. 
For example, 8192

PIE-82401 (IS_10.5_Core_Fix23)
Deploying SFTP connections through the application.properties file fails if one 
of the SFTP user aliases in the file has a corrupt password.

This issue is resolved. Now, only the SFTP user aliases with a properly 
encrypted password and passphrase are deployed, while the aliases with 
a corrupt password are ignored.

PIE-82903 (IS_10.5_Core_Fix23)
Changes to webMethods Metering for hybrid integration.

The webMethods Metering Agent considers execution of top-level user-defined
services to be metered transactions. For metering purposes, a hybrid integration
in which webMethods Cloud invokes a service residing on an on-premise
Integration Server does not count as a metered transaction despite it being a
top-level service invocation. 

PIE-83329 (IS_10.5_Core_Fix23)
After applying the fix that includes PIE-80101, LDAP fails to work. 

Applying the fix incorrectly changes the sequence in which the connection 
timeout and extended properties are used. 

This issue is now resolved. 

PIE-83359 (IS_10.5_Core_Fix23)
Updated jar files for Spring Boot Actuator.

The jar files for spring-boot-actuator have been updated to version 2.7.12.

The previous versions were as follows:

- 10.15: 2.3.11
- 10.11: 2.3.11
- 10.7: 2.3.0
- 10.5: 2.3.0

Upgrading to version 2.7.12 resolves the following vulnerability:

CVE-2023-20883 (https://nvd.nist.gov/vuln/detail/CVE-2023-20883)

PIE-72765 (IS_10.5_Core_Fix22)
Upgrade the Entrust Toolkit included with Integration Server to version 8.1.20.

Integration Server now uses Entrust Toolkit 8.1.20. This upgrade has the
following impacts: 

- An Integration Server to which the latest Java fixes were applied no longer
fails at startup due to a java.lang.ExceptionInInitializerError. This error
occurred because the latest Java fixes provided by Software AG did not allow any
jar file signed with the deprecated SHA1 algorithm to be loaded. Previously,
Integration Server used Entrust Toolkit 8.0.33 which was signed with the SHA1
algorithm. This prevented Integration Server from starting up successfully if
the latest Java fixes were applied. 
- JSSE is used for secured inbound and outbound communication. Previously, use
of JSSE for secured inbound and outbound communications was the default, but
optional. If JSSE was not used, the iaik.security.ssl package in the Entrust
IAIK library provided in Entrust Toolkit 8.0.33 was used to establish the
connection. However, Entrust Toolkit 8.1.20, which Integration Server now uses,
no longer supports the iaik.security.ssl package. Use of JSSE is more secure. In
accordance with this change, the Use JSSE options have been removed from port
configuration pages in Integration Server Administrator, useJSSE input fields
have been removed from built-in services in WmPublic, and server configuration
parameters related to using Entrust to establish a connection have been removed.
For a detailed list of impacted services, port configurations, and server
configuration parameters, see below. 

Note: If you need Integration Server to use TLSv1 to communicate with a legacy
server, you need to edit the java.security file used by the JVM. For more
information about editing the java.security file, refer to the JVM
documentation. 

Impacted Built-In Services
The following services no longer include a useJSSE input parameter as all
outbound connections use JSSE. The useJSSE parameter may still appear in the
pipeline, however, Integration Server ignores the value, proceeding as if
useJSSE were set to yes: 
- pub.alert.notifier:create The smtpSender/secure/useJSSE input parameter has
been removed. 
- pub.alert.notifier:update The smtpSender/secure/useJSSE input parameter has
been removed. 
- pub.alert.notifier:list The smtpSender/secure/useJSSE output parameter has
been removed. 
- pub.client:http The useJSSE input parameter has been removed.
- pub.client:smtp The useJSSE input parameter has been removed.
- pub.client:soapClient The useJSSE input parameter has been removed.
- pub.client:ftp The secure/useJSSE input parameter has been removed
- pub.client.ftp:login The secure/useJSSE input parameter has been removed.
 
Removed Server Configuration Parameters
- watt.net.ssl.client.cipherSuiteList
- watt.net.ssl.client.ftps.useJSSE
- watt.net.ssl.client.handshake.maxVersion
- watt.net.ssl.client.handshake.minVersion
- watt.net.ssl.client.strongcipheronly
- watt.net.ssl.client.useJSSE
- watt.net.ssl.email.client.useJSSE
- watt.net.ssl.email.client.smtp.useJSSE
- watt.net.ssl.server.cipherSuiteList
- watt.net.ssl.server.handshake.maxVersion
- watt.net.ssl.server.handshake.minVersion
- watt.net.ssl.server.strongcipheronly

In addition to the removed server configuration parameters above, the existing 
parameter watt.net.socketProvider now has a default value of 
com.wm.ext.jsse.JSSESecureSocketFactory. Prior to this fix, the default value 
was com.wm.ext.iaik.IaikSecureSocket. 

PIE-75952 (IS_10.5_Core_Fix22)
Unexpected runtime pipeline if a try-catch construct executes an Exit step
configured to exit $flow and signal failure. 

When using the Try flow step or Sequence step to handle errors, an unexpected
pipeline state occurs when a Loop step is used. Specifically, the pipeline
contains the Loop input array as a scalar variable instead of the original array
when the following series of events occurs: 

- The Try or Sequence step invokes a flow step that contains a child Loop step
- The child Loop step contains an Exit step configured to exit from the $flow
and signal failure 
- The Exit step executes at run time

In the case of a Sequence step or Try step that invokes a flow step containing
the described Loop step, if the child Loop step exits and signals failure, the
pipeline captured by the pub.flow:getLastError service contains the state of the
pipeline in the middle of Loop step execution. The service returns the input
array as a scalar variable rather than the original array. This is a change from
the behavior available in Integration Server versions prior to 10.3 which
returned the original array with the pub.flow:getLastError service. 

In addition to the scenario described above, the Try step exhibits a similar
pipeline corruption issue when the following series of events occurs: 

- The Try step contains a flow step that invokes child Loop step
- The Loop step is configured to exit $flow and signal failure
- The Try step fails at run time.

The resulting pipeline contains a scalar variable instead of the array variable
used for the input array of the Loop step. The pipeline should contain an array
variable for the Loop input array. 
 
With this fix, the dimension of the Loop input array parameter will not change
after the Loop step exits and signals failure. 

PIE-77771 (IS_10.5_Core_Fix22)
Integration Server throws the following error while connecting to an SFTP 
server: "com.wm.app.b2b.server.sftp.client.SFTPClientException: 
com.sshtools.publickey.InvalidPassphraseException: 
com.maverick.ssh.SshIOException". 

Consider that Integration Server uses the newer SFTP client (version 2) and the 
ED25519 type SSH key pair to connect to an SFTP server. The connection fails 
with SFTPClientException as the maverick-client-1.7.23.jar used by the SFTP 
client lacks support for the ED25519 key signature and SFTP servers that 
support crypto policy. 

This issue is resolved. Applying the fix upgrades the maverick-client-
1.7.23.jar to 1.7.34, which supports the ED25519 key signature. However, the 
upgraded SFTP client does not support authentication keys in the SSH2 format. 
Additionally, the hmac-sha256, hmac-sha256@ssh.com, hmac-sha512, hmac-
sha512@ssh.com, hmac-ripemd160, hmac-ripemd160@openssh.com, hmac-ripemd160-
etm@openssh.com MAC algorithms are not supported. Therefore, for an existing 
server alias, exclude the unsupported MAC algorithms, fetch the host key, and 
save the changes. 

The newer SFTP client (version 2) supports OpenSSH format host keys, and the 
existing key may be in the unsupported SSH2 format. Therefore, testing the 
server alias may throw an error. To avoid the error, regenerate the host key in 
the OpenSSH format, and use the "Get Host Key" button to get the regenerated 
key for the server alias. Similarly, fetch the latest host key if you are 
migrating from an older version of Integration Server, or updating a server 
alias in Integration Server Administrator. 

Once the server alias is successfully created or updated, test whether the user 
alias works with the host key. If testing the user alias results in 
java.security.NoSuchProviderException, add the 
org.bouncycastle.jce.provider.BouncyCastleProvider security provider class in 
Integration Server Administrator > Security > Keystore > Add Security Provider.

PIE-78672 (IS_10.5_Core_Fix22)
Integration Server logs custom fault messages returned by a provider service
in the error log.

When a provider service returns the custom fault messages, Integration Server
logs such custom fault messages in the error log file.

The issue is resolved. Now, Integration Server introduces the 
watt.server.soap.suppressFaultAsError server configuration parameter that helps 
control whether custom fault messages are logged or not.
 
watt.server.soap.suppressFaultAsError - Set to true to prevent Integration 
Server from logging the custom fault messages in the error log. Set to false to 
log custom fault messages as errors. The default value is false.
 
If you update the parameter value, you need not restart Integration Server for 
the changes to take effect.
 
Note: Although Integration Server suppresses custom log messages when the 
parameter is true, the service error count on the Statistics page in 
Integration Server Administrator includes the custom fault messages.

PIE-79205 (IS_10.5_Core_Fix22)
Integration Server throws "java.lang.NumberFormatException" while 
creating a Rest API Descriptor (RAD) from a REST resource that 
references a service signature with date or time variables 
having minimum and maximum values. 

Swagger specification does not support minimum and maximum values 
for date and time variables. Hence, Integration Server fails to 
create a RAD based on Swagger specification and a REST resource 
that references a service signature with date or time variables 
having minimum and maximum values. 

This issue is resolved. Now, Integration Server ignores the minimum 
and maximum values for date and time variables while creating the RAD. 

Note: If Integration Server and Designer are installed in different 
directories, run Update Manager to install the Integration Server client 
fix in the directory where Designer is installed.

PIE-79219 (IS_10.5_Core_Fix22)
User session data is lost while invoking a REST connector service. 

When you invoke a REST connector service generated from a Swagger 
document, Integration Server creates a new session that does not 
use the data from the current session, resulting in data loss. 

This issue is resolved. Now, Integration Server does not create a new session 
but retains the data from the current session while executing the REST 
connector service.

PIE-79765 (IS_10.5_Core_Fix22)
Creating a consumer REST API Descriptor (RAD) from a Swagger document 
generates a connector service that returns an empty response body.

When you create a consumer RAD in Integration Server 
from a Swagger document that has a default response object, Integration
Server does not create a document from the default response object 
schema in the output of the generated connector service. 
Additionally, if you run the connector service, and the output 
has a response code that is not defined as a response object 
in the Swagger document, the response body is empty.

This issue is resolved. Now, Integration Server returns a document 
generated from the default response object schema at runtime.

PIE-79820 (IS_10.5_Core_Fix22)
The status of service invocation from Designer is unknown as the result is
empty. 

When "watt.server.http.returnException" is set to false, Integration Server 
returns an empty result on the failure of service invocation from Designer.
Hence, users do not know whether the service failed or succeeded. 

This issue is resolved. Now, Integration Server returns an error message 
instead of an empty result when a service fails.

PIE-80050 (IS_10.5_Core_Fix22)
The "pub.string:substitutePipelineVariables" service does not substitute a 
variable with its value. 

While using the "pub.string:substitutePipelineVariables" service, if the 
'inString' input parameter takes a document array pipeline variable (for 
example, %doc[0]/name%) as the value, the service does not substitute the 
variable with its corresponding value. 

The issue is now resolved.

PIE-80101 (IS_10.5_Core_Fix22)
A delay in Integration Server startup when Integration Server uses LDAP. 

When Integration Server uses an LDAP server, Integration Server queries the 
LDAP server at startup with exhaustive filters for group and user, resulting in 
a delay. 

This issue is resolved. Now, Integration Server provides new server 
configuration parameters to set the object class for user and group filters, 
when querying an LDAP server. Each LDAP server has a different object class for 
defining the user and group filter. For example, the user filter for Active
Directory is "objectclass=user". The user filter for Oracle Directory Server 
is "objectclass=person". 

Server configuration parameters: 

watt.server.ldap.groupObjectClass - Specifies the LDAP object class for the 
group filter. The default value is "group". The other allowed values are 
"groupofnames" and "groupofuniquenames". 

watt.server.ldap.userObjectClass - Specifies the LDAP object class for the 
user filter. The default value is "user".  The other allowed values are 
"person", "inetOrgPerson", and  "organizationalPerson". 

You do not need to restart Integration Server for changes to this parameter to 
take effect.

PIE-80157 (IS_10.5_Core_Fix22)
Responses from Integration server are not completely HTML-encoded. 

Integration Server must return HTML-encoded entities corresponding to all 
characters, including (< > " ' ) in the responses. 

This issue is now resolved.

PIE-80315 (IS_10.5_Core_Fix22)
Integration Server now includes protobuf-java_3.19.6.jar, which addresses
security-related vulnerabilities existing in earlier versions of the jar file. 

The following security vulnerability has been reported against
protobuf-java_3.12.2.jar: CVE-2022-3171 

Integration Server now includes protobuf-java_3.19.6.jar for Protocol Buffers,
which resolves the identified security vulnerability. 

PIE-74826 (IS_10.5_Core_Fix21)
The Auto Package Deployer system task in Integration Server fails to 
automatically deploy updated packages to a server.

This issue is now resolved.

PIE-75742 (IS_10.5_Core_Fix21)
An ICAP client does not honor the Preview header sent in the ICAP OPTIONS 
response and requires a Transfer-* header. 

RFC (https://www.rfc-editor.org/rfc/rfc3507.html#section-4.5) does not mention 
that the Preview header must have a Transfer-*. To affect a Preview, an ICAP 
client must add a "Preview:" header to its request headers defining the length 
of the preview. 

This issue is now resolved.

PIE-77687 (IS_10.5_Core_Fix21)
Designer exhibits slow response time while deleting, renaming, and copying 
elements when the Integration Server namespace contains REST resources 
and REST API descriptors.

After applying this fix, Integration Server shows an improvement in 
the amount of time required to delete, rename, and copy elements when 
REST resources and REST API descriptors are present.

PIE-78256 (IS_10.5_Core_Fix21)
During Integration Server migration from 10.5 to 10.11, the migration utility 
throws "java.nio.file.FileAlreadyExistsException" for files at random while 
copying packages to the target instance. 

This issue is now resolved.

PIE-78417 (IS_10.5_Core_Fix21)
After applying a fix that included PIE-72514, deployment sometimes fails with an
exception about deletion of artifacts. 

The solution for PIE-72514 introduced new logic for copying Deployer artifacts
into an Integration Sever installation. However, some of the streams used for
file copy operations were not properly closed, resulting in failed deployments
and an exception like the following: 

Exception: [ISS.0088.9112] An Exception was thrown in the server:[ISS.0085.9345]
Deletion of artifacts delivered for deployment ID <deployment_ID> failed with an
exception. For more information, see the Integration Server logs. 

This issue now fixed. Streams for file copy operations are now properly closed.

PIE-78564 (IS_10.5_Core_Fix21)
A request to log into Integration Server via the Integration Server
Administrator API results in a response with an extra Set-Cookie headers. 

The response to a log in request sent via the Integration Server Administrator
API contains two Set-Cookie headers. One Set-Cookie header holds a null ssnid
attribute. The other Set-Cookie header contains the ssnid attribute set to the
actual session ID. 

This issue is now resolved. Integration Server no longer includes the Set-Cookie
header with a null ssnid in the response to a login request. 

PIE-78569 (IS_10.5_Core_Fix21)
Using Integration Server to create a URL alias that contains the reserved
directive wm-message can prevent Designer from connecting to Integration Server. 
 
A URL alias cannot contain a directive reserved for use by Integration Server
such as invoke, wm-message, admin, or rest. Designer might not be able to
connect to Integration Server if a URL alias contains a reserved directive. 
 
Integration Server now performs validation checks that prevent the creation of a
URL alias that uses the reserved directive wm-message. Additionally, Integration
Server provides more logging for the server log and security log when creating
or editing URL alias. 

PIE-79135 (IS_10.5_Core_Fix21)
Integration Server fails to process a request URL that includes a URL alias.

Integration Server does not resolve a request URL that includes a URL alias 
similar to other URL aliases. For example, if the following URL aliases exist, 
Integration Server cannot resolve a request URL that includes one of the 
aliases:
a/b
a/b/c
a/b/d

This issue is now resolved.

PIE-79159 (IS_10.5_Core_Fix21)
Integration Server fails to get a connection from the JDBC connection pool 
after editing the pool alias. 

When the Spy Diagnostics feature is enabled and the database URL uses an 
SQLServer URL with instanceName instead of the port , editing the JDBC
connection pool alias from Integration Server Administrator adds a space to the 
spyParms attribute in the pool configuration file (alias.xml). As a result, 
Integration Server fails to get a connection from the connection pool. 

This issue is now resolved.

PIE-79208 (IS_10.5_Core_Fix21)
After applying a fix that includes PIE-75533, the pub.client:http service fails 
with a NullPointerException. 

This issue is now resolved.

PIE-79261 (IS_10.5_Core_Fix21)
Integration Server does not log the actual cause for denying an incoming 
payload for SQL injection rule violation. 

The issue is resolved. Now, the log message shows the cause for denying an 
incoming payload for SQL injection rule violation. For example, instead of 
"Possible SQL injection threat for Oracle database.", Integration Server now 
logs "Possible SQL injection threat for Oracle database. The incoming payload 
for the requested URL contains an invalid character."

PIE-79278 (IS_10.5_Core_Fix21)
The "pub.client:ftp" service throws the "Implicit FTPS is not supported" error 
message when an invalid proxy alias is passed in the input, which is incorrect. 

This issue is resolved. Now, the service throws "Could not connect to ftp 
server".

PIE-79489 (IS_10.5_Core_Fix21)
After applying a fix that includes PIE-75533, calls to an endpoint may take 
upto 10 seconds longer as the changes due to the fix invoke the 
socket.getInetAddress().getHostName() method. 

This issue is resolved. Now, Integration Server calls the
socket.getRemoteAddress() method instead of the socket.getInetAddress() 
.getHostName() method.

PIE-71676 (IS_10.5_Core_Fix20)
Client certificates updated from one Integration Server in a cluster do not
reflect on another Integration Server in the cluster until that Integration
Server restarts.

This issue is now resolved.

PIE-73283 (IS_10.5_Core_Fix20)
The canceled task Process Engine Storage Cleaner runs once even after
Integration Server enters the quiesce mode.

This issue is now resolved.

PIE-73638 (IS_10.5_Core_Fix20)
When the connection between Integration Server and the LDAP server is unstable, 
logging in to Integration Server fails intermittently with the "Unable to open 
a connection to ldap" error. 

The issue is resolved.  Now, the com.sun.jndi.ldap.connect.pool.timeout and 
com.sun.jndi.ldap.read.timeout properties are set while creating the LDAP 
context, which prevents intermittent connection failures. The default value for 
both properties is 30 seconds. Alternatively, a user can set these properties
through the watt.server.ldap.extendedProps server configuration parameter.

PIE-75822 (IS_10.5_Core_Fix20)
If the Global IP Threat Protection Policy (TPP) denies a request sent
to the configured API through API Gateway external port, the subsequent
requests do not work.

With the TPP configured in API Gateway, when you send a request through
the API Gateway external port, the TPP denies the request if any rule
violations are identified, resulting in the HTTP 403 status code. Any
subsequent request also results in an HTTP 401 status code with the
"Invalid Session ID" message, which is an incorrect behavior.

The issue is due to not cleaning up the session and cookie IDs when
there is a rule violation.

This issue is resolved. Now, subsequent requests are successful.

PIE-76676 (IS_10.5_Core_Fix20)
Integration Server does not support OAuth token authentication for POP3 email 
ports. 

Integration Server does not support OAuth token authentication for POP3 email 
ports. Therefore, configuring OAuth for a POP3 email port results in an error 
message indicating that OAuth is supported for IMAP ports only. 

This issue is now resolved.

PIE-76895 (IS_10.5_Core_Fix20)
For HTTP requests that return the 401 response code, the pub.client:http 
service sends another request if a cookie header is used for authentication in 
the HTTP request. 

The issue is resolved now. The watt.net.http401.retryWithoutCookie server 
configuration parameter is introduced. Set the parameter to false to prevent 
the pub.client:http service from sending a duplicate request. The default value 
is true, which retains the old behavior. You do not need to restart Integration 
Server for the changes to take effect.

PIE-77819 (IS_10.5_Core_Fix20)
In an Integration Server setup with API Gateway, when NTLM authentication is 
enabled for a native service, Integration Server throws the "Exception during 
NTLM handshake : Socket input is already shutdown" error endlessly if any 
exception occurs during an NTLM handshake. 

The issue is resolved. Now, if there is an NTLM handshake exception, 
Integration Server returns the same exception to the caller.

PIE-78037 (IS_10.5_Core_Fix20)
A dateTime string does not pass validation by pub.schema:validate but should.

All valid lexical representations of the XML Schema data type dateTime should
pass XML validation. However, the pub.schema:validate service incorrectly flags
some lexical representations of dateTime as invalid when milliseconds are
included. Specifically, a dateTime value that includes 24:00:00 as the time
fails validation if the seconds fragment included milliseconds. That is, the
pub.schema:validate service treats a time value of 24:00:00 as valid but treats
24:00:00.000 as invalid. This is incorrect. 

Now, all valid datetime representations that include milliseconds will pass
validation. 

PIE-78139 (IS_10.5_Core_Fix20)
Integration Server does not retain the log files based on the
watt.server.serverlogFilesToKeep parameter.

When the log file location changes through the watt.debug.logfile
parameter, Integration Server does not retain the files based on the value
configured for the watt.server.serverlogFilesToKeep parameter.

This issue is resolved now.

PIE-78307 (IS_10.5_Core_Fix20)
Change to Integration Server to address security vulnerability to session
fixation attack. 

When a user accesses the Integration Server login page or an API call (GET
http://hostName:portNumber), a session ID can be viewed in the Cookies section
of the browser or in the postman collection for the API call. Integration Server
uses the same session token after the user authenticates successfully. This
leaves Integration Server vulnerable to a session fixation attack. 

Now, the Cookies section of the browser or in the postman collection for the API
call do not display the session ID details after the initial access to the login
page or the initial GET call, respectively. After Integration Server
successfully authenticates the user, Integration Server uses a new session ID. 

PIE-78321 (IS_10.5_Core_Fix20)
When strict service caching is in use, Integration Server does not merge the
cached results into the pipeline. 

When strict service caching is enabled
(watt.server.serviceResults.cache.strict=true), Integration Server should merge
the output values cached for the declared output signature into the calling
service pipeline. However, Integration Server does not merge the cached values
into the pipeline and instead returns only the cached values. 

This issue is now fixed.

PIE-78392 (IS_10.5_Core_Fix20)
Service invoked via com.wm.app.b2b.client.JSONClient fails if
watt.server.http.jsonFormat is set to stream or bytes 

When the server configuration parameter watt.server.http.jsonFormat is set to
stream or bytes, the body of a request sent from
com.wm.app.b2b.client.JSONClient to Integration Server is not parsed into a
pipeline. Invocation of the requested services fails because expected variables
are not present in the input pipeline. 

To resolve this issue, Integration Server adds the "User-agent: webMethods"
header to each request sent from com.wm.app.b2b.client.JSONClient. The header
instructs Integration Server to parse the JSON, regardless of the
watt.server.http.jsonFormat setting. 

PIE-78418 (IS_10.5_Core_Fix20)
The pub.client.ftp:login service throws a NullPointerException while using the
FTPS protocol in the implicit mode. 

Implicit FTPS is deprecated and Integration Server does not support the FTPS
protocol in the implicit mode. Hence, the service returns a 
NullPointerException. 

The issue is now resolved. The NullPointerException is now replaced with the
"Implicit FTPS is not supported." message. 

PIE-78669 (IS_10.5_Core_Fix20)
After applying a fix that includes PIE-72661, password retrieval incorrectly 
used global password managers instead of package-level password managers. 

This issue is now fixed.

PIE-78780 (IS_10.5_Core_Fix20)
Updates to metering service list. 

PIE-74630 (IS_10.5_Core_Fix19)
The info log message, "JDBC Connection pool waiting threads threshold exceeded,
**** threads waiting for connection for pool **:**" is logged during false
positive scenarios. 

This issue is resolved now.

PIE-74746 (IS_10.5_Core_Fix19)
After migrating to an Integration Server to which a fix containing PIE-67747 has
been applied, the password of a cloned live database configured for a JDBC
connection pool alias is incorrect. 
 
When migrating an Integration Server instance, users can choose to use a clone
of the live database for the JDBC connection pool alias associated with a JDBC
functional alias. If two or more JDBC connection pool aliases exist, the
migration utility prompts for the password for one JDBC connection pool alias
but not for any of the other JDBC pool aliases. As a result, the migrate.dat
file prepared by the migration utility does not contain the password for the
JDBC connection pool. The migrated Integration Server instance cannot connect to
all of the databases. 

To resolve this issue, when the user opts to use a clone of the live database
for the JDBC connection pool, the migration utility prompts for the password for
all JDBC connection pool aliases. Furthermore, the migration utility saves the
encoded password in the migrate.dat file by default. 

However, saving the encoded password in the migrate.dat file represents a
security vulnerability. The new server configuration parameter
watt.migrate.hidePassword controls whether an encoded database password for a
JDBC connection pool alias will be saved in migrate.dat. Set
watt.migrate.hidePassword to false in the migrate.bat/sh file on the target
Integration Server for the migration utility to save the encoded database
password. Set to true to omit database passwords for JDBC connection pool
aliases from the migrate.dat file. The default is false. Set the
watt.migrate.hidePassword value on the target Integration Server before running
the migration utility. 

Example of setting watt.migrate.hidePassword in migrate.bat:

%JAVA_EXE% -Dwatt.migrate.hidePassword=true
-Dwatt.migrate.product.dataProvider=com.wm.app.b2b.server.migrate.MigratorAppDataProviderImpl
-Dwatt.installer.migrate.destDir="%IS_DIR%"
-Dcom.webmethods.sc.config.configRoot="%IS_DIR%\config"
-DCDBS.home.path=%DB_DIR% -Djava.library.path="%SSO_DIR%" -ms%JAVA_MIN_MEM%
-mx%JAVA_MAX_MEM% -classpath %CLASSPATH%
com.wm.app.b2b.server.migrate.cmd.IntegrationServerCmdLineToolMigrationDriver %* 

Example of setting watt.migrate.hidePassword in migrate.sh:

$JAVA_RUN $JAVA_D64 -Dwatt.migrate.hidePassword=true
-Dwatt.migrate.product.dataProvider=com.wm.app.b2b.server.migrate.MigratorAppDataProviderImpl
-Dwatt.installer.migrate.destDir=$IS_DIR -Dcom.web 

PIE-75361 (IS_10.5_Core_Fix19)
Integration Server Administrator allows script injection into DSP pages through 
extended settings, which causes a cross-site scripting vulnerability. 

This issue is now resolved.

PIE-76519 (IS_10.5_Core_Fix19)
Integration Server incorrectly handles REST requests or responses for 
media types that do not have a registered content handler in Integration Server.

Consider a media type mapped to application/json or
application/xml using the watt.server.content.type.mappings
server configuration parameter. For example,
"watt.server.content.type.mappings=application/problem+json application/json".
When the REST request to Integration Server uses the media type
mapped using the server configuration parameter, the REST request
does not honor the server configuration parameter setting and does not 
decode or encode the data according to the mapped media type.

This issue is resolved. Now, the watt.server.content.type.mappings 
server configuration parameter is honored while processing REST 
requests and responses. 

PIE-76682 (IS_10.5_Core_Fix19)
The Integration Server instance creation script (is_instance.bat|sh) updates 
only database aliases associated with the ISInternal functional alias. 

The issue is resolved now. 

PIE-76689 (IS_10.5_Core_Fix19)
Microservices Runtime does not apply user updates from the configuration
variables template. 

If a configuration variables template (application.properties) includes more
than one user account update and some of the property values did not change any
configured value in Microservices Runtime, then Microservices Runtime ignored
all user updates.

This issue is now resolved.

PIE-76802 (IS_10.5_Core_Fix19)
Integration Server sends a Set-Cookie header in the response to a request for a
stateless service or a service on a stateless port when the "Expect: 100-
Continue" header is present in the request.

This issue is now resolved.

PIE-77044 (IS_10.5_Core_Fix19)
Updates to metering to exclude services in WmB2BObjectStore package. 

PIE-77255 (IS_10.5_Core_Fix19)
Deployer overwrites ACLs assigned by a startup service.

The fixes for issues PIE-67094 and PIE-72539 introduced conflicting requirements
for package load sequence, specifically manual loading requirements conflicted
with package deployment requirements. This conflict was resolved for new package
deployments but not for package redeployments. 

The package loading sequence now works as expected for manual package loading
and package deployment and redeployment.  For deployments and redeployments,
Integration Server first applies ACLs contained within the deployable package
and then runs the startup services in the package. 

PIE-77272 (IS_10.5_Core_Fix19)
Enhancement to service caching in Integration Server to cache and return the
declared signature only. 

Previously, when service caching was enabled for a service, Integration Server
caches values for the defined service signature and the entire output pipeline.
When Integration Server uses cached results, Integration Server returns the
entire cached output pipeline from the previous service invocation. The pipeline
includes the output fields explicitly defined in the cached service, as well as
any output fields produced by earlier services in the flow. This may result in
cached pipeline values overwriting the value of fields that are not declared in
the service output signature. Caching the entire output pipeline may consume
large amounts of memory and disk space. 

Integration Server now includes strict service caching in which Integration
Server caches and returns values for the parameters defined in the service
signature only. Whether Integration Server performs strict service caching is
determined by the value of the server configuration parameter
watt.server.serviceResults.cache.strict. Strict service caching is enabled when
watt.server.serviceResults.cache.strict is set to true. The previous caching
behavior in which the entire output pipeline is cached and returned is used when
watt.server.serviceResults.cache.strict is set to false. The behavior set by the
watt.server.serviceResults.cache.strict parameter applies to all services for
which results caching is enabled. 

watt.server.serviceResults.cache.strict
Specifies whether Integration Server caches and returns values for the
parameters defined in the service signature only or if the entire output
pipeline is cached and returned as well. Set to true for Integration Server to
cache and return values for parameters in the service signature only. This may
be referred to as strict service caching. Set to false for Integration Server to
cache and return values for parameters in the service signature and the entire
output pipeline. Caching the entire output pipeline may consume large amounts of
memory and disk space. Additionally, returning the cached output pipeline may
result in overwriting the value of fields that are not declared in the service
output signature. The default value is false. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-77583 (IS_10.5_Core_Fix19)
Integration Server considers ";" as an invalid character in the
username;password combination on the "Add and remove users" page.

Despite entering the username and password in the expected 'username;password'
format in the "User Names" field, on the "Add and remove users" page, 
Integration Server treats ";" as an invalid character.

The issue is resolved now.

PIE-77698 (IS_10.5_Core_Fix19)
Editing an email listener configured with OAuth creates multiple system tasks.

This issue is resolved now. Editing an email listener configured with 
OAuth does not create multiple system tasks. Instead, Integration Server 
creates a system task only when the email listener is enabled and deletes the
task when the listener is disabled. 

PIE-77728 (IS_10.5_Core_Fix19)
File handles remain open even after the pub.io:streamToString service execution
completes. 

When you provide a file stream to inputStream of the pub.io:streamToString
service in a flow service, and run the flow service, file handles remain open
even after the flow service completes execution, leading to file leaks.

This issue is now resolved.

PIE-77729 (IS_10.5_Core_Fix19)
Integration Server vulnerability to cross-site scripting (XSS) attack.

This fix addresses a security vulnerability to an XSS attack.

PIE-78012 (IS_10.5_Core_Fix19)
The temporary zip file created by the diagnostics utility is not deleted
automatically after it is downloaded. 

When the diagnostic utility executes, the utility generates a temporary archive
(zip file) in the directory Integration Server_directory
\instances\<instance_name>\logs and then downloads the file. The temporary
archive is not deleted after it is downloaded. Each time the diagnostic utility
runs, it generates a new diagnostic archive. Leaving the temporary archives
could exhaust disk space. 

Now, after the diagnostic utility creates and downloads diagnostic archive, the
utility deletes the temporary archive from Integration Server_directory
\instances\<instance_name>\logs directory. 

PIE-73273 (IS_10.5_Core_Fix18)
An email port with the OAuth-based authentication is disabled after restarting 
Integration Server. 

The issue is now resolved. Additionally, a detailed error message is logged in 
server.log for any exception while getting the access token.

PIE-73504 (IS_10.5_Core_Fix18)
Design-time performance improvements for web service descriptors and related
assets. 

Web service descriptors and the related namespace assets created when the
descriptor is generated from a WSDL exhibit performance issues for design-time
activities. Specifically, copy and delete actions on the web service descriptor
and its related assets may take far longer to complete than the time it took to
generate the assets originally. 

After applying this fix, Integration Server may show an improvement in the
amount of time needed to copy a web service descriptor and its assets as well as
an the time needed to delete a newly created web service descriptor and its
assets. 

PIE-74175 (IS_10.5_Core_Fix18)
Integration Server returns an empty response body for REST requests. 

In older implementations, Integration Server returns the response body for 
REST requests even if the targeted service returns undefined data. However, 
Integration Server now returns a response with a populated response body
only if the response body is defined in the imported Swagger document.
As a result, REST clients receive an empty response body if the
targeted service returns undefined data. 

This issue is now resolved by introducing a workaround using 
the watt.server.rest.honorLegacyStructure server configuration parameter.
By default, the parameter is set to 'false', which disables the workaround.
Set the value to 'true' to enable the workaround. This workaround supports
older implementations that rely on returning undefined data in the
response and applies to REST API Descriptors (RAD) created or refreshed
earlier to this fix. You do not need to restart Integration Server for the
changes to take effect.

PIE-74631 (IS_10.5_Core_Fix18)
Change to address vulnerability to an argument injection attack.

Integration Server uses the system property user.dir to determine the location
of the protoc.exe file. This makes Integration Server vulnerable to an argument
injection attack. 

This has been resolved. Integration Server no longer uses a system property to
determine the location of protoc.exe. 

PIE-75856 (IS_10.5_Core_Fix18)
Integration Server now validates the watt.server.compile value to address remote
code execution vulnerability. 

The watt.server.compile value specifies the compiler command that Integration
Server uses to compile Java services that are developed using Designer. The
compiler command is also used by the jcode utility. However, Integration Server 
does not validate the value of this parameter to ensure that it is a compiler 
command. The lack of validation leaves Integration Server vulnerable to a remote 
code execution attack. 

Now, when the watt.sever.compile value is changed, Integration Server saves the
change only if the path ends with javac.exe or javac. If the new value does not
end with javac.exe of javaca, Integration Server displays the error message "The
value for watt.server.compile is not valid" and does not save the change. 

PIE-76018 (IS_10.5_Core_Fix18)
The OAuth authorization using an external authorization server fails with 
"java.lang.NullPointerException". 

Integration Server throws "java.lang.NullPointerException" for an HTTP
request with a valid token when the server is configured to use an external 
OAuth server with a scope that does not define any folder or services. 

This issue is now resolved.

PIE-76185 (IS_10.5_Core_Fix18)
In Designer, if you save a flow service with recursive document types, 
Integration Server returns StackOverflowError.

This issue is now resolved.

PIE-76674 (IS_10.5_Core_Fix18)
Integration Server does not preserve the spaces in the string array values of 
REST requests. 

Consider that a Swagger document is imported as a REST provider and the 
document has a variable defined as a string array. If a REST request contains 
leading or trailing spaces for the values in the string array, Integration 
Server trims such spaces before passing the values to the target service.

This issue is now resolved.

PIE-72767 (IS_10.5_Core_Fix17)
In Integration Server, invoking pub.flow:getLastError repeatedly in a flow 
service increases the pipeline size leading to "out of memory" issues when the 
exceptions are high.

In Integration Server, invoking pub.flow:getLastError repeatedly in a flow 
service increases the pipeline size as the pipeline/lastError document has the 
lastError of all previous pub.flow:getLastError executions, which leads to 
"out of memory" issues when the exceptions are high.

This issue is now resolved by introducing the
"watt.server.getLastError.removeLastError" 
server configuration parameter. If this parameter is set to "true", Integration
Server removes the pipeline/lastError document from the output of the last 
invocation of the pub.flow:getLastError service. If set to "false" or not set, 
the pipeline/lastError document is retained. The parameter does not have a 
default value.

Integration Server restart is not required for the changes to take effect.

PIE-72834 (IS_10.5_Core_Fix17)
The REST connector service fails with an error when the query parameter
value contains special characters. 

Integration Server does not encode the special characters in the query parameters. 
Therefore, if the REST connector service contains a query parameter with special 
characters in the input, the service execution fails with an error. 

This issue is resolved. Now, Integration Server encodes the special
characters in the query parameters.

PIE-73273 (IS_10.5_Core_Fix17)
An email port with the OAuth-based authentication is disabled after restarting 
Integration Server. 

The issue is now resolved. Additionally, a detailed error message is logged in 
server.log for any exception while getting the access token.

PIE-73672 (IS_10.5_Core_Fix17)
Integration Server sends a delayed response to a client during an 
SSL connection. 

Integration Server does an additional DNS lookup during an SSL connection with 
a client, even though the client's IP address is in the "Allow" or the "Deny" 
list of the port, which delays the response from Integration Server to the 
client, causing the connection to time out. 

This issue is now resolved.

PIE-73968 (IS_10.5_Core_Fix17)
Integration Server fails to authenticate a user when a username is in the 
domain\user format. 

If Integration Server uses central user authentication and the username is in 
the domain\user format, the authentication fails. This issue is seen after 
Integration Server is updated to support domain-based login for users in Active
Directory for API Gateway Cloud. 

This issue is now resolved.

PIE-74368 (IS_10.5_Core_Fix17)
Integration Server does not honor the value of
watt.server.jndi.searchresult.pageSize when it is set to 0. 

When the watt.server.jndi.searchresult.pageSize server configuration parameter
is set to 0, Integration Server should retrieve all user groups from the LDAP
servers at once. That is, the LDAP search result should have paging disabled.
However, paging is not disabled. 

This issue is now resolved.

PIE-74409 (IS_10.5_Core_Fix17)
Integration Server does not map a REST API request payload to the corresponding 
service input signature generated from a Swagger document containing empty 
definitions.

This issue is now resolved.

PIE-74752 (IS_10.5_Core_Fix17)
Integration Server does not provide an option to set the request timeout for 
executing a REST connector service.

This issue is resolved. Now, if you create or refresh a consumer REST API
Descriptor (RAD), the generated connector service signature contains a
"timeout" parameter in the input. The datatype of the parameter is String
and the parameter value is specified in milliseconds.
At runtime, Integration Server considers the value of the "timeout" parameter
as the timeout value for the request. For the existing connector
services, if the pipeline contains a "timeout" parameter, the
value of the parameter is honored as the request timeout.

PIE-74816 (IS_10.5_Core_Fix17)
OAuth initialization fails with a java.sql.SQLException because Integration
Server is unable to retrieve metadata for IS_OAUTH_CLIENTS.CLIENT_SECRET column. 

This has been resolved by moving the database migration for OAuth out of
Integration Server and into separate SQL scripts that can be executed by the
Software AG Database Component Configurator. 

This fix also adds the new configuration parameter watt.server.db.logMigration.
After a fix or a new release is installed, Integration Server may perform
migration actions on the embedded database the first time it is started. Set
this parameter to true for Integration Server to write detailed log messages
about database migration to the server log. Set this parameter to false to
indicate Integration Server does not write detailed log messages about database
migration to the server log. The default is false. You must restart Integration
Server for changes to this parameter to take effect. 

Important! To complete resolution of PIE-74816, you must install fix
IS_10.5_Database_Fix4 (or higher) and run the Software AG Database Component
Configurator before starting Integration Server. 

PIE-75130 (IS_10.5_Core_Fix17)
A REST connector service execution throws the "com.wm.app.b2b.server.
ServiceException: java.lang.ClassCastException: [Ljava.lang.Object; cannot
be cast to [Lcom.wm.data.IData;" exception. 

During the REST connector service execution, if the server response is
an empty JSON array, then Integration Server throws ClassCastException.

This issue is now resolved. 

PIE-75533 (IS_10.5_Core_Fix17)
The "pub.client:http" service does not honor the "timeout" value specified
in the input. 

"pub.client:http" reads and copies the response payload as bytes when the 
"loadAs" parameter is set to bytes. If a socket timeout exception occurs while
reading and copying the response due to the timeout value specified in the
input, the service does not throw an exception. 

The issue is resolved now.

PIE-75546 (IS_10.5_Core_Fix17)
Integration Server throws NoClassDefFoundError when copy strategy is used for
Ehcache configuration file. 

If a custom class is created for the copy strategy of Ehcache configuration,
Integration Server logs the following exception when starting Ehcache: 

net.sf.ehcache.CacheException: java.lang.NoClassDefFoundError:
net/sf/ehcache/store/compound/ReadWriteCopyStrategy 

This issue is now resolved.

PIE-76261 (IS_10.5_Core_Fix17)
Updates to ESAPI (OWASP Enterprise Security API) library included in Integration
Server. 

ESAPI library contained in /common/lib/ext/esapi.jar has been upgraded to
version 2.4.0.0 and a properties file has been added to ensure compatibility
with Integration Server when it is upgraded to a higher version. The previous
version of the ESAPI library was version 2.1.01. 

Upgrading to 2.4.0.0 resolves the following security vulnerabilities:

- CVE-2022-28366
- CVE-2022-29577
- CVE-2022-23437
- CVE-2020-14338
- CVE-2020-13956

PIE-73010 (IS_10.5_Core_Fix16)
Repository-based package deployments reset the configurations in the
"aclmap_sm.cnf" file to "Default" on the target Integration Server.

This issue is now resolved.

PIE-73894 (IS_10.5_Core_Fix16)
Integration Server does not serve files for file download requests from a REST 
client. 

Integration Server returns a blank response to file download requests from a 
REST client to a service provider. 

This issue is now resolved. Integration Server now supports file downloads as
both consumer and provider.

PIE-74176 (IS_10.5_Core_Fix16)
Starting and stopping JMS triggers may result in a NullPointerException.

In some scenarios, the hot deployment logic in Integration Server may cause a
NullPointerException to be thrown when a JMS trigger is stopped or started. 

This issue is now resolved.

PIE-74331 (IS_10.5_Core_Fix16)
Integration Server now prohibits the use of carriage return/line feed (CRLF)
characters in a request URL. 

To eliminate the risk of CRLF injection to the server log via an HTTP request,
Integration Server now filters the request URL for the presence of the CRLF
characters, specifically the character sequences "%0D%0A" or "%0A%0D" in any
case combination If request contains the character sequence, Integration Server
returns a HTTP 404 status code with the error message "URL not found. CRLF
characters are not permitted in a URL." Integration Server does not process the
request. 

Integration Server includes a server configuration parameter to control whether
Integration Server filters HTTP request URLs for the CRLF characters. A full
description of the parameter follows. 

watt.server.http.url.forbidCRLF
Specifies whether Integration Server prohibits the carriage return/line feed
(CRLF) characters, specifically the character sequences "%0D%0A" or "%0A%0D" in
any case combination, in the URL for an inbound HTTP request. When set to true,
Integration Server filters inbound HTTP request URLs for the character sequence
"%0D%0A" or "%0A%0D" in any case combination. If the request contains the
character sequence, Integration Server returns a HTTP 404 status code with the
error message "URL not found. CRLF characters are not permitted in a URL."
Filtering and forbidding CRLF characters in the HTTP request URL can eliminate
the CRLF injection to the server log via an HTTP request. When set to false,
Integration Server does not filter HTTP request URLs for the character sequence
"%0D%0A" or "%0A%0D" in any case combination before processing the request. The
default is true, which is more secure. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-74414 (IS_10.5_Core_Fix16)
When watt.server.http.returnException is set to webMethods and a SOAP request
results in an error, Integration Server throws a NullPointerException if the
request did not contain a User-Agent header. 

This issue is now resolved.

PIE-74554 (IS_10.5_Core_Fix16)
webMethods messaging triggers stop receiving messages when Universal Messaging
is configured to use a shared thread pool. 

If Universal Messaging is configured to use a shared thread pool and a fully
active, concurrent webMethods messaging trigger is suddenly restarted, the
trigger may stop receiving messages. (A trigger is considered fully active when
all of its processing threads are invoking services.) This situation occurs
because the trigger may continue to block the incoming notification thread from
Universal Messaging after the trigger abruptly restarts. If Universal Messaging
is configured to use a shared thread pool, the notification thread will not be
interrupted. As a result, the notification thread will not be able to deliver
new messages. 

To resolve this issue, the notification thread is released whenever a webMethods
messaging trigger is stopped. 

PIE-74867 (IS_10.5_Core_Fix16)
Frequent reconfiguration of Log4j2 may cause a memory leak in Integration
Server. 

Integration Server versions 10.5 and higher use Log4j2. When the Log4j2
configuration gets changed by any component, Integration Server loses its own
Log4j2 configuration. To recover its configuration, Integration Server monitors
the Log4j2 configuration changes and logs the following message to wrapper.log
and server.log: Integration Server detected loss of its Log4j configuration.
Integration Server is restoring its Log4j configuration. However, when
reconfiguring its logging configuration, Integration Server leaves behind the
previously used Log4j2 appenders. Over a period of time, this could cause a heap
exhaustion issue. 

This issue is resolved. Now, when Integration Server reconfigures its logging
configuration, Integration Server discards the older Log4j2 appenders properly. 

PIE-74923 (IS_10.5_Core_Fix16)
Integration Server has a performance degradation issue. 

Integration Server is unresponsive under heavy load leading to performance 
issues when retrieving system attributes related to the server environment. 

This issue is resolved. Now, Integration Server caches the system attributes 
for better performance.

PIE-74961 (IS_10.5_Core_Fix16)
Integration Server Administrator responds slowly to a login attempt or a reload
of the homepage when metering is enabled. 

When metering is enabled, Integration Server periodically performs a "dry run"
of sending data to the webMethods Metering Server. During a dry run, Integration
Server simulates a connection to the webMethods Metering Server. Integration
Server performed a metering dry run after a user logs in to Integration Server
and when a user reloads the home page, resulting in a slow response to the login
attempt or the reload request. 

To prevent this delay, Integration Server now caches the results of the last dry
run and uses them after a login attempt or the request to reload the home page. 

PIE-69312 (IS_10.5_Core_Fix15)
Integration Server does not retain client sessions while invoking stateless
services from a Dynamic Server Page (DSP), which leads to repeated requests for
user credentials.

This issue is now resolved.

PIE-70913 (IS_10.5_Core_Fix15)
Improved handling of user sessions in Integration Server.

After applying a fix or installing a release that includes PIE-62998,
Integration Server allows a local user to have the same name as a user in an
attached user directory (i.e., LDAP or Central User Management). However, when
resuming a session for the user defined in LDAP or Central Users, Integration
Server could resume the session for the local user instead. This is a security
vulnerability as the local user would be impersonating the user in LDAP or
Central Users. 

Additionally, when deleting or disabling a local user, Integration Server does
not immediately invalidate a session for the user if one exists. Instead, the
local user can continue using Integration Server until the session expires. This
is also a security vulnerability. 

To resolve these issues, Integration Server now tracks the source of the user
(i.e., local, LDAP, or Central Users) throughout the life of the users
session. This ensures that Integration Server reuses cached authentication only
for a user that has been authenticated for that session. Additionally, when
deleting or disabling a local user, Integration Serve removes any existing
session for the user immediately and removes any cached authentication for the
user. 

PIE-72514 (IS_10.5_Core_Fix15)
During repository-based deployment, Integration Server reloads packages
repeatedly. 

Integration Server reloads packages repeatedly during repository-based
deployment. A previous attempt to fix the issue PIE-66922 did not fully resolve
the issue and created another issue where some dependent packages did not reload
at all. Fixes that include PIE-70265 rolled back the changes made in PIE-66922.
As a result, Integration Server once again reloaded packages over and over again
during repository-based deployment. 

Now, the above issues have been addressed. Integration Server reloads dependent
packages only once during repository-based deployment. 

PIE-72923 (IS_10.5_Core_Fix15)
Integration Server returns "400 Bad Request" for "GET" REST API requests with a
body. 

Integration Server expects "GET" REST API requests without a body. However, when
a GET REST API request has a body, Integration Server cannot process the request
and responds with "400 Bad Request". 

This issue is now resolved.

PIE-73087 (IS_10.5_Core_Fix15)
The webMethods Cloud > Tenant Connections pages for creating and editing tenant
connections is vulnerable to a cross-site scripting (XSS) attack. 

This issue has been resolved.

Important! To fully resolve this issue, you must apply both the Integration
Server Core fix and the WmCloud fix that include PIE-73087. 

PIE-73353 (IS_10.5_Core_Fix15)
In Integration Server, scheduler logs contain the "Could not complete last run
at node" error for a few tasks.

In Integration Server, even though the scheduled tasks run as expected,
scheduler logs contain the "Could not complete last run at node" error for a
few tasks due to a thread timing issue.

This issue is now resolved.

PIE-73362 (IS_10.5_Core_Fix15)
In Integration Server, the "pub.client:restClient" service returns an 
incorrect response for a REST API request that includes a character set
in the Accept header.

This issue is now resolved.

PIE-73438 (IS_10.5_Core_Fix15)
The /health endpoint returns a status of UP for the JDBC indicator at startup 
even if a JDBC function points to database that is not available.

If a JDBC function is associated with a JDBC connection pool for which a database 
connection cannot be established at startup, the /health endpoint returns a 
status of UP for the JDBC indicator. When the JDBC function cannot obtain the 
minimum number of database connections at start up, the JDBC function fails to 
initialize. As a result, the JDBC functional alias is not included as a part of
the response returned from /health endpoint. The /health endpoint should return
a status of DOWN at startup but does not.

This issue is now resolved.

PIE-73448 (IS_10.5_Core_Fix15)
Integration Server throws "java.lang.NullPointerException: null" for service
validation after repository deployment.

After deploying a Java service that does not have any input or output
signature but has the "Validate input" or "Validate output" option checked,
running the service after the repository deployment returns the exception.

This issue is now resolved.

PIE-73496 (IS_10.5_Core_Fix15)
Updating a JNDI provider alias with security information fails with the "Unable
to create or update JNDI settings" error message. 

Integration Server throws the following exception on updating a JNDI provider
alias without modifying its security information: 

"Missing required parameter passwordChanged for alias test, as password for the
JNDI alias is changed, without this property the password will not get updated
into passman and test lookup will fail always." 

This issue is now resolved.

PIE-73712 (IS_10.5_Core_Fix15)
Repository-based deployment for file polling ports does not include the File
Name Filter value. 

This issue is now resolved. A substitution value named fileNameFilter can now be
set as part of deploying a file polling port. 

PIE-74072 (IS_10.5_Core_Fix15)
After applying a fix that includes PIE-67760, service caching might not work.

After applying a fix that includes PIE-67760, invocation of a service whose
results are cached might return empty output. The solution in PIE-67760 changed
the way in which Integration Server cached service results to encode the data
prior to serializing it and placing it in the cache. This change resolved a
StackOverflowError that can result when caching complex data types with many
nested levels. However, the change to PIE-67760 prevents proper deserialization
of results for some data types. 

To address this issue, Integration Server now includes the server configuration
parameter watt.server.serviceResults.cache.encode which controls whether
Integration Server encodes data before serializing it. 

watt.server.serviceResults.cache.encode
Specifies whether Integration Server encodes service results before serializing
it and placing it in the service results cache. Set this parameter to true if
Integration Server encodes service results before serializing the results and
placing the data in the service results cache. A value of true may prevent a
StackOverflowError when the service results contain complex data types with many
nested levels. However, a value of true prevents proper deserialization of
results for some data types and might result in empty output. Set this parameter
to false if Integration Server does not encode service results before
serializing the results and placing the data in the service results cache. The
default value is false. 

You must restart Integration Server for changes to this parameter to take
effect. 

Note: The default value of watt.server.serviceResults.cache.encode is false
which indicates that Integration Server does not encode data before serializing
it. This is the behavior that existed prior to application of a fix that
includes PIE-67760. Installing a fix that includes PIE-74072, reverts
Integration Server to the caching behavior available prior to applying
PIE-67760. If you want the caching behavior available in PIE-67760 (encoding the
data before serializing it), set watt.server.serviceResults.cache.encode to true
and restart Integration Server. 

PIE-74077 (IS_10.5_Core_Fix15)
After installing a fix that includes PIE-70713, if a server configuration
parameter name ends with "password" or "Password", Integration Server
saves the masked value instead of the actual value. 

When editing or viewing extended settings (server configuration parameters) on
the Settings > Extended page in the legacy Integration Server Administrator,
Integration Server masks the value of any parameter whose name ends with
"password" or "Password". However, when saving the parameter value,
Integration Server saves the mask instead of the actual value. 

This issue is now resolved.

PIE-74111 (IS_10.5_Core_Fix15)
After applying a fix that includes PIE-71091, Integration Server performance may 
degrade.

The changes made for PIE-71091 might have exposed a performance issue caused by 
a known JDK bug that occurs under heavy load and when underlying services or 
classes retrieve system properties or server configuration properties.

This issue is now resolved.

PIE-74170 (IS_10.5_Core_Fix15)
Changes to Integration Server logic for enabling metering based on license. 

PIE-74207 (IS_10.5_Core_Fix15)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs. 

PIE-74233 (IS_10.5_Core_Fix15)
Integration Server behaves inconsistently between the 10.5 and 10.7
versions while creating a consumer web service descriptor.

Creating a consumer web service descriptor in Integration Server
10.5 throws the "javax.security.auth.login.LoginException: No LoginModules
configured for" exception but not in 10.7.

This issue is now resolved.

PIE-74338 (IS_10.5_Core_Fix15)
Enhancements to is_instance script to apply fixes to new instances
automatically. 

The create command in the is_instance script now includes parameters for
specifying Software AG Update Manger information. The create command uses this
information to install the most recent updates applied to another Integration
Server instance to the new instance automatically. At the same time, the script
also uses Update Manager to update existing instances within the Integration
Server installation with the same updates. After creating a new instance, all
instances of Integration Server running on the same host machine and within the
same installation will be at the same fix level. You do not need to shut down
the existing Integration Server instances prior to running the script to create
an instance. 

The new parameters for the create command are as follows:

-Dsum.install.dir=<SUM_installation_location>
-Dsum.image.location=<SUM_image_location>
-Dsum.server=<fix_server_URL>
-Dsum.empower.user=<empower_user>
-Dsum.empower.password=<empower_password>

Where

<SUM_installation_location> Optional. The absolute path to the Software AG
Update Manager installation, specifically the path to the SAGUpdateManager
directory. If you do not specify a value, the script looks for Update Manager in
the current Integration Server installation directory. 

<SUM_image_location> Optional. Absolute path to the location of the Update
Manager installation image. Update Manager can install fixes from an
installation image. If you do not specify a value, the script looks for Update
Manager itself, as opposed to an image, in the current Integration Server
installation directory. For more information about creating installation images,
see the Using Software AG Update Manager documentation. 

<fix_server_URL> Optional. URL of the server from which to download fixes. If
you do not specify a value, the script looks for a fix server URL in the Update
Manager cache. 

<empower_user> Optional. User name for connecting Update Manager to Empower. If
you do not supply a empower_user, the script looks in the Update Manager cached
for credentials that Update Manager previously used to connect to Empower. For
more information about connecting to Empower from Update Manager, see Using
Software AG Update Manager. 

<empower_password> Optional. Password for connecting Update Manager to Empower.
If you do not supply empower_password, the script uses the cached credentials
which Update Manager previously used to connect to Empower. For more information
about connecting to Empower from Update Manager, see Using Software AG Update
Manager. 

Note: If you specify empower_user, you must also specify empower_password.

In addition to the above changes, the delete command for the is_instance script
now includes the following parameter: 
-Dsum.install.dir=<SUM_installation_location>

Where

<SUM_installation_location> Optional. Absolute path to the Update Manager
installation location, specifically the path to the SAGUpdateManager directory.
If you do not specify a value, the script looks for Update Manager in the
current Integration Server installation directory. The script uses the location
information to remove OSGi fix installation metadata for the profile for the
instance that is being deleted. 

PIE-74381 (IS_10.5_Core_Fix15)
In Integration Server Administrator, if CSRF is enabled, the navigation panel
and links do not behave as expected. 

This issue is now resolved.

PIE-74383 (IS_10.5_Core_Fix15)
The HTTP response status from API Gateway has a newline character.

While parsing a malformed SOAP API request, Integration Server throws
OMException along with a newline character, which API Gateway returns as the
HTTP response status.

This issue is now resolved.

PIE-67747 (IS_10.5_Core_Fix14)
As part of Integration Server migration, the cloned database password is saved 
in the configuration file (migrate.dat) in plain text. 

This issue is resolved. Now, the password is not saved in the configuration 
file.

PIE-68170 (IS_10.5_Core_Fix14)
After an Integration Server instance is migrated from 10.3 to 107, applying the
application.properties file results in the JDBC Functional Alias configuration
variables (jdbcfunc.functionName.connPoolAlias) being uneditable. 

This issue is now resolved.

Note: The configuration variables functionality is available in Microservices
Runtime or in an Integration Server with a Microservices license. 

PIE-69345 (IS_10.5_Core_Fix14)
The characters in the response payload for a REST API request are incorrectly 
encoded. 

When Integration Server extracts the request headers from a REST API request 
and includes them in the response payload, the characters in the response 
payload are incorrectly encoded. 

This issue is now resolved.

PIE-69662 (IS_10.5_Core_Fix14)
Creating a consumer REST API Descriptor (RAD) from a swagger document results in 
a stack overflow exception.

In Designer, creating a consumer RAD from a swagger document that has a 
self-referenced schema results in a stack overflow exception, and the swagger 
document is not imported.

This issue is now resolved.

PIE-70089 (IS_10.5_Core_Fix14)
Scheduler logs a misleading "Could not complete last run" message.

Scheduled jobs do not run during database outage or Integration Server
maintenance, and the scheduler logs the "Could not complete last run" message,
which is misleading. 

The issue is now resolved by updating the message to "Couldn't find in running
task list" for better understanding. 

PIE-70859 (IS_10.5_Core_Fix14)
Integration Server might take a long time to delete an OAuth client
registration. 

When deleting an OAuth client registration, Integration Server attempts to
remove all of that client's tokens from the cache and the database (API Gateway
stores tokens in ElasticSearch instead of a database) before deleting the
registration. In a clustered Integration Server setup, the caches are stored in
distributed cache. Removing the tokens from the distributed cache takes time
and, as a result, deleting a client registration might appear to take a long
time. 

To reduce the time for deleting an OAuth client registration in a cluster,
Integration Server now first deletes the client registration which results in
the automatic deletion of the tokens in the database (or ElasticSearch for API
Gateway). Integration Server then uses a background thread to clear the tokens
associated with the client registration from the distributed cache. When the
logging facility 0010 OAuth is set to the Debug level, Integration Server logs
the activities of the background thread to the server log. 

PIE-71091 (IS_10.5_Core_Fix14)
Integration Server becomes unresponsive.

A known issue in the Java class ReentrantReadWriteLock results in a deadlock
when accessing a class internal to Integration Server. 

To prevent the deadlock from occurring, this fix implements a minor
configuration change that works around the known issue in the
ReentrantReadWriteLock class. 

PIE-71631 (IS_10.5_Core_Fix14)
Depending upon the size and complexity of a document, Integration Server might
take a long time to encode the document using the Integration Server binary or
XML protocols. 

This issue has been resolved.

PIE-71644 (IS_10.5_Core_Fix14)
Integration Server generates incorrect document type and service signature while
creating a provider or consumer REST API Descriptor (RAD) from a Swagger
document. 

If a Swagger document imported in Integration Server as a provider or as a
consumer has a definition that references another definition as an array at the
root level, the document type and service signature generated using that
definition is not correct, which results in incorrect output at runtime. 

This issue is now resolved by correcting the document types and service
signatures. 

Note: Despite applying the fix, the issue persists for the existing RADs.
Recreate or refresh the RADs to resolve this issue. To refresh a RAD, see
"Refreshing a REST API Descriptor" in webMethods Service Development Help. 

PIE-71729 (IS_10.5_Core_Fix14)
Migration of REST services from Integration Server versions 10.1 to 10.7
requires manual alteration.

While migrating REST services from Integration Server versions, 10.1 to 10.7,
set the "Match payload with Swagger" REST API descriptor property to "false"
when the request payload for a REST API request does not match the Swagger
definition.

This issue is now resolved.

PIE-71946 (IS_10.5_Core_Fix14)
Integration Server seems to be running out of threads due to Designer sessions
ending abnormally. 

When Designer establishes a session on Integration Server, a socket monitor
thread is created for each session. The socket monitor thread uses an event
listener which waits for a shutdown event that, when received, will result in
the termination of the socket monitor thread and the return of the socket
monitor thread and event listener thread to the thread pool. If a Designer
session ends properly normally, the event listener on Integration Server
receives a shutdown event, the socket monitor thread ends, the event listener
thread ends, and both threads return to the server thread pool. However, if
Designer ends the session abnormally, that is, the sessions are killed, the
socket monitor thread and event listener thread remain on Integration Server
indefinitely. Over time, this results in high thread consumption from Designer. 

To address this issue, Integration Server includes the server configuration
parameter watt.server.event.monitor.timeout to set the socket timeout value so
that socket monitor threads will eventually terminate, allowing the socket
monitor thread and event listener thread to return to the server thread pool. 

watt.server.event.monitor.timeout
Specifies the number of seconds that elapse before the socket monitor thread
created for a Designer session times out, terminating its server thread and the
associated event listener thread. (Integration Server creates a socket monitor
for each Designer session. Each socket monitor uses an event listener to listen
for the shutdown event that occurs when a Designer session ends normally. The
socket monitor uses a thread from the server thread pool as does the event
listener.) The default is 0, which means the socket monitor waits indefinitely
and never times out. 

You must restart Integration Server for changes to take effect. 

Important! Set the watt.server.event.monitor.timeout value with care as a value
that is too low may result in the premature termination of threads which could
impact the Designer session in unexpected ways. 

PIE-72015 (IS_10.5_Core_Fix14)
Integration Server logs an entry in the server log, even when no requests are 
waiting on the API Gateway registration port.

Integration Server logs an entry in the server log as "0 Requests are waiting"
when no requests are waiting on the API Gateway registration port, which might
trigger a false positive alarm.

This issue is now resolved. Integration Server does not log any entry in the 
server log when no requests are waiting on the API Gateway registration port.

PIE-72064 (IS_10.5_Core_Fix14)
Enhancement to Integration Server to control whether a package reloads after a
package that is dependent on it is replaced. 

A package in Integration Server can be identified as dependent on another
package if it references or uses assets from that package. For example, if a
service in package A invokes a service in package B, package A is dependent on
package B and a package dependency should be identified. Establishing a
dependency ensures that packages cannot be active until all dependencies are
met. Additionally, in hot deployment, Integration Server uses package
dependencies to wait for requests to complete before starting the deployment and
to block new requests for services in the deployed package as well as dependent
packages. 

When a package reloads or is replaced via hot deployment, Integration Server
reloads the packages that depend on it as well (that is, Integration Server
reloads all the packages that have established a dependency on the package being
reloaded/replaced). Reloading dependent packages refreshes any cached assets.
During hot deployment, reloading dependents can cause service requests to time
out - especially if package dependencies are complex. In some cases, such as
when there are no shared cached assets among the packages, reloading dependent
packages does not provide any benefit. Preventing dependent packages from
reloading may provide a performance improvement. To address this, Integration
Server now includes a property that can be added to the package manifest to opt
out of being reloaded when the package on which it depends is reloaded or
replaced. 

To prevent a package from reloading when the package on which it depends is
reloaded or replaced, do the following: 

1. Use a text editor to open the package manifest file.
For Integration Server, the package manifest file is located at:
<SAG_HOME>/IntegrationServer/instances/<instanceName>/packages/<packageName>/manifest.v3.
For Microservices Runtime, the package manifest is located at:
<SAG_HOME>/IntegrationServer/packages/<packageName>/manfiest.v3. 

2. Add the following within the Values element tag:
<value name="reloadWithDependentPackage">false</value>

3. Save your changes to the manifest.v3 and close the file.

You do not need to reload the package or restart Integration Server for changes
to take effect. 
If the property reloadWithDependentPackage does not exist in a package manifest,
Integration Server reloads the package whenever packages it depends on are
replaced or reloaded. The default value of reloadWithDependentPackage is true. 

PIE-72113 (IS_10.5_Core_Fix14)
An application.properties file contains only one set of LDAP configuration asset
properties when there are multiple LDAP directories. 

When generating an application.properties file for a Microservices Runtime (or
an Integration Server with a Microservices license) that has multiple LDAP
directories that use the same directory URL, the application.properties file
contains only one set of LDAP configuration asset properties instead of one set
per LDAP directory. This is because the LDAP asset properties in an
application.properties file use the LDAP directory in the key name. 

To resolve this issue, the key names for LDAP configuration properties now use a
UUID automatically generated by Microservices Runtime instead of the LDAP
directory. For example: 

Directory URL: ldap.<uuid>.url
Principal: ldap.<uuid>.prin
Credentials: ldap. <uuid>.password

When using an application.properties file to create an LDAP configuration, make
sure to specify a unique value in the UUID portion of the key name. 

PIE-72142 (IS_10.5_Core_Fix14)
Users defined in the Common Directory Service central users account cannot be
given read-only access to the Administrator API. 

To enable users with a common directory services to have read-only access to the
Administrator API, Integration Server introduces the following administrative
assets: 

- ReadOnlyAdministrators user group. All members of the ReadOnlyAdministrators
group have read-only access to the Administrator API. 
- ReadOnlyAdministrators ACL. Groups that are allowed access to the
ReadOnlyAdministrators ACL have read-only access to the Administrator API. The
new group ReadOnlyAdministrstors have access to the ReadOnlyAdministrators ACL. 

To give a local user (a user defined on Integration Server) read-only access to
the Administrator API, add the user to the ReadOnlyAdministrators group. 
To give a user in the Central Directory Service read-only access to the API, add
the group to which the user belongs to the ReadOnlyAdministrators ACL. 

The first time the WmAdmin package loads after applying a fix that includes
PIE-72142, Integration Server does the following: 

- Creates the ReadOnlyAdministrators user group if it does not exist.
Adds the users belonging to the group set as the value of the
watt.adminapi.group.readOnly server configuration parameter to the
ReadOnlyAdministrators user group. 
- Deletes the user group specified in the watt.adminapi.group.readOnly
parameter. 
- Creates the ReadOnlyAdministrators ACL and adds the ReadOnlyAdministartors
group to the allowed list for this ACL. 
- Deletes the watt.adminapi.group.readOnly server configuration parameter as it
is no longer needed. 

Note: Integration Server allows all users to access the OpenAPI file for a
product using the GET /admin/swagger/{productName} operation. 

PIE-72310 (IS_10.5_Core_Fix14)
Depending upon the size and complexity of a document, Integration Server might
take a long time to encode the document using the Integration Server binary or
XML protocols. 

This issue is now resolved.

PIE-72377 (IS_10.5_Core_Fix14)
Integration Server runs out of available threads leading to performance 
degradation. 

When API Gateway server is unreachable, disabling the API Gateway ports does 
not remove the listeners created but enabling the ports creates new listeners. 
Hence, additional listeners are created to listen to API Gateway server 
requests leading to performance degradation. 

This issue is now resolved.

PIE-72497 (IS_10.5_Core_Fix14)
Internal environmental variable not exported correctly to the startup script for
an Integration Server running in a Docker container. 

The startup scripts for an Integration Server running in a Docker container sets
an internal environment variable to notify processes executing within
Integration Server that it is being run in a container. However, the variable
was not exported to the startup script properly and was therefore not available
to the Integration Server. 

This issue is now fixed.

PIE-72534 (IS_10.5_Core_Fix14)
When creating a REST API Descriptor (RAD) by importing a Swagger document,
parameter description is missing in the generated services.

When creating a RAD by importing a Swagger document, the description
of a parameter in the generated services is not displayed as it is not set as
the Comments property of the parameter.

This issue is now resolved when the description of the parameter is set as its
Comments property.

PIE-72539 (IS_10.5_Core_Fix14)
After applying a fix that includes PIE-67094, startup services for a deployed
package run twice if the package already exists in the destination environment. 

This issue is now fixed. After deployment, startup services for a package
execute only if the package is new to the environment. 

PIE-72554 (IS_10.5_Core_Fix14)
Creating a Rest API Descriptor throws OutOfMemory error.

When a Rest API Descriptor is created as a provider or consumer from a large
swagger document containing a large number of operations, Integration Server
throws OutOfMemory error while generating the services. 

This issue is now resolved.

PIE-72555 (IS_10.5_Core_Fix14)
Delay in updating complex flow services.

Updating a flow service with complex pipeline mappings and several document
references requires Designer to constantly communicate with Integration Server
to reconcile the pipeline mappings, which causes the delay.

This issue is resolved. Now, Integration Server reconciles the pipeline
mappings. 

Note:
As the reconciliation logic is removed from Designer, install this Integration
Server fix with the corresponding Designer fix to resolve the issue.

PIE-72591 (IS_10.5_Core_Fix14)
The "pub.client:restClient" service generates an invalid output for a compressed
response. 

If the response to the "pub.client:restClient" service is compressed and
contains a "Content-Encoding" response header, the service uses the compressed
response without decompressing, which returns an invalid output. 

This issue is resolved. Now, pub.client:restClient supports response compression
if the "Content-Encoding" response header contains gzip or deflate type
compression schemes. 

PIE-72598 (IS_10.5_Core_Fix14)
Updates to webMethods Metering to exclude transactions for services in the WmMFT
package. 

PIE-72661 (IS_10.5_Core_Fix14)
Incorrect password used for keystore and truststore aliases with the same name
but different passwords. 

If a keystore alias and a truststore alias have the same name, Integration
Server uses the same password handle for both aliases. However, when the
keystore and truststore alias have different passwords, Integration Server might
use the wrong password for the alias. 

Now Integration Server always uses different password handles for keystore and
truststore aliases. 

PIE-72732 (IS_10.5_Core_Fix14)
Option to control whether a REST response includes empty fields.

If the output of a service used as a REST operation does not include a value for
a field defined in the output signature, Integration Server sets a null value
for the field and includes it in the REST response. However, Integration Server
should not include fields in the REST response if a value was not set for the
field in the service output. 

Integration Server now includes a server configuration parameter that controls
whether a REST response includes empty fields or omits them. 

watt.server.rest.includeNullFieldsInResponse
Specifies whether a REST response includes null values for fields for which a
value was not set by the service used as the REST operation. Set to true to use
a null value for empty fields and include them in the REST response. Set to
false to omit empty fields from the REST response. The default is true. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-72805 (IS_10.5_Core_Fix14)
For an HTTPS Web Service Endpoint Alias in Integration Server Administrator, 
the "Enable" property under "Reliable Messaging Properties" is incorrectly 
displayed. 

On Integration Server Administrator > Settings > Web Services > 
[webservice_endpoint_alias_name] > View, the "Enable" property is "false" 
despite enabling "Reliable Messaging Properties" while creating an HTTPS Web 
Service Endpoint Alias. 

This issue is resolved now.

PIE-72810 (IS_10.5_Core_Fix14)
Dynamic variable processors are registered with the Integration Server to
support externalization of ART-based adapter's specific configurations. 

PIE-72982 (IS_10.5_Core_Fix14)
A JMS trigger fails with "JMS Trigger <trigger_name> failed preprocessing: 
java.lang.NumberFormatException: Null is not a valid int". 

When a JMS trigger that uses RabbitMQ as the JMS provider receives a message 
without a value in the message priority field, the JMS trigger fails with the 
exception. 

The issue is resolved. Now, Integration Server sets the message priority 
value as 4 for the JMS messages for which the parsing fails with 
java.lang.NumberFormatException while retrieving the message priority.

PIE-73014 (IS_10.5_Core_Fix14)
The "pub.file:getFile" service fails with the out-of-memory exception while
loading large files from local file systems.

While loading large files from local file systems using the
"pub.file:getFile" service with the "loadAs" parameter set to "stream", the 
service returns the file content as bufferedInputStream. However, the file load 
fails with the out-of-memory exception.

This issue is now resolved by introducing the "largeFile" optional
String input parameter in the "pub.file:getFile" service. By default, the value 
of the parameter is "false". Setting the parameter to "true" returns the
file content as FileInputStream, and also loads large files successfully.

PIE-73035 (IS_10.5_Core_Fix14)
Integration Server throws ClassCastException during a REST API invocation.

When a provider REST API descriptor is created from a Swagger document that has
one or more properties defined as a string and the format as date or date-time,
the generated service signature represents the properties as variables of type
Object with a Java wrapper type of java.util.Date. When the service is invoked,
the response contains java.util.Date type variables but the service returns a
string value instead of a Date object. As a result, Integration Server throws
ClassCastException. 

Now, for a service output variable defined to be of type Object with a Java
wrapper type of java.util.Date, Integration Server returns a Date object instead
of a String. 

Note: Previously, Integration Server returned a value of type string for dates
without causing a ClassCastException. To maintain compatibility with existing
implementations, Integration Server will not throw an exception when a service
returns a string value for a date type variable. However, Integration Server
does not check whether the string value is a valid date format. 

PIE-73141 (IS_10.5_Core_Fix14)
Integration Server generates a document type with an additional field while
creating a REST API Descriptor (RAD) from a Swagger document, which
causes mapping issues.

If a Swagger document imported in Integration Server as a provider or a
consumer has a definition with an array at the root level, the document type
generated using that definition has _generatedInput as the additional field. 
If the definition is used as a request or response body in an operation,
_generatedInput causes errors while mapping that data.

This issue is resolved. Now, for a Swagger definition with an array at the
root level, a document type is not generated, and the fields are directly
generated under the objects referring to that definition to resolve the mapping
issue. 

PIE-73308 (IS_10.5_Core_Fix14)
The resolution for PIE-72497 does not solve the issue for Microservices Runtime.

The startup scripts for an Integration Server or Microservices Runtime running
in a Docker container sets an internal environment variable to notify processes
executing within Integration Server/Microservices Runtime that it is being run
in a container. The solution for PIE-72497 ensured that the variable was
exported to the startup script properly and therefore available to the
Integration Server. However, this did not solve the issue for Microservices
Runtime. 

The startup scripts for Microservices Runtime running in a Docker container now
set the internal environment variable correctly. 

PIE-73420 (IS_10.5_Core_Fix14)
When Integration Server exits the quiesce mode, the dependent packages 
occasionally load in an incorrect order.

This issue is now resolved.

PIE-73605 (IS_10.5_Core_Fix14)
After applying IS_10.5_Core_Fix13, attempts to apply a configuration variables
template fail. 

After applying IS_10.5_Core_Fix13, when Microservices Runtime (or an Integration
Server with a Microservices license) applies a configuration variables template
(application.properties file) at startup, the attempt fails with the following
error: 

[ISS.0028.0040E] Exception while loading processors.cnf : failed to load
com/wm/app/b2b/server/dynamicvariables/processors.cnf 

This issue is now resolved.

PIE-73617 (IS_10.5_Core_Fix14)
Value substitution does not occur for environment variables used in messaging
assets in a configuration variables template. 

When applying a configuration variables template (application.properties file)
that uses environment variables as the values of messaging assets, the
environment variable value is not used as the actual value of the messaging
asset. 

This issue is now resolved.

PIE-73629 (IS_10.5_Core_Fix14)
Attempt to create messaging assets via application of a configuration variables
template fails. 

Messaging assets cannot be created on Microservices Runtime (or an Integration
Server with a Microservices license) through application of a configuration
variables templates if the messaging.cnf file does not exist in the target
environment. 

This issue is now resolved.

PIE-73690 (IS_10.5_Core_Fix14)
OAuth error responses contain invalid JSON.

Some OAuth error responses contain double quotes within JSON strings, which is
not valid JSON. 

This issue has been corrected.

PIE-73715 (IS_10.5_Core_Fix14)
In a cluster, Integration Server threads are blocked at
wm.serverimp.getServerNodes() while waiting for a response from the Terracotta
Server. 

When an Integration Server is a member of a cluster, the server establishes a
remote server alias connection and creates a pinger thread that periodically
calls wm.serverimp.getServerNodes() . This results in a large number threads
making the same call which can result in blocked thread if the Terracotta Server
is not responding. 

To reduce the number of calls made to wm.serverimp.getServerNodes(), the pinger
thread now calls wm.serverimp.getServerNodes() only once - at the time the
pinger thread is created. 

PIE-73908 (IS_10.5_Core_Fix14)
The value of the watt.server.threadPoolMin server configuration parameter cannot
be modified using the Extended settings page in Integration Server
Administrator. 

Attempts to change the value of the watt.server.threadPoolMin parameter using
the Extended settings page in Integration Server Administrator fails with the
error "Invalid input - The Thread Pool Min cannot be greater than the Thread
Pool Max." This occurs even when the provided value is less than
watt.server.threadPool (Thread Pool Max). 

This issue is now resolved.

PIE-74009 (IS_10.5_Core_Fix14)
OAuth scope matching does not work for multiple scopes.

When an OAuth access token is associated with multiple scopes and a resource is
requested that does not match the last of those scopes, the request is denied
with a 401 response. This happens even if the requested resource is in one of
the other scopes on the token. 

This issue is resolved. If a requested resource matches any of the scopes for an
access token, the resource is considered within the scope of the token. 

PIE-74013 (IS_10.5_Core_Fix14)
Updates to webMethods Metering to exclude transactions for services in the
WmOptimize package.

In addition to including resolutions to product defects, a fix may also include
enhancements to existing functionality and features.Any of these items can
result in new or changed built-in services,APIs, or configuration parameters. 
Review the fix contents carefully before installing the fix.

This fix is cumulative, which means that it includes all previous fixes for the 
release.

PIE-73331 (IS_10.5_Core_Fix13)
Update to include Apache Log4j 2.16 which resolves critical security 
vulnerabilities.

Earlier versions of Apache Log4j 2.x were found to have critical security 
vulnerabilities, identified as CVE-2021-45046 and CVE-2021-44228. Upgrading to 
Apache Log4j 2.16.0 remediates these vulnerabilities. 

This fix includes changes needed to use the updated jar files for Apache Log4j
2.16.0 available in Platform 10.5.0 Fix 0018 (OGI_10.5_Fix18) and the 
Shared Libraries Loggers 10.5 Fix 2 (TPP_10.5_Loggers_Fix2).

Important! To remediate the vulnerabilities in CVE-2021-45046 and CVE-2021-44228, 
the OGI_10.5_Fix18 and TPP_10.5_Loggers_Fix2 must also be installed. Note that 
Microservices Runtime requires only TPP_10.5_Loggers_Fix2; it does not require 
OGI_10.5_Fix18. 

PIE-70981 (IS_10.5_Core_Fix12)
An attempt to rename or move a flow service contained in a package where a flow
service in a parent folder is used in a DSP page results in the lower-level flow
service being deleted instead of renamed or moved. 

If an attempt is made to rename or move a different flow service nested at least
three folders deep (folder.subfolder1.subfolder2) in the same folder as a flow
service reference by a DSP page, Integration Server deletes the flow service
instead of renaming or moving them. 

This issue is now resolved.

PIE-72346 (IS_10.5_Core_Fix12)
Integration Server returns a response in the default media type instead of the
requested media type when the Accept header in the request includes a media type
parameter. 

The presence of a media type parameter in the Accept header of an HTTP request
causes Integration Server to respond with the default media type of text/html
instead of the specified media type. For example, the following Accept header
includes a charset parameter. 

Accept: application/json;charset=UTF-8

Integration Server's response to a request with this Accept header uses the
default media type of text/html instead of the requested media type. 

This has been resolved.

PIE-69889 (IS_10.5_Core_Fix12)
The "pub.mime:CreateMimeData" service throws the "[ISC.0064.9415] Encoding is 
not supported" exception when the character set of the "input" parameter is 
empty.

The "pub.mime:CreateMimeData" checks the character set of the "input" parameter. 
If the character set is "null", the service ignores the value and generates the 
mime data. However, if the character set is either unsupported or empty, the 
service throws the "[ISC.0064.9415] Encoding is not supported" exception.

This issue is resolved now. Although the character set of the "input" parameter 
is empty, the service generates the mime data.

PIE-70662 (IS_10.5_Core_Fix12)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs.

PIE-70939 (IS_10.5_Core_Fix12)
Applying an Integration Server fix that includes PIE-69100 might overwrite
custom properties added to custom_wrapper.conf if those properties are defined
using 100 series. 

The resolution for PIE-69100 includes a modification to the custom_wrapper.conf
to define the override file for the java.security file. Application of the fix
that includes PIE-69100, adds the following parameter to custom_wrapper.conf:
wrapper.app.parameter.n= -
Djava.security.properties=config/security/webm_override_java.security where n is
105 for releases 10.5 and lower and 106 for 10.7. If an additional property with
that number already existed in custom_wrapper.conf, it might be overwritten. 

Integration Server adds the following comment to the beginning of the
custom_wrapper.conf file: 

#To prevent conflicts with properties added by Software AG, add your custom
properties with 400 series numbers or higher unless otherwise instructed by
Software AG. 

This comment appears only in the custom_wrapper.conf file created for a new
instance of Integration Server. The comment is not added to an existing
custom_wrapper.conf. 

Further, Software AG recommends that any new custom properties added to
custom_wrapper.conf be assigned a number of 400 or higher, i.e., when adding
wrapper.app.parameter.n to custom_wrapper.conf, set n to 400 or higher. Software
AG also recommends that any existing custom properties in the 100-399 range be
moved to 400 or higher to avoid conflicts with any properties added in future
Integration Server fixes. 

PIE-71794 (IS_10.5_Core_Fix12)
A REST API request that uses OAuth or API Key-based authentication fails.

A REST API request with OAuth or API Key-based authentication to Integration
Server fails with the "401 Unauthorized" error because the request does not 
contain the 'Authorization' header.

This issue is now resolved.

PIE-70945 (IS_10.5_Core_Fix12)
Integration Server creates an invalid URL alias to access a resource when a
REST API Descriptor (RAD) is created or updated.

When a RAD is created or updated using an existing REST resource and the
'Base Path' is set to any of the Integration Server directives such as /restv2
or /rad, Integration Server creates an invalid URL alias with the directive
to access the REST resource. The incoming REST API requests that use the
directives are redirected to the RAD and the requests fail.

The issue is resolved now. A RAD is not saved if its 'Base Path' is set to
any of the Integration Server directives.

PIE-71316 (IS_10.5_Core_Fix12)
When a REST API Descriptor (RAD) is created from a Swagger document and the
connector services are invoked, the header values are not returned in the output.
When the RAD acts as a provider, the response does not have the header variables.

When a RAD is created from a Swagger document and the connector services are
invoked, the header values are not returned in the output because the response
headers are not added in the output signature of the generated connector service.
Similarly, when the RAD acts as a provider, the generated service does not have
the header variables and hence cannot be set in the service implementation.

This issue is now resolved. The header variables are added in the output signature
of the generated services. Hence, the header values are returned in the output
when the connector services are invoked. Similarly, when the RAD acts as a provider
and receives a REST request from a client, the header values are added to the
response headers.

PIE-68168 (IS_10.5_Core_Fix12)
The pub.flow:getLastError service output is not populated.

In rare circumstances, unusual internal server errors that occur while a flow
service is invoking another service prevent the pub.flow:getLastError service
output from being populated. 

This issue is now resolved. The rarely occurring, unusual error is now handled
by flow in the same way as typical errors. 

PIE-69744 (IS_10.5_Core_Fix12)
Delete REST API requests with an empty body result in a NullPointerException.

When a REST API is invoked with the DELETE method, content-type as
'application/json', and no request body, Integration Server throws
'java.lang.NullPointerException'.

This issue is now resolved.

PIE-70255 (IS_10.5_Core_Fix12)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs.

PIE-71229 (IS_10.5_Core_Fix12)
Memory leak in cron task queue due to immediate, one-time-only cron tasks never
being removed from the queue. 

When Integration Server issued an immediate, one-time-only cron task, the task
job was added to the cron queue but never removed. This resulted in a memory
leak. 

Now, immediate, one-time-only cron tasks are no longer added to the cron queue.
However, Integration Server still adds one-time-only cron tasks scheduled for
future execution to the cron queue. 

PIE-71448 (IS_10.5_Core_Fix12)
Support for using Kubernetes Secret with Microservices Runtime. 

You can use a Kubernetes Secret with Microservices Runtime by specifying the
Secret as a property value in the configuration variables file that is passed
into a Microservices Runtime running in a Docker container. 

Prior to using a Secret with a configuration variables files
(application.properties), you must do the following: 
- Create the Secret with Kubernetes 
- Mount the Secret as a data volume  

To use a Kubernetes Secret for a property value in a configuration variables
file, set the key-value pair for the asset property using the following format: 

key=$secret{SecretName}
For example:

truststore.DEFAULT_JVM_TRUSTSTORE.ksPassword=$secret{TruststorePasswordSecretName}
user.userName.password=$secret{mySecretPassword}

When you start the container, you can set the SECRET_PATH environment variable
to the path where the Secret will be present inside the container. You do not
need to specify this environment variable if the Secret is mounted at
/etc/secrets. 

When Microservices Runtime applies the configuration variables file,
Microservices Runtime looks for the location of the Secret by first checking if
the SECRET_PATH environment variable is present. If so, then Microservices
Runtime reads the Secret from the path present in this environment variable. If
the SECRET_PATH environment variable was not provided when the container
started, then Microservices Runtime expects the Secret will be mounted at
/etc/secrets and will read the Secret from there. 

If Microservices Runtime cannot find the Secret used in the configuration
variables file (the Secret is not present or access to the file is restricted
due to file permissions), the following Info level message will be written to
the configurationvariables.log 

[ISS.0028.0039I] Exception occurred while reading secret file: <pathToFile>
Microservices Runtime supports one Secret per container (each Secret can contain
multiple entries) and a Secret of type Opaque only. 

Note: Kubernetes Secrets can be used with a Microservices Runtime or an
Integration Server with a Microservices license. 

PIE-71675 (IS_10.5_Core_Fix12)
After creating a JDBC pool through application of a configuration variables
template, attempts to connect to the database fail because of incorrect
credentials. 

When creating a JDBC pool by applying a configuration variables template at
start up, the value for the database password is not handled correctly. This
results in the attempts to connect to the database failing because of incorrect
credentials. 

This issue is now fixed.

PIE-71858 (IS_10.5_Core_Fix12)
After applying a fix that includes PIE-66922, some packages are not getting
reloaded after deployment. 

The fix for PIE-66922 addressed the issue where Integration Server reloaded
packages over and over again during repository-based deployment. After the fix,
packages were to reload once only. However, some packages were not reloading at
all. 

To resolve this issue, the code changes added for PIE-66922 have been reverted.
Consequently, Integration Server will once again repeatedly reload some packages
during repository-based deployment. 

PIE-71968 (IS_10.5_Core_Fix12)
When using an external server as an authorization provider, the OAuth
authentication for a REST API request fails.

When using an external server as an authorization provider, Integration Server
fails to match the REST API request URL with the URL template configured for a
scope. This results in authentication failure.

This issue is now resolved.

PIE-72037 (IS_10.5_Core_Fix12)
After applying a fix that includes PIE-70758, an HTTP port cannot be created
using Integration Server Administrator on the diagnostic port. 

When creating an HTTP port while using Integration Server on the diagnostic
port, the Package Name field is not listed in the Ports > Add port > Edit HTTP
configuration page. An HTTP port cannot be created if it cannot be associated
with a package. 

This issue is now fixed.

PIE-72129 (IS_10.5_Core_Fix12)
Dynamic variable processors are registered with Integration Server to
support externalization of ART notifications and listeners.

PIE-70641 (IS_10.5_Core_Fix12)
External Active Directory Federation Service (ADFS) user with a domain-based
login ID such as 'eur\user' is unable to log on to API Gateway Cloud.

Integration Server has been updated to support this use case for API Gateway
Cloud. 

PIE-71912 (IS_10.5_Core_Fix12)
An http request that follows a DELETE request fails with HTTP/1.1 400
[ISC.0064.9101] Bad Request. 

When Integration Server receives a DELETE request and the code handling the
request does not consume the entire request body, the remaining request body is
left in the input stream. When a subsequent request arrives on the same
connection, the request fails with the following error: HTTP/1.1 400
[ISC.0064.9101] Bad Request. The request is treated as invalid because the
leftover data from the DELETE request is used as the beginning of the subsequent
request. 

Now, Integration Server discards any unread data when it is done handling a
DELETE request. 

PIE-72160 (IS_10.5_Core_Fix12)
A NullPointerException occurs when applying a configuration variables template
to a new or containerized instance of Microservices Runtime. 

When Microservices Runtime applies a configuration variables template that
creates new assets to a new instance or a containerized instance, Microservices
Runtime first checks whether a certain configuration file already exists before
creating new asset. The configuration check fails with a FileNotFoundException
because the subdirectory under /config that Microservices Runtimes checks for
does not yet exist. 

This issue is now resolved. Configuration checks now account for new or
containerized instances where subdirectories under /config might not yet exist. 

PIE-72221 (IS_10.5_Core_Fix12)
Attempt to create a Universal Messaging connection alias using configuration
variables fails with a NullPointerException. 

When Microservices Runtime attempts to create a Universal Messaging connection
alias through application of a configuration variables template, the attempt
fails with a NullPointerException if the template does not include username and
password. 

This issue is now resolved.

PIE-71872 (IS_10.5_Core_Fix12)
Updates to webMethods Metering for enabling metering based on the license key.

PIE-68782 (IS_10.5_Core_Fix11)
Integration Server incorrectly processes LOOP steps for a recursive document.

In Designer, consider a recursive document whose children are document lists and 
a flow service containing a LOOP step that accepts this recursive document as an 
input. If the LOOP step is looping over a particular level of documents, 
Integration Server must consider all the documents until that level as single 
(scalar) documents and the remaining children as document lists. Instead, 
Integration Server considers all the documents as single documents in the 
pipeline. Due to this, users cannot map these documents to the document lists.

This issue is resolved now.

PIE-69259 (IS_10.5_Core_Fix11)
New public service to synchronize publishable document types with Universal
Messaging including updating the protocol buffer descriptor prior to
synchronizing. 

pub.utils.messaging:syncDocTypesToUM
WmPublic. Synchronizes one or more publishable document types with the
associated provider definition (channel) on Universal Messaging. For each
publishable document type with an encoding type of protocol buffers, the
service: 
- Creates an updated protocol buffer definition
- Compiles the updated definition into an updated protocol buffer descriptor
- Sends the updated protocol buffer descriptor to Universal Messaging
This is different from pub.publish:syncToProvider which synchronizes the
existing protocol buffer descriptor with Universal Messaging. 

Input Parameters

reportOnly - java.lang.Boolean Optional. Indicates whether the service updates
and synchronizes the protocol buffer descriptors with Universal Messaging and
returns a summary of the changes or if the service returns only a summary
without making any changes. Set to: 
- true to return a summary of the publishable document types for which the
service would successfully and unsuccessfully update the protocol buffer
descriptor, including the errors and warnings that would be encountered. The
service does not update any protocol buffer descriptors. This is the default. 
- false to update the protocol buffer descriptor for the selected document types
and synchronize the protocol buffer descriptor with the associated channel on
Universal Messaging. The service returns a summary of the changes. 

backupPackages - java.lang.Boolean Optional. Indicates whether the service
creates a package archive for each package affected by this service prior to
creating a new protocol buffer definition for the publishable document types.
Set to: 
- true to create an archive for each package that contains a publishable
document type that will be updated by this service. The archive will be named
packageName.zip_timeStamp and placed in the following directory: Integration
Server_directory \instances\instance_name\replicate\archive. This is the
default. 
- false to skip creating an archive of each affected package before making
updates. 

Important: Software AG recommends that you set backupPackages to true when
reportOnly is set to false if you have not taken other measures to back up the
packages containing the publishable document types to be synchronized using the
pub.utils.messaging:syncDocTypesToUM service. After the service executes
successfully, restoring from a backup file is the only way to revert a change
made by the service. 

packageNames - String List Optional. Name of the packages containing the
publishable document types that you want to synchronize. 
The packageNames and documentTypesNames input parameters are mutually exclusive.
If you specify a value for both parameters, the service fails with an exception.
If you do not specify a value for either, the service updates publishable
document types that use the protocol buffer encoding type in all packages that
do not start with the letters "wm" in any case combination. 

documentTypeNames - String List Optional. Fully qualified names of the
publishable document types that you want to synchronize. 

Output Parameters

affectedPackages - Document Conditional. An IData containing key=value pairs
that identify the packages impacted by the synchronization and the name of the
archive created for the package. The service returns an archive name only if
reportOnly is set to false and backupPackages is set to true. The archive will
be named packageName.zip_timeStamp and will be located in the following
directory: Integration Server_directory
\instances\instance_name\replicate\archive. 
The service returns affectedPackages only if the service finds at least one
publishable document type to update and synchronize. 

failedPackages - Document List Conditional. List of the packages that could not
be archived. If Integration Server cannot create a package archive for any of
the affected packages, the service ends with an error and nothing is migrated. 
The service attempts to archive a package only when backupPackages is set to
true. 
The service returns the failedPackages parameter only if one of the following
occurs: 
-  The backupPackages input parameter is set to true and an error prevented the
service from archiving at least one package. 
-  A package listed in the packageNames input parameter did not contain any
publishable document types to update. 

failedPackges/package - String Name of the package that the service could not
archive because of an error. 

failedPackages/errors - String Text of the error message that caused package
archiving to fail. 

updatedDocumentTypes - Document List Conditional. List of the publishable
document types updated by the service.The service returns the
updatedDocumentTypes parameter only if the service updated one or more
publishable document types. 

updatedDocumentTypes/package - String Name of the package containing the updated
publishable document type. 

updatedDocumentTypes/name - String Fully qualified name of the updated
publishable document type. 

skippedDocumentTypes - Document List Conditional. List of the publishable
document types that were not updated because there were no changes to make. Some
reasons the service might skip a publishable document type include, but are not
limited to: 
- The publishable document type uses a Broker connection alias.
- The publishable document type does not use protocol buffers as the encoding
type. 
- Values were not specified for either the packageNames or the documentTypeNames
input parameters and Integration Server found publishable document types in
packages whose names started with the letters "wm" in any case combination 
The service returns the skippedDocumentTypes parameter only if the service
skipped updating one or more publishable document types. 

skippedDocumentTypes/package - String Name of the package containing the skipped
publishable document type. 

skippedDocumentTypes/name - String Fully qualified name of the skipped
publishable document type. 

skippedDocumentTypes/reason - String Message indicating why the service did not
update the publishable document type. 

failedDocumentTypes - Document List Conditional. List of the publishable
document types that the service could not update because of an error. The
service returns the failedDocumentTypes parameter only if there were one or more
publishable document types that the service could not update because of an
error. 

failedDocumentTypes/package - String Name of the package containing the
publishable document type that the service could not update because of an error. 

failedDocumentTypes/name - String Name of the publishable document type that the
service could not update because of an error. 

failedDocumentTypes/errors - String Text of the error message that prevented the
service from updating the publishable document type. 

providerSyncResults - Document List Conditional. Results of synchronizing the
updated publishable document types with the messaging provider. The service only
produces this output parameter when reportOnly is set to false and the service
updated at least one publishable document type. 

providerSyncResults/successfulPDTs - String List Fully qualified names of the
publishable document types that the service synchronized successfully with the
messaging provider. 

providerSyncResults/unsuccessfulPDTs - String List Fully qualified names of the
publishable document types that the service did not synchronize successfully
with the messaging provider. 

providerSyncResults/errors - Document List List of any errors that occurred
during document type synchronization. 

providerSyncResults/warnings - Document List List of any warnings that occurred
during document type synchronization. 

Usage Notes

The pub.utils.messaging:syncDocTypesToUM service can be useful for updating the
protocol buffer descriptors for multiple publishable document types at once. For
example, if an Integration Server fix alters the way in which a protocol buffer
descriptor is generated, to see the full effect of the fix, you would need to
edit all of the publishable document types that use the protocol buffer encoding
type, save them to cause an updated protocol buffer definition to be created and
the updated protocol descriptor to be compiled, and then sync the publishable
document types with the provider. While this can be done on an individual
publishable document type basis with Designer, using the
pub.utils.messaging:syncDocTypesToUM service enables the updating and
synchronizing of many publishable document types at one time. 

The pub.utils.messaging.syncDocTypesToUM updates publishable document types
contained in packages that begin with "Wm" when the document type is
specified in documentTypeNames or the package is specified in packageNames only. 

The pub.utils.messaging:syncDocTypesToUM service synchronizes the updated
protocol buffer descriptor for a publishable document types with the
corresponding Universal Messaging channel. Be sure to review the contents of
providerSyncResults/errors and providerSyncResults/warnings for errors and
warnings that Integration Server generated during synchronization. 

If Integration Server did not successfully synchronize an updated publishable
document type use the returned errors in providerSyncResults/errors to determine
why Integration Server could not synchronize the publishable document type.
Then, fix the cause of the error and synchronize the publishable document type
with the messaging provider. You can synchronize documents using Designer or by
executing the pub.publish:syncDocTypesToUM service. 

The pub.utils.messaging:syncDocTypesToUM service will not modify any publishable
document types or webMethods messaging triggers that are locked for edit by
another user or checked out at the time the service executes. 

To use the pub.utils.messaging:sycnDocTypesToUM service to update a publishable
document type, the user or client invoking the service must have Write access to
the publishable document type. 

To generate additional logging information in the Server log when the
pub.utils.messaging:sycnDocTypesToUM service executes, set the logging level for
the server log facility 0154 Protocol Buffer Encoding (Universal Messaging) to
Debug or Trace. 

PIE-69494 (IS_10.5_Core_Fix11) 
For a REST API call, Integration Server logs the request payload and the
response body in the server log.

The request payload and the response body might contain sensitive information
that must not be exposed. However, Integration Server logs the request payload
and the response body in server logs.

The issue is now resolved by changing the Logging Level for Integration Server
from "Info" to "Debug".

PIE-69861
LDAP queries take longer than expected to retrieve user or group information. 

To display user information on the 'User Management' page in Integration Server
Administrator, Integration Server internally queries the associated LDAP server
and fetches all attributes instead of only the required attributes, which
results in an unexpected delay. For example, the following LDAP query to get the
group membership of the user - 'userName0001' retrieves all attributes, whereas
only {cn} or 'common name' attribute is required. 

Starting node: cn=groups,dc=CompanyName 
Filter: (member=uid=userName0001,CN=qp-customers,CN=customers,C=at,
DC=CompanyName) 
Search scope: subtree 
Returning Attributes: ALL 

This issue is now resolved by optimizing queries to fetch only the necessary 
attributes.

PIE-71317 (IS_10.5_Core_Fix11)
When a service ends with an error, under some circumstances Integration Server
will throw a NullPointerException, which obscures the service error. 

This has been resolved. The NullPointerException is no longer thrown.

PIE-71322 (IS_10.5_Core_Fix11)
Expansion of the CLIENT_SECRET column in the IS_OAUTH_CLIENTS table.

The resolution to PIE-69684 ensures that OAuth client secrets are encrypted and
base-64 encoded before being saved to the database. This increases the length of
the saved client secrets. To ensure that the CLIENT_SECRET column in the
IS_OAUTH_CLIENTS table is wide enough to accommodate the encrypted values, it is
now being expanded. 

PIE-67581 (IS_10.5_Core_Fix11)
Integration Server incorrectly handles LOOP steps for a flow service.

Consider a flow service that accepts inputs as two document lists (doc1 and 
doc2), and both of them reference the same document (doc3). Now, while 
inserting a LOOP step to this flow service and modifying the input for doc1, 
Integration Server must only modify the input pipeline for doc1; however, 
Integration Server modifies the input pipeline for doc2 as well.

This issue is resolved now.

PIE-68830 (IS_10.5_Core_Fix11)
When Integration Server loads the WmTN package, it does not synchronize the WmTN 
document types to Universal Messaging and results in the following error.
[ISS.0153.0108E] webMethods Messaging trigger <trigger_name> was unable to 
subscribe to UM channel: com.wm.app.b2b.server.dispatcher.exceptions.
MessagingSubsystemException:
com.pcbsys.nirvana.client.nChannelNotFoundException: 
Channel could not be found on the server:Find :
/wm/offline/wm/tn/rec/TaskFailure 

This issue is resolved now. Now, while loading a WmTN package Integration Server 
synchronizes the WmTN document types to Universal Messaging by invoking a WmRoot 
service (checkAndSyncInternalDocs). To complete resolution of this fix, you must 
also install the latest TN fix that includes OTN-22212.

PIE-69287 (IS_10.5_Core_Fix11)
When a GraphQL resolver service results in an error, the details of the error
are missing in the output of the service. 

This issue is resolved now.

PIE-69462 (IS_10.5_Core_Fix11)
Restarting Integration Server restores the removed My webMethods Server (MWS)
roles. 

Users can remove the "My WebMethods Administrator" and "My WebMethods Users" 
default roles from an ACL in Integration Server and add custom roles. However,
restarting Integration Server restores the removed default roles.

This issue is now resolved by introducing the
"watt.server.removeDefaultMWSRolesInISACL" server configuration parameter. By 
default, the value of the parameter is "false". 
Set the parameter to "true" to exclude the default MWS roles from an ACL.

Restart Integration Server for the change to take effect.

PIE-69570 (IS_10.5_Core_Fix11)
Integration Server throws the following error while sending a keep-alive message 
to the specified destination on the JMS provider.
"[ISS.0134.0096E] Could not create Destination to Ping Connection Alias 
:com.wm.app.b2b.server.jms.ResourceUnavailableException: [ISS.0134.9073] JMS 
connection alias <Alias_Name> is disabled."

When the server configuration parameter, 'watt.server.jms.connection.
pingDestination' is set to '<destinationName>', Integration Server performs a 
lookup for the destination before setting the destination for the connection 
alias. However, Integration Server cannot perform a lookup for the destination 
and ping the destination.

This issue is now resolved.

PIE-69605 (IS_10.5_Core_Fix11)
Integration Server becomes unresponsive when pub.xml:xmlStringToXMLNode receives
invalid XML. 

When the pub.xml:xmlStringToXMLNode service receives invalid XML as input, the
JVM might hang which causes Integration Server to become unresponsive. 

This issue is now resolved. The pub.xml:xmlStringToXMLNode service now handles
invalid XML in such a way to prevent the JVM from hanging and Integration Server
from becoming unresponsive. 

PIE-69651 (IS_10.5_Core_Fix11)
Scheduled tasks on Integration Server do not resume after a temporary database
outage. 
 
After the database recovers from an outage or it is restarted, Integration
Server does not automatically connect to the database and requires a restart.
Hence, scheduled tasks do not resume automatically. 
 
This issue is now resolved.

PIE-70117 (IS_10.5_Core_Fix11)
Incorrect keystore provider is displayed while editing the keystore properties
in Integration Server Administrator.

While editing the Keystore properties in Integration Server Administrator, the
Provider corresponding to the Type must be displayed. However, the first value
in the Provider drop-down list is displayed regardless of the Type selected.

This issue is now resolved.

PIE-70590 (IS_10.5_Core_Fix11)
During startup, Integration Server writes critical log level messages to the
configuration variables log when Integration Server does not have a
Microservices license. 

Integration Server writes the following log messages to the
configurationvariables.log at the Critical level when Integration Server does
not have a Microservices license: 

[ISS.0028.0103C] License file
/opt/webm1/IntegrationServer/instances/admin/config/licenseKey.xml is not
enabled for the Microservices functionality. 
[ISS.0028.0104C] Unable to perform configuration variables processing because
license is not valid. 

The above messages should not be written at the Critical level as an Integration
Server without a Microservices license does not have access to the configuration
variables features. 

Now, the above messages are Info level messages.

PIE-70621 (IS_10.5_Core_Fix11)
Incomplete navigation link title for a folder on the Set ACLs page in
Integration Server Administrator.

On Integration Server Administrator -> Packages -> Management -> Browse Folders,
the link to return to a folder from the SET ACLs page must be, 
"Return to browsing <folder name>". However, the link title is incomplete. For
example, the Set ACLs page displays "Return to browsing" instead of "Return to 
browsing com", where com is the folder in Integration Server setup.

This issue is now resolved.

PIE-70725 (IS_10.5_Core_Fix11)
Integration Server does not reject unsigned SAML assertions.

Integration Server does not fail the authentication when it processes an
unsigned SAML assertion. This exposes Integration Server to the risk of someone
manipulating the SAML assertion by changing the contents of the SAML assertion. 

This issue is now resolved. Integration Server fails the authentication when
handling unsigned SAML assertion. Integration Server also writes the following
warning message to the server.log: 
[ISS.0012.0032W] Warning! Rejecting SAML assertion from issuer "<issuer_name>"
because the SAML assertion is not signed 

PIE-71548 (IS_10.5_Core_Fix11)
Thread deadlock in receiving and processing access token expiration
notifications. 

When Integration Server is in a cluster and receives notifications from the
Terracotta Server Array that an OAuth access token has expired, Integration
Server performs housekeeping operations on the token caches. These operations
are performed with the same thread that received the expiration notification
which can result in a thread deadlock. 

Integration Server now uses a dedicated thread for processing access token
expiration notifications. Because the token housekeeping operations are
performed by a different thread than the one receiving the expiration
notification, the thread deadlock does not occur. 

PIE-71549 (IS_10.5_Core_Fix11)
Fixes for the OAuth functionality.

This fix resolves two issues for the OAuth functionality.

- After applying a fix that contains PIE-67827, editing and then saving an OAuth
client registration that uses a confidential client results in the loss of the
client secret. Instead of saving the encrypted client secret value, Integration
Server saves the masked client secrete value of ******. 
Now, Integration Server saves the original encrypted client secret value and not
the masked value. 

- When using OAuth with a stateless cluster, the active access tokens may be
loaded into all of the Integration Servers in the stateless cluster. When the
access token expires, multiple Integration Servers in the stateless cluster may
try to remove the expired token. If one of the Integration Servers succeeds in
removing the expired token, attempts by other Integration Severs in the
stateless cluster fail with a NullPointerException. 
Now, a NullPointerException no longer occurs if another Integration Server
attempts to remove the same expired token. 

PIE-71594 (IS_10.5_Core_Fix11)
Service results caching performance seems to have degraded.

Blocked threads prevented retrieval of service results values from cache.

This issue has been resolved.

PIE-69966 (IS_10.5_Core_Fix11)
Integration Server decodes a percent-encoded forward slash in a REST request URI
inconsistently.

Integration Server must use the percent-encoded forward-slash (%2F or %2f) in a
REST request URI as is. However, when a REST request URI has %2f, Integration 
Server converts it to forward-slash "/", which is incorrect.

This issue is now resolved.

PIE-70740 (IS_10.5_Core_Fix11)
Configuration option to control whether special characters received in a JSON
string are unescaped during parsing. 

When Integration Server receives JSON content and it contains special characters
that are escaped, Integration Server removes the escape character before passing
it to the pipeline. Integration Server now includes a server configuration
parameter that controls whether or not special characters are escaped. 

watt.server.json.decode.unescapeSpecialChars
Controls whether Integration Server unescapes the special characters '\n', '\r',
'\t', '\b', '\f', ' 
', '\"' while parsing JSON documents. If this parameter is set to true, then
Integration Server unescapes these special characters (that is, '\n' will be
replaced with new line, similarly other characters will also be replaced) in the
output document. If this parameter is set to false then Integration Server keep
these characters as is in the output document. The default value is true. 

Integration Server restart is not required for changes to this parameter to take
effect. 

PIE-67261 (IS_10.5_Core_Fix11)
Integration Server does not honor the timeout period for JDBC connection
requests from Active Transfer server. 

When a large number of JDBC connections are requested from Active Transfer
server with a timeout period for the connections, Integration Server does not
consider the timeout period for a connection and returns a 'null' connection. 

This issue is now resolved.

PIE-71121 (IS_10.5_Core_Fix11)
When exporting a package to Cloud Container, Integration Server now adds
references to native Trading Networks assets. 

Assets that have a namespace name starting with "wm.tn" are now added as
references to generated ACDL files for Cloud Container if the package being
exported contains references to those Trading Networks assets. Previously,
referenced native Trading Networks were not explicitly added as references in
the generated ACDL file for Cloud Container. 

PIE-70806 (IS_10.5_Core_Fix11)
REST connector services return data in the incorrect format. 

When a user creates a consumer RAD from a swagger document 
having response fields of the 'string' type and 'date' or 'date-time' 
format for an operation, a connector service is generated with output 
parameters of the 'java.util.Date' wrapper type that correspond to the 
fields. However, at runtime, the service returns date-time fields as strings 
and not in the 'java.util.Date' format. 

This issue is now resolved.

PIE-67175 (IS_10.5_Core_Fix11)
A request fails when Integration Server cannot write a log message to the server
log. 

As part of handling a request, Integration Server writes messages to the server
log. In some cases, the attempt to write a message to the sever log failed and
the exception was rethrown, which caused the request to fail. 

Now, a failed attempt to write a message the server log will not cause the
client request to fail. If an attempt to write a message to the server log
fails, Integration Server writes the message the wrapper.log. 

PIE-67768 (IS_10.5_Core_Fix11)
Change to OData to write query options from $select parameter to the server log.

When a GET request that includes the query parameter $select is received by an
OData service created using external entities, Integration Server writes the
query options from the $select parameter to the server log in name=value pairs.
For example: 

[ISS.0158.0054I] (tid=353) Following are the query options for the OData service
request: 
$orderby = null
$top = null
$skip = null
$inlinecount = null
$select = SKU

PIE-68482 (IS_10.5_Core_Fix11)
Incorrect date format in server log to be rolled over results in a
ParseException. 

An incorrect date format in the server log to be rolled over results in the
following error message in the wrapper.log: 

java.text.ParseException: Unparseable date

The error also prevents Integration Server from rolling over the server log.

PIE-69908 (IS_10.5_Core_Fix11)
Serial webMethods messaging triggers can process messages out of order.

On Universal Messaging, when the client window size for the listener
corresponding to a trigger is > 1 and the durable type is serial, messages can
be sent to one trigger only. However, that trigger can receive multiple
messages. The trigger writes these messages to a local queue, and another thread
reads from the queue and processes the messages in the order they were received.
To maintain serial processing order, the trigger retrieves messages from the
queue and processes them using a single thread. However, if there is any type of
disruption to the connection to Universal Messaging and the queued messages need
to be rolled back from Integration Server, there is no guarantee that the
messages will be redelivered in the same order. Consequently, a serial trigger
can process messages out of order. 

To resolve this issue and ensure serial processing even when connection
disruptions occur, the client window size on Universal Messaging needs to be set
to 1. Universal Messaging will delivery only one message at a time to the
listener and therefore the trigger. Currently, the serial webMethods messaging
trigger does not set the client window size. Instead, the trigger relies on the
default value set on the Universal Messaging server, which is 100. Note this
value is configurable from Enterprise Manager via Cluster Config >
ClientQueueWindow. Integration Server now sets the client window size to 1 when
the webMethods messaging trigger is serial. This setting will override the value
set on the Universal Messaging server. This ensures that a serial webMethods
Messaging trigger will always receive messages in order even when the connection
is disrupted. 

PIE-70160 (IS_10.5_Core_Fix11)
The watt.server.terracotta.license.path parameter specifies the location of the
Teracotta license file. If the path to the file does not include a folder named
"Terracotta", migration fails with a StringIndexOutOfBoundsException.

The issue is now resolved. If the watt.server.terracotta.license.path parameter 
on the source Integration Server points to a license file inside the 
Integration Server installation directory
(<install_dir>/..../terracotta-license.key), the migration utility migrates the 
parameter value to the target Integration Server, 
specifically <destination_install_dir>/..../terracotta-license.key.

However, if the watt.server.terracotta.license.path parameter value in the
source Integration Server points to a license file outside the Integration Server 
installation directory, then the migration utility does not migrate the value of
this parameter. The migration utility writes the following exception to the 
migration log:

Exception while updating the terracotta license path. Terracotta license path 
will not be migrated.

PIE-70263 (IS_10.5_Core_Fix11)
Using Asset Build Environment (ABE) for building single packages ends with a
failed build. 

A previous change to deployment to allow system Access Control Lists to be
deployed resulted in the inability of ABE to successfully build single packages
for export. 

This issue is now resolved.

PIE-70265 (IS_10.5_Core_Fix11)
After applying a fix that includes PIE-66922, some dependent packages do not
reload during repository-based deployment. 

The resolution to issue PIE-66922 prevented some packages from reloading
repeatedly during repository-based deployment. However, after applying a fix
that includes PIE-66922, some dependent packages do not reload at all. 

This issue is now fixed.

PIE-70433, PIE-70434, PIE-70435, PIE-70438, and PIE-70439 (IS_10.5_Core_Fix11)
Reflective cross-site scripting vulnerability in Integration Server
Administrator. 

This fix addresses a cross-site scripting vulnerability.

PIE-70531 (IS_10.5_Core_Fix11)
Updates to webMethods metering to exclude services in WmServiceMock package from
metering. 

PIE-70713 (IS_10.5_Core_Fix11)
The diagnostic archive does not mask passwords.

When the diagnostic utility creates a diagnostic archive, passwords are
displayed in clear text in some of the files. 

The diagnostic utility now masks these passwords.

PIE-70758 (IS_10.5_Core_Fix11)
Server log contains access denied message when a Designer user belonging to the
Developers ACL connects to Integration Server. 

The internal service wm.server.packages:packageList that Designer uses to
display the packages on an Integration Server had the Administrators ACL
assigned to it. As a result, when a user with only Developer ACL privileges used
Designer to connect to Integration Server, Integration Server wrote the
following error to the server log: 

[ISS.0053.0002C] (tid=<threadID>) Access denied for user <userName> on port
<portNumber> -> 'wm-message' from <IPAddress>. 

This issue is now fixed. Users who belong to a group with only Developer ACL
privileges can use Designer to successfully connect to and view the contents of
packages in Integration Server. 

PIE-70877 (IS_10.5_Core_Fix11)
Updates to webMethods Metering to exclude WmPRT package services from metering.

PIE-70889 (IS_10.5_Core_Fix11)
On UNIX systems, if the internal service wm.server.util:remoteInvoke is passed
/dev/zero for the privKeyFile input, the service fails with an Out of Memory
issue and Integration Server shuts down. 

Now, Integration Sever performs input validation for the internal service
wm.server.util:remoteInvoke and reports an error if /dev/zero is detected for
the path for privKeyFile or any of the certificate file paths provided as input
to the service. 

PIE-70987 (IS_10.5_Core_Fix11)
After applying IS_10.5_Core_Fix10, editing a MAP step in a flow service can
result in a NullPointerException. 

This issue is corrected.

PIE-71343 (IS_10.5_Core_Fix11)
The watt.server.defaultPackage server configuration parameter is missing from
the internal list of parameters for which a restart is required when the
parameter value is changed. 

The internal list of server configuration parameters for which Integration
Server restart is required for changes to take effect is now updated to include
watt.server.defaultPackage. 

PIE-71473 (IS_10.5_Core_Fix11)
Updates to webMethods Metering to exclude WmBusinessRules package from metered
transactions. 

PIE-66298 (IS_10.5_Core_Fix11)
Integration Server does not provide a helpful exception when an email port
cannot be enabled. 

An email port (also called an email listener) might fail to enable if there are
problems with provided credentials or the truststore used with the port.
Integration Server does not indicate what prevents the port from starting. 

Now, when an email port cannot be enabled, Integration Server displays an
exception indicating what caused the failure. 

PIE-70105 (IS_10.5_Core_Fix11)
webMethods Metering updates to exclude WmSAP services from counted transactions.

PIE-71179 (IS_10.5_Core_Fix11)
Updates to webMethods Metering updates.

Updates to webMethods Metering to ensure that services in packages from layered
products are not metered.

PIE-61708 (IS_10.5_Core_Fix10)
In webMethods Cloud, attempts to move a newly created SOAP application from one
folder to another encounter issues if the application contains a document
reference. 

If a SOAP application in webMethods Cloud contains a document reference, copying
the application from one folder to another does not work correctly because the
copied document reference points to the old folder location and not the new
location. 

This issue is now resolved.

PIE-64930 (IS_10.5_Core_Fix10)
Change to Integration Server to control whether a port configured to deny
requests will have a default allow list of predefined services. 

For a port configured to deny requests, Integration Server automatically adds a
predefined list of built-in services and internal services to the allow list.
Some of these services have an Execute ACL set to anonymous which is an
undesirable configuration in some environments. 

To resolve this issue, Integration Server includes a server configuration
parameter that determines whether Integration Server adds the predefined list of
services to the allow list for a port configured to deny access. 

watt.server.security.createDefaultServicesOnPorts
Specifies whether a default list of internal and built-in services is added to
the allow list of a port configured to deny access. Some of the internal
services have an Execute ACL set to anonymous which may be a security
vulnerability in some environments. Set to true to include the predefined list
of internal and built-in services in the allow list. Set to false to add no
internal or built-in services to the allow list. The default is true. 

Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-65069 (IS_10.5_Core_Fix10)
Integration Server has issues at runtime while working with a REST API 
Descriptor (RAD) created from a Swagger document containing arrays as root 
elements in the response.

When you are creating a provider or consumer RAD by importing a Swagger document 
that has operations containing arrays as root elements in the response, 
Integration Server sends an incorrect response while working as a provider and 
incorrectly executes the connector services while working as a consumer.

These issues are resolved now.

PIE-66032 (IS_10.5_Core_Fix10)
The pub.oauth:removeExpiredAccessTokens service removes expired access tokens
but does not return any output to indicate the number of expired tokens that
were removed. 

The pub.oauth:removeExpiredAccessTokens service now returns the output parameter
removedTokensCount. This field, which is of type String, indicates the number of
expired tokens removed by the service. If the service did not remove any expired
tokens to be removed, the value of removedTokensCount is 0. 

PIE-67120 (IS_10.5_Core_Fix10)
Incorrect dependency displayed between a document type and a simple type in an
IS schema. 

When using schema domains, if there are simple types with the same name in both
the default schema domain and another schema domain, the dependency manager in
Designer might show incorrect dependencies between the document types that
reference those simple types. 

This issue is now resolved.

PIE-67515 (IS_10.5_Core_Fix10)
Integration Server incorrectly assigns the status for JMS messages as 'IN_DOUBT' 
instead of throwing an error message during a database failover.

In Designer, when you configure the exactly-once processing for a JMS trigger by
setting the "Detect duplicates" and "Use history" properties to "True" under 
"Properties > Exactly once" and if a database failover happens while entering a 
record into a table, Integration Server incorrectly assigns the status for the 
messages as 'IN_DOUBT' instead of throwing an error message. 

This issue is resolved now.

PIE-67563 (IS_10.5_Core_Fix10)
When a service uses a table object of the "com.wm.util.Table" class as an
input parameter of type DocumentList, resubmitting the service from My
webMethods Server results in the "java.lang.ClassNotFoundException:
Class:com.wm.util.Table" exception. 
 
For the resubmission to work, the pipeline objects are deserialized. However, to
address Java deserialization vulnerability, Integration Server deserializes only
the Java objects listed in the <Integration
Server_directory>/instances/instanceName/config/security/whitelistclasses.xml
file. Since the "com.wm.util.Table" class is not listed in the
whitelistclasses.xml file, it is not deserialized, and Integration Server throws
the exception. 
 
This issue is resolved by adding the "com.wm.util.Table" class to the
whitelistclasses.xml file. 

PIE-67811 (IS_10.5_Core_Fix10)
A delay is observed when Integration Server runs the "pub.client:http" service
to connect to a target server through a proxy server. 

If the proxy server cannot connect to the target server when Integration Server
runs the "pub.client:http" service, Integration Server disconnects from the
proxy server and attempts to connect to the target server directly. This process
results in a delay of 3 to 4 minutes during the service execution. 

This issue is now resolved.

PIE-67821 (IS_10.5_Core_Fix10)
Integration Server throws an error while importing a Swagger document containing 
an inline schema in the request body.

When you create a provider or consumer REST API descriptor (RAD) by importing a 
Swagger document that contains an inline schema in the request body, Integration 
Server throws an error and does not import the document.

This issue is now resolved.

PIE-67885 (IS_10.5_Core_Fix10)
Unable to establish a connection to Enterprise Gateway Server on the loopback
interface: 127.0.0.1. 

An Enterprise Gateway Server instance may have an internal server port on the
loopback interface and also have an external registration port on the same host.
In such an environment, a create, update, or delete operation on the
registration port generates the error, "Failed to create Gateway Listener as
Port xxxx is already associated with another listener", though there is no such
listener. 

The issue is now resolved.

PIE-68082 (IS_10.5_Core_Fix10)
In an Integration Server setup with Enterprise Gateway, when a native service
running on Integration Server sends an HTTP response to Enterprise Gateway with
Transfer-Encoding as chunked in the HTTP header, Enterprise Gateway sends back
the response to the external client and then closes the internal socket.
However, this creates an internal socket between Enterprise Gateway and
Integration Server for every new request resulting in performance degradation. 

This issue is resolved now.

PIE-68330 (IS_10.5_Core_Fix10)
In Integration Server 10.5, the output of the built-in service,
pub.xml:documentToXMLString, shows some data loss when the document to be
converted (the document input parameter) has a document list that contains
nested objects types. 
 
The issue is now resolved.

PIE-68651 (IS_10.5_Core_Fix10)
When an InputStream is passed to the responseStream input parameter off the
pub.flow:setReponse2 service, the service does not close the stream after
sending the HTTP response to the client. 

Now, the pub.flow:setReponse2 service closes the stream after sending the
response. 

PIE-68725 (IS_10.5_Core_Fix10)
If a transient error occurs when Integration Server retrieves a group list for 
a user from the associated LDAP server, then Integration Server uses the 
partially returned list.

This issue is resolved now. In such scenarios, Integration Server returns 
an empty group list.

PIE-68778 (IS_10.5_Core_Fix10)
When Integration Server experiences a heavy load of outbound calls, the number
of newly created sessions may result in out of memory and/or stability issues. 

When making an outbound HTTP/S call, Integration Server uses an existing session
or creates a new session. Whether Integration Server reuses an existing session
or creates a new session depends on the following: 

-  Whether the server configuration parameter
watt.server.new.http.session.context is set to true. 
-  If there is a newSession parameter set to yes in the pipeline. The
pub.client:http service has a newSession input parameter. 
-  If watt.server.new.http.session.context is set to false and the newSession
parameter is not in the pipeline or it exists but has the value "no", then
Integration Server checks to see if there is already a session assigned to the
service thread. If a session is available on the service thread, Integration
Server uses it. If there is not a session available, Integration Server creates
one with the name "(httpclient)". 

The new sessions created under heavy load tend to occupy more memory and create
stability issues for Integration Server. This is because sessions created under
heavy load are less likely to be reused. Additionally, the interval at which
Integration Server executes the session sweeper scheduled system task to clean
up expired sessions is the same as the value of the watt.server.clientTimeout
parameter. (The watt.server.clientTimeout, which has a default of 10 minutes,
specifies the amount of time, in minutes, after which an idle session times
out.) If the session sweeper task executes every ten minutes and the session
itself must be idle for ten minutes before it times out, idle sessions could
remain in Java heap. As more and more outbound calls are made, more and more new
sessions are created. This leads to issues with heap exhaustion. 

To address the issues caused by new sessions created under heavy outbound load,
Integration Server introduces the following changes: 

-  Reducing the idle period of a newly created session for an outbound HTTP/S
call and providing the ability to configure this idle period. The new server
configuration parameter watt.net.http.clientSession.idleTimeout specifies how
many milliseconds a newly created outbound HTTP/S session can be idle before the
session times out and can be removed by the session sweeper. A lower idle
timeout for a session allows Integration Server to more quickly remove a session
that is not likely to be reused. The default value is 20,000 ms (i.e., 20
seconds). Outbound HTTP/S sessions have the name "(httpclient)". You do not need
to restart Integration Server for changes to this parameter to take effect. 
-  A new configuration parameter for controlling the interval at which the
session sweeper system task executes. The watt.server.session.sweeperInterval
specifies the interval, measured in milliseconds, between execution or the
session sweeper task. The parameter applies to all inbound and outbound
sessions. The default is 120,000 ms (2 minutes). You must restart Integration
Server for changes to this parameter to take effect. 

Note: If the watt.server.clientTimeout value is less than the
watt.server.session.sweeperInterval, Integration Server uses the
watt.server.clientTimeout value as the interval for the session sweeper
scheduled task. That is, when scheduling the sessions sweeper system task,
Integration Server uses the shorter of the time values set for
watt.server.session.sweeperInterval or watt.server.clientTimeout. Keep in mind
that watt.sever.clientTimeout value uses minutes as the unit of measure and
watt.server.session.sweeperInterval uses milliseconds. 

PIE-68858 (IS_10.5_Core_Fix10)
In some cases, a few properties are not migrated correctly and the Integration
Server instance fails to start after migration to a newer version. 

A few properties in AuditConfig.xml and the Terracotta license path in
server.cnf continue to point to the source installation after a migration. In
such cases, the migrated Integration Server instance fails to start. 

This issue is resolved now. The properties in AuditConfig.xml and the Terracotta
license path in server.cnf file point to the target installation. 

PIE-68900 (IS_10.5_Core_Fix10)
Previously, a configuration variables template could be used to set the user and
password for a Broker connection alias only. 

Microservices Runtime and an Integration Server with a Microservices license now
support setting the following values for a Broker connection alias via an
application.properties file. 

Broker Host: messaging.BROKERALIAS.brokerHost
Broker Name: messaging.BROKERALIAS.brokerName
Client Group: messaging.BROKERALIAS.clientGroupName
Keystore: messaging.BROKERALIAS.certfile
Keystore Password: messaging.BROKERALIAS.keystorePassword
Truststore: messaging.BROKERALIAS.truststore
Username: messaging.BROKERALIAS.user
Password: messaging.BROKERALIAS.password

You can also create a Broker connection alias via application of a configuration
variables template. However, only one Broker connection alias can exist on a
Microservices Runtime (or an Integration Server). If the application.properties
file being applied to the Microservices Runtime specifies a Broker connection
alias, but a Broker connection alias already exists on Microservices Runtime, an
error is written to the configurationvariables.log and the Broker configuration
is not updated. 

PIE-68910 (IS_10.5_Core_Fix10)
When server logging facility 0012 is set to TRACE, an OutOfMemoryException can
occur when Integration Server processes tokens from an OpenID provider. 

This has been resolved. The OutOfMemoryException no longer occurs when
Integration Server logs OpenID activity. 

PIE-68911 (IS_10.5_Core_Fix10)
The pub.mime:createMimeData service ends with an error when the supplied input
has a content type of application/pkcs7-signature.

When the input to pub.mime:createMimeData service has a content type of 
application/pkcs7-signature, the service ends with the following error:

Unknown mime type: application/pkcs7-signature; name=<.p7s file in the input>

The pub.mime:createMimeData service uses the Entrust IAIK library to create the 
MIME object when the content type is application/pkcs7-signature. However, this 
library does not support the content type application/pkcs7-signature which results 
in the service ending with an error.

The pub.mime:createMimeData service now uses Bouncy Castle to create the MIME 
object when the content type is application/pkcs7-signature. The Bouncy Castle 
libraries includes handlers for the content type application/pkcs7-signature.

PIE-69004 (IS_10.5_Core_Fix10)
Requests for an OAuth access token in a cluster can result in an "Access denied"
error. 

When a confidential OAuth client is created on a clustered Integration Server,
the client's user account is saved to the local file system but not to the other
servers in the cluster. When the client sends a request to the OAuth token
endpoint on another server in the cluster, a user account is dynamically created
for the client on the other server. Integration Server creates the user account
with an internal call to the wm.server.access:addUsers service. If the token
endpoint is accessed on a port that does not allow execution of the
wm.server.access:addUsers service, the client will receive an "Access denied"
error. 

This has been resolved. When a user account is dynamically created for an OAuth
client, the port access check is not executed. 

PIE-69367 (IS_10.5_Core_Fix10)
Designer cannot connect to an Integration Server due to insufficient file 
creation permissions.

When Designer connects to an Integration Server, it tries to create a log file.
However, if the user does not have write permissions, Designer cannot connect
to Integration Server.

This issue is resolved. Now, by default, Designer does not create a log file
while connecting to an Integration Server. If you want to collect more logging
information, set the 'watt.client.logFile={log_file_path}' property in the "{
Software AG_directory}\Designer\eclipse\configuration\config.ini" file so that 
Designer creates the log file at the configured location.

PIE-69502 (IS_10.5_Core_Fix10)
Enhancement to the pub.oauth:introspectToken and pub.oauth:getToken services to
work in a stateless cluster. 

When Integration Servers are configured to connect to the same databases but are
not configured to store information in a distributed cache in Terracotta Sever
Array, the Integration Servers are in a stateless cluster. An access token can
already be used by any Integration Server in the stateless cluster to invoke
services. However, the pub.oauth:introspectToken service cannot be used to check
whether an access or refresh token generated by another Integration Server in
the stateless cluster is active. 

Now, an access or refresh token created by one Integration Server in a stateless
cluster can be used by any other Integration Server that uses the same database
and the pub.oauth:introspectToken service can be used to introspect the token. 

PIE-69535 (IS_10.5_Core_Fix10)
The patch history in Integration Server Administrator dos not show partial
package deployments of Wm* packages. 

After applying a fix or migrating to a release that includes PIE-62988, the
patch history visible on the Support > webMethods Packages and Updates was
modified to hide partial package deployment of Wm* packages. This change was
made specifically to hide partial package deployment of webMethods adapter
packages (WmJDBCAdapter, WmMQAdapter, WmAS400, and WmSAP can be partially
deployed). However, this change introduced confusion and inconsistencies for Wm*
packages that can be partially deployed, such as the WmTN package. 

To provide consistency, the change introduced by PIE-62988 has been reverted.
The patch history in Integration Server Administrator lists all Wm* packages
that result from partial deployment. 

PIE-69684 (IS_10.5_Core_Fix10)
Integration Server stores OAuth client_secrets in clear text.

When a confidential OAuth client is created, Integration Server generates a
client_secret. The client_secret is similar to a password and must be stored
securely.  Integration Server saves client_secrets in clear text in the
database. However, if the database itself is not encrypted, this represents a
security vulnerability. 

This vulnerability had been addressed previously with PIE-67827 which changed
the Integration Server behavior to store the client_secrets in the secure
password store. However, this solution does not work well for Integration
Servers in a cluster because the password store resides on each server's local
file system. As a result, the client_secret values are not shared among all the
servers in a cluster. 

This fix addresses the security vulnerability and the shortcomings of using the
local password store, by encrypting each client_secret before writing it to the
database. When Integration Server reads client_secrets from the database,
Integration Server holds them in memory in encrypted form. Integration Server
decrypts the client_secret only when they are being used. 

When Integration Server starts after this fix is installed, Integration Server
encrypts clear text client_secrets in the database. Integration Server also
encrypts client_secrets found in the password store and saves them to the
database. 

PIE-69773 (IS_10.5_Core_Fix10)
During full deployment, webMethods Deployer fails to overwrite existing packages
on the target Integration Server. 

When a user deploys a custom package to a target Integration Server, which has a
package with the same name as the custom package, webMethods Deployer fails to
overwrite the target package. This issue occurs only when the target Integration
Server has folders with symbolic links. 

This issue is now resolved.

PIE-63155 (IS_10.5_Core_Fix9)
Integration Server throws a document validation error while publishing a 
document that depends on a document in another package and the two packages were 
not installed in the correct order.

Consider two IS packages: package 'A' and package 'B'. Package 'B' contains a
document 'B1' which refers to a document 'A1' in package 'A'. The packages are 
installed in the correct order: first package 'A' and the package 'B'.
 
Now,suppose you modify elements in document 'A1' and then reinstall the packages 
in the reverse order: first package 'B' and then package 'A'. Thereafter, when 
you try to publish document 'B1', Integration Server does not publish it because 
document 'B1' refers to an earlier version of document 'A1' which is not 
available.

This issue is now resolved. Now, even if the packages are installed in the 
reverse order, you will be able to publish the dependent document 'B1'.

PIE-67717 (IS_10.5_Core_Fix9)
Integration Server now includes a metering simulator that, when enabled, will 
generate server log messages that let you see the transaction usage that will 
be sent to the metering server if all the metering criteria is met.

Software AG provides a subscription, usage-based pricing model for many of the 
company's products, including Integration Server. The webMethods Metering utility 
uses a local webMethods Metering Agent installed with a product to collect data 
based on the webMethods product usage and then sends the data to the webMethods 
Metering Server which handles the billing aspect of the product usage. 
The criteria for transaction metrics to be reported to webMethods Metering include 
being on one of the supported versions, applying the most recent fixes, and having 
a license key installed that is associated with a transaction-based contract. 
For more information on webMethods Metering, consult the Software AG 
Infrastructure Administrator's Guide.

Integration Server includes a metering simulator that gathers service 
metrics and associated transaction information and writes that information 
to the server log. When the metering simulator is enabled, Integration 
Server produces a server log message for each service that would be metered. 
Integration Server writes one log message per invocation of a top-level, 
user-defined service. Integration Server does not aggregate data across 
multiple invocations of the same service into a single log message.

The metering simulator (and the webMethods Metering Agent) generates 
metrics for top-level user-defined services only.
Following is an example of server log message for a metered service:

2021-05-20 16:55:35 EDT [ISS.0176.9999I] (tid=92) Simulated metering 
metrics for service: myFolder.mySubFolder:exampleService, tenant=null, 
cpu=0(ns), duration=0(ms), transactions=1

The format for the message is:

Simulated metering metrics for service:<serviceName>, tenant=<ID>, 
cpu=<cputime>(ns), duration=<durtime>(ms), transactions=<count>

Where:
serviceName: The name of the top-level service for which the simulator 
is generating metrics.
tenant: The tenant ID. For a self-hosted runtime, the tenant ID will be null.
cpu: The amount of CPU time used for the service, measured in nanoseconds.
duration: The duration of the service, measured in milliseconds.
transactions: The number of transactions counted for this single service 
invocation. If the duration is less than 3 seconds, the count will be 1. 
If the duration exceeds 3 seconds, additional transactions will be counted 
for each 3 second interval. If your license key defines a different 
transaction duration value, the simulator will use that value to determine 
the number of transactions.

Note: The (tid) is the thread ID of the thread performing the service execution.

The metering simulator runs independently of webMethods Metering. The metering 
simulator only enables the logging of messages for services that would be
metered and therefore generate transaction data. Enabling the metering 
simulator does NOT result in actual reporting of the measured transaction 
data nor does it result in charges.

The metering simulator has the following main use cases:

- Your site has the traditional perpetual license and you are considering 
moving to the transaction-based pricing model. Enabling the metering simulator 
for a period of time, and then analyzing the resulting data may provide guidance 
on how many transactions per month your site would need. The period of time for 
which you enable the simulator should reflect a typical transaction load.

- Your site already has a subscription, usage-based license but you want access 
to critical metering data that is not reported with webMethods Metering. 
Specifically, the metering simulator provides the names of the top-level 
services that generate the transactions and the number of transactions 
resulting from each top-level service execution. The logs generated by 
metering simulator can be key to understanding your usage data. For example, 
if you see a webMethods Metering report that indicates your site ran a million 
transactions last month, you may want to know the source of those transactions 
which Integration Server generated the most transactions and which services 
are long-running and contributing the most transactions. Using the server logs 
created while the metering simulator is running can help you determine 
the answer to these questions.

Enabling and disabling of the metering simulator is controlled by a server 
configuration parameter. Set watt.server.metering.simulator.enabled to true 
to have Integration Server gather metering data for top-level services and 
write metering simulation messages to the server log. Set to false to disable 
the metering simulator. The default is false. You do not need to restart I
ntegration Server for changes to this parameter to take effect.

PIE-66711 (IS_10.5_Core_Fix9)
Support for adding the SameSite attribute to the Set-Cookie HTTP response header
in Integration server.

Integration Server includes a new server configuration parameter,
watt.server.http.header.sameSite, that enables you to add the SameSite attribute
to Set-Cookie HTTP response headers. 

Valid values for watt.server.http.header.sameSite are: None, Strict, and Lax. If
the parameter is set to None, all clients that include cookies with their
requests must use a secure HTTP (HTTPS) port. If you want to return Set-Cookie
headers without the Secure attribute, set watt.server.http.header.sameSite to
Strict or Lax. 

There is no default value for the watt.server.http.header.sameSite parameter.
Therefore, by default, the SameSite attribute is not added. 

A server restart is not required for this configuration parameter to take
effect. 

Notes:
- The HTTP standard states that when the SameSite attribute of the Set-Cookie
HTTP response header is None, the Secure attribute must be specified. To include
the Secure attribute in the HTTP response header, set the server configuration
parameter watt.server.http.header.useSecure to true. 
- If you try to set watt.server.http.header.sameSite to None in IS
Administrator, when watt.server.http.header.useSecure is set to false, IS
Administrator displays a warning message and does not allow you change the
value.
- If you edit the server.cnf configuration file directly and specify an invalid
configuration, IS logs a warning and the invalid configuration is ignored. As
the value of watt.server.http.header.sameSite is ignored, the SameSite attribute
is not added to the Set-Cookie HTTP response header. 
- If you set the Set-Cookie header and include the SameSite attribute using the
pub.flow:setResponseHeader or pub.flow:setResponseHeaders services then IS
ignores the value of the watt.server.http.header.sameSite parameter. 

PIE-66849 (IS_10.5_Core_Fix9)
WmJMSAdminException occurs when attempting to create a destination on Broker via
Designer. 

When creating a JMS connection alias that uses the native webMethods API,
Integration Server incorrectly creates the connection as encrypted even when the
Encrypted check box is not selected. This results in the following exception
when attempting to use Designer to create a destination on Broker. 

com.webmethods.jms.admin.WmJMSAdminException: [BRM.10.5102]  JMS: Cannot make an
authenticated connection to Broker: password is missing

This issue is now resolved.

PIE-66946 (IS_10.5_Core_Fix9)
Integration Server does not roll over server log files correctly.

When Integration Server rotates the server log, Integration Server also ensures
that the number of server log files (the current file plus archived ones) does
not exceed the value of watt.server.serverlogFilesToKeep. However, Integration
Server deletes the most recent archived server log file 
instead of the oldestone. 

This issue is now corrected.

PIE-66986 (IS_10.5_Core_Fix9)
Integration Server does not remove expired OAuth tokens from the cache or
database. 

Integration Server maintains some base OAuth token information in the
OAuthTokens cache and access token information in the OAuthAccessTokens cache.
However, Integration Server does not correctly remove token data associated with
expired access tokens from the caches or the database. 

This fix resolves the following issues surrounding OAuth tokens, the caches, and
the database: 
 
- Integration Server removes expired OAuth access tokens from the cache but does
not remove the corresponding record from the database. This is more prevalent
when Terracotta Server Array (TSA) is in use. Now, Integration Server ensures
automatic deletion of expired access tokens from the TSA cache and the database. 

- The OAuthTokens cache increases in size as used tokens are removed from the
database but left in the TSA caches. Now, when the access token that corresponds
to a token or refresh token expires, Integration Server automatically removes
the token or refresh token from the TSA cache. If the refresh token is valid and
is used again, Integration Server re-retrieves the corresponding token and
refresh token from the database and adds them to the TSA cache. Integration
Server will remove the tokens in the TSA cache after the access token expires. 

PIE-66988 (IS_10.5_Core_Fix9)
Enhancement to Integration Server to add support for FIPS-certified cipher.
 
In conjunction with the webMethods Shared Components (issue WSC-660),
Integration Server now includes support for a FIPS-certified cipher with the
outbound password encryption and the master password features. Specifically, the
password manager in Integration Server now supports an Entrust AES cipher
algorithm with a 256-bit key. 
 
Integration Server does not automatically switch to the new cipher algorithm nor
does it migrate existing passwords that were encrypted using a previous
algorithm. If you want to use the FIPS-certified cipher with passwords, you must
edit the passman configuration. 
 
To configure Integration Server to use the new cipher algorithm for all
passwords (existing and future ones), do the following after applying a fix that
includes PIE-66988 and the companion shared components fix that includes
WSC-660: 
1. Shutdown Integration Server.
2. Navigate to the IntegrationServer/instances/<instance_name>/config/ directory
and backup the following files: 
    - configPassman.cnf
    - passman.cnf
    - txnPassStore.dat
    - empw.dat
Note: If you are using Microservices Runtime, navigate to
IntegrationServer/config. 
3. In the above directory, delete the following files
     - passman.cnf
     - txnPassStore.dat
     - empw.dat
4. Using a text editor, open the configPassman.cnf file located in the same
directory. 
5. Make the following changes to configPassman.cnf
   5.1 Before the master.password.field.fileName parameter, add the following
parameter: 

MasterPasswordClass=com.webmethods.sc.security.passman.impl.masterpw.entrust.EntrustAesMasterPassword
   5.2 Change the value of default.encryptor parameter to EntrustAes.
       Note: You can comment out the current default.encryptor parameter using # and
then add the line: 
                       default.encryptor=EntrustAes
   5.3 At the end of the file, add the parameter: sanity.encryptor=EntrustAes
6. Save your changes to configPassman.cnf and close the file.
7. Start Integration Server.
8. Set the values of any outbound passwords (keystores, JDBC pools, etc.). This
is necessary because deleting the *.dat files removed any saved outbound
passwords. The new values for outbound passwords will be encrypted using the new
cipher encryptor. 

Note: If you have multiple Integration Servers that use the same passwords, you
can make the changes described above in one Integration Server. Then, after
installing the fixes that contain PIE-66988 and WSC-660 on another Integration
Server, while the Integration Server is still shut down, copy the passman.cnf,
configPassman.cnf, txnPassStore.dat, and empw.dat files from the first
integration Server to the IntegrationServer/instances/<instance_name>/config/
directory on the second Integration Server. 

PIE-67151 (IS_10.5_Core_Fix9)
When a web service connector receives an HTTP 4xx response other than a 400,
Integration Server does not pass the fault details back to the caller but
should. 

Now, Integration Server processes HTTP 4xx responses received by a web service
connector similarly to HTTP 400 responses. Integration Server returns the fault
details present in the response to the caller. 

PIE-67265 (IS_10.5_Core_Fix9)
Integration Server does not gracefully handle an attempt to access the pub-sub
component (webMethods messaging) when it is not licensed. 

This issue is now resolved.

PIE-67416 (IS_10.5_Core_Fix9)
Under heavy load, server processing that relies on the
java.lang.invoke.MethodHandles class degrades resulting in high CPU usage and
OutOfMemoryExceptions.

Integration Server can encode an Object into a stream of bytes and decode a
stream of bytes, if properly encoded, back into an Object. The process of
decoding bytes uses the java.lang.invoke.MethodHandles class during the creation
of object instances. Under heavy loads, the performance of the
MethodHandles.lookup() method degrades. This can create a bottleneck in the
server's processing, eventually leading to high CPU usage and
OutOfMemoryExceptions. 

This has been resolved. The use of MethodHandles has been replaced.

PIE-67626 (IS_10.5_Core_Fix9)
When you create a JNDI connection alias using a WmRoot internal service and do
not update the required input parameters that enable the JNDI password to be
saved in the password manager, Integration Server fails to look up JNDI 
administered objects.

This issue is resolved. Now, Integration Server displays an error message
indicating that the input parameters are invalid or missing in the service 
request, and does not save the JNDI connection alias.

PIE-67687 (IS_10.5_Core_Fix9)
Enhancement to diagnostic utility to gather data for webMethods messaging and
JMS messaging. 

The diagnostic utility in Integration Server now gathers data about webMethods
messaging and JMS messaging and includes this information in the diagnostic
report. The diagnostic information includes trigger conditions, JMS connection
alias information, messaging connection alias information. The additional
information may help with debugging and diagnosing issues in Integration Server. 

PIE-67825 (IS_10.5_Core_Fix9)
After applying a fix that includes PIE-66955, the configuration variables
(application.properties) could only set a keystore alias type to the default
value. 

This issue is now resolved. An application.properties template can be used to
set a keystore alias type to a value other than the default. 

PIE-68067 (IS_10.5_Core_Fix9)
Integration Server incorrectly enables a suspended JMS trigger even though a
resource monitoring service is not configured.

In Designer, when you configure the exactly-once processing for a JMS trigger by
setting the "Detect duplicates" and "Use history" properties to "True" under 
"Properties > Exactly once" and the 
"watt.server.trigger.preprocess.suspendAndRetryOnError" parameter to "true", 
Integration Server suspends the trigger if the history database contains issues 
and monitors the database availability using a resource monitoring service.
When the database is available, the monitoring service enables the trigger.

Now, if any issue occurs while processing the trigger and if the "Transient 
error handling > On retry failure" property is set to "Suspend and retry later", 
and a resource monitoring service is not configured, Integration Server must 
only suspend the trigger and not enable it automatically.

This issue is now resolved.

PIE-68163 (IS_10.5_Core_Fix9)
Integration Server Administrator cannot be used to change the state of a
webMethods messaging trigger. 

When the server configuration parameter watt.server.ns.lockingMode is set to
none, Integration Server Administrator cannot be used to suspend or resume
document retrieval or document processing for a webMethods messaging trigger.
Instead, the following error occurs: 

com.wm.app.b2b.server.ServiceException: [ISS.0098.9072] Trigger "<triggerName>"
is locked. Change not permitted. 

This is incorrect. When watt.server.ns.lockingMode is set to none, locking
should be disabled and Integration Server Administrator can be used to change
the state of the trigger. 

This issue is now resolved.

PIE-68317 (IS_10.5_Core_Fix9)
Enhancement to Integration Server to control whether an outbound call from
Integration Server follows redirection. 

Previously, when Integration Server makes an outbound call and receives a
response code is between 300 and 400, Integration Server automatically redirects
to the location specified in the response header. However, an application may
sometimes require Integration Server to not follow that redirection. For
example, an application may need to first see the cookies returned by the
initial request before making the redirection request. Some applications may not
need to follow a redirection request. 

To resolve this issue, Integration Server now includes the server configuration
parameter watt.net.http.followRedirect that controls following redirection
requests on a server-wide basis and a pub.client:http input parameter that
controls following redirection requests on a case by case basis. 

watt.net.http.followRedirect
Specifies whether Integration Server automatically follows redirection when an
outbound HTTP requests receives a response code is between 300 and 400. Set to
true for outbound requests to follow the redirect. Set to false for outbound
requests to not follow the redirect and instead return the response code and all
of the response headers from the original outbound request. The default is true. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

The watt.net.http.followRedirect behavior can be over-ridden on a case-by-case
basis via the followRedirect input parameter for the pub.client:http service. 

followRedirect - String. Optional. Whether the outbound request follows a
redirect when receiving a response code between 300 and 400. Set to one of the
following: 

yes - if the request follows the redirect
no - if the request does not follow the redirect and instead return the
response code and all of the response headers from the original outbound
request. 
<null> - if the value of the watt.net.http.followRedirect parameter determines
whether or not the request follows a redirect. 
Note: A value of yes or no overrides the value of the
watt.net.http.followRedirect parameter. 

PIE-68339 (IS_10.5_Core_Fix9)
Integration Server becomes unresponsive.

Integration Server threads become blocked due to a synchronization error in the
JDBC driver for SQL server driver. 

The issue has been resolved by changing the synchronization logic.

PIE-68340 (IS_10.5_Core_Fix9)
Integration Server utilizes high amounts of CPU.

A thread synchronization issue around obtaining cluster status for an
Integration Server results in high CPU utilization. 

This issue has been resolved by removing a redundant call that caused incorrect
synchronization. 

PIE-68376 (IS_10.5_Core_Fix9)
After applying fix that includes PIE-67359, attempts to export configuration
result in no buildFiles being generated. 

The resolution for PIE-67359 contained logic that ensured files were only copied
to the Cloud deployment location if there were no errors during export. However,
this broke configuration export where asset types that could be successfully
exported were while asset types for which errors occur were not exported. 

To address this issue, the logic of exporting to cloud has been changed to allow
successful export of packages and asset types for which errors do not occur and
ensure that failed package exports do not generate a NullPointerException. 

PIE-68473 (IS_10.5_Core_Fix9)
When a package containing a Web Services Descriptor is deployed to webMethods
Cloud Container, the WSDL URL is not updated correctly. 

The issue is resolved now.

PIE-68570 (IS_10.5_Core_Fix9)
Using a configuration variables template (application.properties) to set the
JNDI password does not result in the password being set in the outbound password
store. 

This issue is now fixed.

PIE-68592 (IS_10.5_Core_Fix9)
Addition of log4j2 jar files to the Integration Server and Microservices Runtime
classpaths. 

To support resolution of the shared component issue WSC-665, this fix adds the
log4j-jul.jar and log4j-12api.jar files to the classpath of Integration Server
and Microservices Runtime. 

Important! To resolve WSC-665 on a Microservices Runtime, you must apply the fix
that contains PIE-68592 to Microservices Runtime before applying the shared
components (WSC) fix. For Integration Server, the fix containing PIE-68592 does
not need to be applied before the WSC fix. 

PIE-68639 (IS_10.5_Core_Fix9)
The Eclipse Jetty libraries introduced to address security vulnerabilities in
Integration Server (PIE-64976) cause issues in the Web Socket Secure
functionality.

This fix contains the latest versions of the Eclipse Jetty libraries that
address this issue.

PIE-68646 (IS_10.5_Core_Fix9)
Integration Server encodes documents in the pipeline very slowly.

Depending upon the size and complexity of a document, Integration Server might
take a long time to encode the document using the Integration Server binary
protocol. 

To address this issue, Integration Server introduces the ability to use a faster
and slightly more memory efficient implementation of IDataBinCoder. Set
watt.sever.idatacoder.legacy to false to use the faster, more efficient
IDataBinCoder implementation. 
 
watt.server.idatacoder.legacy
Specifies whether a newer version or legacy version of the IDataBinCoder for
encoding documents using the binary protocol. Set to true to use the legacy
version. Set to false to use a newer version which may be significantly faster
and slightly more memory efficient for large, complex documents. The default is
true. 

Restart of Integration Server is not required for changes to take effect. 

Note: Any documents persisted to disk can be decoded even if the
watt.server.idatacoder.legacy value changes between the time the document was
encoded and the time the document needs to be decoded. That is, persisted data
can be decoded regardless of the version of IDataBinCoder used to persist encode
it. 

PIE-68698 (IS_10.5_Core_Fix9)
Microservices Runtime does not generate the configuration variables for the file
polling port correctly. 

When Microservices Runtime (or an Integration Server with a Microservices
license) generates an application.properties file, the configuration variables
for a file polling port is not correct. 

This issue is now resolved.

PIE-68848 (IS_10.5_Core_Fix9)
Integration Server throws an IndexOutofRangeException when at the end of an
enumeration list. 

This issue is now resolved.

PIE-68855 (IS_10.5_Core_Fix9)
The application.properties template does not contain the Initial Context Factory
value for a JNDI provider but should. 

When Microservices Runtime (or an Integration Server equipped with a
Microservices license) generated an application.properties template, the JNDI
provider portion of the template did not contain a configuration variable for
the Initial Context Factory. 

This issue is now resolved.

PIE-69059 (IS_10.5_Core_Fix9)
Integration Server now supports IBM MQ 9.0 as a third-party JMS provider.

This item serves as an announcement of support. No changes to Integration Server
were needed to support using IBM MQ 9.0 as a JMS provider.

To add IBM MQ 9.0's JMS client libraries to the Integration Server classpath,
copy the following JAR files and place them in the directory  
<Integration Server_directory>\instances\<instance_name>\lib\jars\custom

- IBMMQ\Java\lib\com.ibm.mq.allclient.jar
- IBMMQ\Java\lib\fscontext.jar
- IBMMQ\Java\lib\providerutil.jar
- IBMMQ\Java\lib\jms.jar

Where "IBMMQ" is the directory in which the IBM MQ 9.0 is installed.

Consider the following points while using IBM MQ 9.0 as the JMS provider:

- If you are setting up an SSL connection to IBM MQ 9.0, consider modifying the 
  CipherSuite value in the JNDI .bindings file based on the JRE specified for
  Integration Server and IBM's recommendation.

- By default, IBM MQ 9.0 supports the JMS 2.0 specification. However, Integration
  Server supports the JMS 1.1 specification. To ensure that Integration Server
  works seamlessly with IBM MQ 9.0,   set the following property in the 
  custom_wrapper.conf file to true:

  wrapper.java.additional.<availableNumber>=-Dcom.ibm.mq.jms.SupportMQExtensions

  Where <availableNumber> is the next available number.

  The custom_wrapper.conf file is located in the following directory: 
  <Software AG_directory>\profiles\IS_instance_name\configuration

  Alternatively, you can add the following to the value of "watt.config.systemProperties" 
  server configuration parameter: com.ibm.mq.jms.SupportMQExtensions=true

PIE-69100 (IS_10.5_Core_Fix9)
After applying the Java package update that includes JDK 1.8.0_292, Integration
Server is not able to use TLSv1.1 or TLSv1. 

The Java package update for JDK 1.8.0_292 disables the use of TLSv1.1 and TLSv1
using the jdk.tls.disabledAlgorithms parameter in the java.security file. After
applying the Java package update, Integration Server is not able to use TLSv1.1
or TLSv1. 

Note: Java package updates are available in Software AG Update Manager in
Infrastructure > Java Package. For 10.5, the Java package fix CJP_10.5_Fix134
contains JDK 1.8.0_292. 

Integration Server provides an override file for the java.security file named
webm_override_java.security. The override file is installed into
IntegrationServer_dir\instances\instanceName\config\security folder. This file
is then registered with Java using the
-Djava.security.properties=config/security/webm_override_java.security in the
custom_wrapper.conf. Note these changes are made programmatically. 
 
Note: When applying a fix that includes PIE-69100 to Microservices Runtime, the
override file is installed in IntegrationServer_dir\config\security.  Changes in
the override file are applied programmatically. 

Although Integration Server allows the use TLSv1.1 and TLSv1, Software AG
recommends adjusting your enabled protocols to be more secure and use TLSv1.2 or
higher. To change the allowed protocols, set the
watt.net.jsse.*.enabledProtocols configuration parameters on Integration Server
or Microservice Runtime versions 10.5 and lower or by using the
watt.net.jsse.*.disabledProtocols properties on version 10.7. 

PIE-57239 (IS_10.5_Core_Fix8)
Integration Server generates an invalid Swagger document after creating a
provider REST API Descriptor (RAD).

When you create a provider RAD using a Swagger document that contains an
inline schema in the body or in the response, then Integration Server generates
an invalid Swagger document.

This issue is now resolved. 

PIE-58335 (IS_10.5_Core_Fix8)
Integration Server causes multiple duplicate sessions while reloading a 
webMethods messaging trigger.

When a webMethods messaging trigger associated with a publishable document type 
is reloaded multiple times, Integration Server does not stop the trigger and 
retains the current session before creating a new session. This results in 
multiple duplicate sessions.

This issue is now resolved.

PIE-58988 (IS_10.5_Core_Fix8)
HTTP POST request using the pub.client:http built-in client does not set the
default content-type. 

When using pub.client:http, if an HTTP GET request without the content-type is
followed by an HTTP POST request, also without the content-type, then the HTTP
POST request does not include the default content-type in the request header. 

This issue is resolved now. The default content-type
"application/x-www-form-urlencoded" is included in the POST request now. 

PIE-60449 (IS_10.5_Core_Fix8)
Ability to control the max inflight property when sending MQTT messages.

Prior to this fix, Integration Server relied on Paho to determine the max
inflight property value. The max inflight property determines the maximum number
of messages that can be published to the MQTT server at one time using a
connection. The default is 10. 

To provide more control over the max inflight property, Integration Server now
includes the watt.server.mqtt.producer.maxInflight server configuration
parameter which sets the Paho max inflight property. 

watt.server.mqtt.producer.maxInflight
Specifies the maximum number of MQTT messages that can be published at one time
using the same MQTT connection alias. The default is -1 which means that
Integration Server relies on the Paho client to set the max inflight property.
Paho uses a default value of 10 for the max inflight property. Set the
watt.server.mqtt.producer.maxInflight property to a value greater than 0 to use
the value set by the configuration parameter as the value of the max inflight
property. 

You must restart Integration Server for changes to this parameter to take
effect. 

PIE-61404 (IS_10.5_Core_Fix8)
Pipeline data may become corrupted after service resubmitted via Monitor.

When using the service resubmission functionality in Monitor, the pipeline
passed to the service may decode equivalent objects as references to the same
object instead of unique objects that contain equivalent data. An incorrectly
decoded pipeline introduces the potential for data corruption. 

This issue is now fixed. Integration Server decodes equivalent objects in the
service resubmission pipeline as unique objects that contain equivalent data. 

PIE-62470 (IS_10.5_Core_Fix8)
The wm.server.dispatcher:deleteExpiredUUID system task, which deletes expired
documents in the document history database, is scheduled even though the
document history JDBC pool is not configured. 

This issue is now fixed.

PIE-62850 (IS_10.5_Core_Fix8)
Integration Server logs a SOAPException but does not indicate the underlying
cause of the exception. 

While processing the body of a SOAP message, Integration Server sometimes logs
the following: 

com.wm.app.b2b.server.SOAPException: [ISS.0088.9134] Exception occurred while
processing the body of the message.

This message does not indicate the underlying cause of this exception.

This issue is now resolved. As part of the message for [ISS.0088.9134],
Integration Server includes an underlying exception. 
 
PIE-62959 (IS_10.5_Core_Fix8)
User interface issue in Integration Server Administrator when it is accessed
from webMethods Cloud Container. 
 
If you are using the Google Chrome browser and access Integration Server
Administrator from webMethods Cloud Container, a user interface issue causes the
page to automatically scroll upon clicking the Settings menu. 

To work around this issue, use a different browser.

PIE-63599 (IS_10.5_Core_Fix8)
A redundant message is logged in server.log

A redundant message: "Exception -> null" is logged in server.log when the
Outbound callback handler is invoked as part of the handler chain when there was
no callback service set in the web service descriptor. 

The issue is resolved now.

PIE-63695 (IS_10.5_Core_Fix8)
Integration Server reloads the dependent packages of a WmDeployer runtime 
project (accessible from the "Packages > Management > WmDeployer" page in 
Integration Server Administrator) even when the "Reload Packages" property of 
the project (Projects > <Project_Name> > Properties > Packages > Reload
Packages) is set to "No".

This issue is resolved.

PIE-64091 (IS_10.5_Core_Fix8)
Integration Server ignores the Connection Timeout parameter configured for LDAP
Directory servers. 

This issue is resolved now.

PIE-64326 (IS_10.5_Core_Fix8)
OpenID Connect fixes and improvements.

This fix includes the following OpenID Connect fixes and improvements:

- Azure AD returns some errors that do not conform to the OpenID Connect
  standard. Integration Server now handles these non-conformant responses correctly. 
- When a request is received on a port protected by an OpenID provider, an
  unused session remained on Integration Server after the client was redirected to
  the provider's login page. Now, Integration Server discards the session
  immediately. 
- TRACE level logging has been added to aid in troubleshooting.
- It is now possible for the Id Provider name to be different than the
  provider's configuration file name. Previously, a configuration file named
  IntegrationServer\instances\<instance_name>\config\security\openid\ProviderXYZ.json
  must have contained a name field with the value "ProviderXYZ". Now, the
  provider's name and the file name can be different. 

PIE-64521 (IS_10.5_Core_Fix8)
Integration Server cannot enable webMethods messaging trigger for Broker.

When creating a webMethods messaging trigger for Broker, Integration Server 
fails to start the trigger and throws the following exception.
"com.wm.app.b2b.server.dispatcher.exceptions.MessagingSubsystemException: 
[ISS.0153.9998] webMethods Messaging Trigger <TRIGGER_NAME> experienced an 
unexpected error: Internal error: TriggerOutputControl is null."

When creating a webMethods messaging trigger, if you do not associate a document 
type and service for the trigger, Integration Server does not start the trigger. 
However, Integration Server incorrectly restarts the trigger and throws the 
following exception assuming that the trigger has already started.
"[ISS.0153.0998E] Unable to restart webMethods Messaging UM trigger 
<TRIGGER_NAME>: com.wm.app.b2b.server.dispatcher.exceptions.
MessagingSubsystemException: [ISS.0153.9998] webMethods Messaging Trigger 
<TRIGGER_NAME> experienced an unexpected error: Internal 
error: TriggerOutputControl is null."

These issues are now resolved.

PIE-64766 (IS_10.5_Core_Fix8)
Integration Server does not name the rolled over server log files correctly.

When size-based roll over is configured for the server log through the
watt.server.serverlogRotateSize server configuration parameter, Integration
Server sometimes uses the previous day's date in the name of the rolled over
server log file. Integration Server should use the current date in the name of
the rolled over log file. 

This issue is now resolved.

PIE-65105 (IS_10.5_Core_Fix8)
Integration Server logs an access denied error even though a client provides 
valid credentials.

When a client sends a REST API request with the 'rad' directive and valid 
credentials, Integration Server provides access to the client but writes the 
following message to the server log:
[ISS.0084.9004] Access Denied"

This issue is resolved now.

PIE-65314 (IS_10.5_Core_Fix8)
When asynchronous request-reply operations for JMS messaging are consecutive,
the second reply operation fails. 

With Integration Server, an asynchronous request-reply for JMS messaging
consists of invoking the pub.jms:sendAndWait service with the async input
parameter set to true, followed by invoking the pub.jms:waitForReply service.
The first service sends the request message and the second service waits for the
reply message. When this sequence of services is invoked more than once within
the scope of single top-level service, the second pub.jms:waitForReply service
fails because the session to the JMS provider was closed by the previous
invocation of the service. 

Now, the session established by the pub.jms:waitForReply service is closed when
the top-level service completes instead of when the pub.jms:waitForReply service
completes. 

PIE-65346 (IS_10.5_Core_Fix8)
Integration Server returns an incorrect HTTP error when an invalid input is 
passed to a REST v2 service.

If the payload of a REST v2 request to Integration Server contains an input that 
cannot be converted to the required type, Integration Server incorrectly sends 
the "500 error" as the HTTP response.

This issue is now resolved. Integration Server now sends the "400 Invalid Input" 
HTTP error along with the error details.

PIE-65372 (IS_10.5_Core_Fix8)
While converting a document to a JSON string, the built-in service
pub.json:documentToJSONString converts Unicode values to the corresponding
Unicode characters. 

For example, if the document contains the value "\u2605",
the service converts it to the character "*". 

This issue is resolved now.

PIE-65396 (IS_10.5_Core_Fix8)
Heap memory issue using MTOM with big files. 

When a large file that is part of an MTOM message is sent out as a webservice
request, it results in an Out of Memory exception. 

This issue is resolved.

PIE-65607 (IS_10.5_Core_Fix8)
JMS triggers that use the Horizontal Scalability feature with Universal
Messaging may experience delays when receiving messages. 

The Horizontal Scalability (HS) feature in Universal Messaging allows clients to
seamlessly publish and consume messages from multiple independent realms and
clusters using a single connection. When a JMS trigger uses a JMS connection
configured with an HS URL, the JMS trigger will request and receive messages
from more than one Universal Messaging server per polling request. It's possible
for the JMS trigger to receive one message from each Universal Messaging server
in the realm or cluster for each request. When more than one message is received
per request, the JMS trigger caches the extra messages at the session-level
(where session refers to the javax.jms.Session). The next time the JMS trigger
requests an additional message, the trigger retrieves a message from the cache.
A concurrent JMS trigger uses more than one session to receive messages. A
concurrent trigger can use up to one session for each thread set in the Max
execution threads property. When many sessions are in use for a trigger, the JMS
trigger may not retrieve the cached messages for processing immediately. The
delay in retrieving cached messages is especially noticeable when the
destination from which the trigger receives messages on Universal Messaging is
nearly empty. 

Now, Integration Server checks if the cached messages for a JMS trigger have
been processed. If a session for a JMS trigger has cached messages, Integration
Server assigns the session a higher priority. This ensures that the JMS trigger
can retrieve the messages immediately. 

PIE-66114 (IS_10.5_Core_Fix8)
Email notification for service execution failure does not include service name
or the time of failure. 

When a service execution fails, Integration Server sends an email to the email
address specified in the Email Notification section of the "Settings >
Resources" screen in Integration Server Administrator. The email contains
detailed service exception but does not include the name of the service that
failed to execute and the time at which the failure occurred. 

This issue is resolved now.

PIE-66254 (IS_10.5_Core_Fix8)
Integration Server does not remove the durable from Universal Messaging for
packages that are deployed using WmDeployer. 

In Designer, when you create and enable a webMethods messaging trigger for
Universal Messaging, Integration Server creates a durable in Universal
Messaging. When you remove the same trigger from Designer, and the "Client
Prefix Is Shared" setting in Integration Server Administrator (on the "Settings
> Messaging > webMethods Messaging Settings > Universal Messaging Connection
Alias" page) is set to "No", then Integration Server removes the durable from
Universal Messaging. However, when you remove the trigger from the package
directly on the Integration Server and then deploy the package to another
Integration Server using WmDeployer, Integration Server does not remove the
durable from Universal Messaging. 

This issue is resolved. Now, a new parameter "Delete Universal Messaging
Durable" (<DeploymentSet_Name> > Packages > <Package_Name> > Properties >
Package Deployment Options) is added to the WmDeployer project page (accessible
from the "Packages > Management > WmDeployer" page in Integration Server
Administrator). When set to "Yes", Integration Server removes the durable from
Universal Messaging. The default value of "Delete Universal Messaging Durable"
is "No". 

PIE-66389 (IS_10.5_Core_Fix8)
When Integration Server is in quiesce mode, the server log contains multiple
messages stating "The ServiceResults Cache is not alive (STATUS_SHUTDOWN)". 

These messages are logged because Integration Server is attempting to sweep the
ServiceResults Cache but the cache is not available because Integration Server
is in quiesce mode. When Integration Server is in quiesce mode, Integration
Server should not sweep the ServiceResults cache. 

Now, when in quiesce mode, Integration Server does not sweep the ServiceResults
Cache. 

PIE-66394 (IS_10.5_Core_Fix8)
A StackOverflowError occurs during service results caching.

When a high volume of requests invoke the same service and that service has
cached results, a race condition occurs where the cached results become
corrupted. This results in a StackOverflowError. 

Now, Integration Server synchronizes access to retrieving and updating the
cached results for a service, which prevents the corruption. 

PIE-66486 (IS_10.5_Core_Fix8)
The Integration Server migration utility updates the Server ID in database
tables even for an upgrade on the same host. 

The issue is now resolved. 

PIE-66563 (IS_10.5_Core_Fix8)
Integration Server does not exit quiesce mode cleanly when the WmART package is
enabled. 

When the WmART package is reloaded, Integration Server detects the
initialization of adapter administrative resource operations as duplicates and
throws an exception. The exceptions prevent the WmART package from reloading
completely and prevents Integration Server from exiting quiesce mode cleanly. 

This issue is now resolved. When the WmART package reloads, Integration Server
does not throw exceptions related to duplicate resource operations. 

PIE-66576 (IS_10.5_Core_Fix8)
Cross-site scripting vulnerability in two pages of the Integration Server
Administrator UI.

The Extended Settings and Mime Types pages of Integration Server Administrator
had a cross-site scripting vulnerability. 

The issue is resolved now.

PIE-66690 (IS_10.5_Core_Fix8)
Currently, if a Java or Flow service creates an FTP(S) or SFTP session by
invoking the pub.client.ftp:login or pub.client.sftp:login service, then the
session does not close automatically. 

You must invoke the pub.client.ftp:logout or pub.client.sftp:logout service 
explicitly to close the session. 

This issue is resolved by introducing the following server configuration
parameters: 

watt.client.ftp.session.logoutOnServiceCompletion: Set the value to "true"
to automatically close the FTP(S) session created by the pub.client.ftp:login
service, when the top-level service execution completes. If the value is set to
"false", you must invoke the pub.client.ftp:logout service to close the FTP(S)
session. The default value is "false". 

watt.client.sftp.session.logoutOnServiceCompletion: Set the value to "true"
to automatically close the SFTP session created by the pub.client.sftp:login
service, when the top-level service execution completes. If the value is set to
"false", you must invoke the pub.client.sftp:logout service to close the SFTP
session. The default value is "false". 

You do not need to restart Integration Server for a change in these parameters
to take effect. 

PIE-66693 (IS_10.5_Core_Fix8)
Designer does not properly reduce the dimension of an input or output XML
document list in a Loop step. 

In the Pipeline view in Designer, the dimension of an XML document list within a
Loop step is not reduced. This prevents mapping within the Loop step. 

This issue is now resolved.

PIE-66732 (IS_10.5_Core_Fix8)
During start up, Integration Server logs erroneous messages about adding My
webMethods user groups to ACLs even though My webMethods Server is not
installed. 

When Integration Server starts up, it attempts to add the My webMethods Users
and My webMethods Administrators user groups to the default Integration Server
Access Control Lists (ACLs). This occurs even when My webMethods Server is not
installed and the user groups do not exist on Integration Server. Error similar
to the following appear in the server log: 

[ISS.0024.0015E] Integration Server cannot add group "My webMethods Users" to
ACL "Anonymous" because group "My webMethods Users" is not found. 

This issue is now resolved. Integration Server now verifies the existence of a
user group before attempting to add it to an ACL. 

PIE-66793 (IS_10.5_Core_Fix8)
The pub.security.util:getCertificateInfo service returns only the last two
digits of the certificate expiration year which can lead to incorrect
calculations for certificates expiring in 2100 or later. 

The pub.security.util:getCertificateInfo service uses a preset date format that
returns only the last two digits of the certificate expiration year. This
creates ambiguity as a certificate that expires in 2109 returns an expiration
year of 09, which some systems might treat aa 2009. 

To address this issue, the pub.security.util:getCertificateInfo service now
includes the optional parameter dateFormat which is of  type String. The value
of dateFormat must be a pattern used by java.text.SimpleDateFormat, for example
"MM/dd/yyyy". Use the dateFormat parameter to specify the date format to use for
the date returned by the notBefore and notAfter fields in the validity output
parameter. 

PIE-66897 (IS_10.5_Core_Fix8)
When creating a REST API Descriptor (RAD) using a Swagger document that contains
an object array in which some of the nested properties are 'required', 
Integration Server sets all the fields of the document type generated for the 
object array as 'optional'.

This issue is now resolved. 

PIE-66900 (IS_10.5_Core_Fix8)
Integration Server incorrectly logs an error while restarting the server or 
reloading the WmPRT package. 

When client authentication for a Universal Messaging connection is set to 
"Username/Password" or "Certificate Based" in Integration Server Administrator 
(Settings > Messaging > webMethods Messaging Settings > Universal Messaging 
Connection Alias), Integration Server logs an error while restarting the server 
or while reloading the WmPRT package. 

This issue is resolved. Now Integration Server checks whether WmPRT documents 
are already synchronized with the Universal Messaging server during server 
restart or during WmPRT package reload and does not log any error.

PIE-66903 (IS_10.5_Core_Fix8)
For Enterprise Gateway custom filters created from API Gateway, Integration 
Server removes the payload from the pipeline for the custom service that is 
invoked.

The issue is resolved now.

PIE-66910 (IS_10.5_Core_Fix8)
Redundant caching of sessions. 

When services are invoked or web pages are requested, user sessions are written
to the session cache twice. This redundancy is not needed and can put a strain
on the session cache when processing a high volume of requests. 

This has been resolved. The redundant caching of sessions has been eliminated.

PIE-66920 (IS_10.5_Core_Fix8)
Filters are not working for a webMethods messaging trigger that receives
messages from Universal Messaging. 

Integration Server generates the incorrect protocol buffer descriptor for a
publishable document type that contains multiple document reference variables
that have the same name but refer to IS document types in different folders. 

To resolve this issue, Integration Server now uses the fully qualified name of
the document reference in the protocol buffer descriptor. 

Important! To complete resolution of this issue, for each publishable document
type that contains multiple document reference variables with the same name but
different document type references, a new protocol buffer descriptor must be
generated and then synchronized with Universal Messaging. After applying a fix
that contains PIE-66920, edit the publishable document type, save it, and then
synchronize it with Universal Messaging. 

PIE-66922 (IS_10.5_Core_Fix8)
During repository-based deployment, Integration Sever packages reload many
times. 

Integration Server reloads packages over and over again during repository-based
deployment. 

Now, Integration Server ensures that packages load only once during
repository-based deployment. 

PIE-66928 (IS_10.5_Core_Fix8)
A scheduled task does not run and the scheduler logs the "Could not complete
last run" error because the ScheduleDB.checkInvalidTasks() job runs when the
scheduler is still in the process of scheduling the task. 

This issue is now resolved.

PIE-66929 (IS_10.5_Core_Fix8)
Integration Server does not rotate the server log upon startup if Integration
Server was not running at midnight. 

If the server log is configured to rotate at midnight but Integration Server is
not running at midnight, Integration Server should rotate the server log upon
startup. This is not happening. 

This issue is now resolved.

PIE-66940 (IS_10.5_Core_Fix8)
New classes in Integration Server Java API for generating a SAML 2.0 bearer
assertion for integration with an SAP system. 

Integration Server now includes the
com.softwareag.is.auth.saml.issuer.SAMLIssuerUtils.generateSamlAssertion method
which can be used for generating a SAML 2.0 bearer assertion. For more
information about this method and related classes, review the updated Java API
documentation for Integration Server located at
https://documentation.softwareag.com/. 

Note: The resulting SAML 2.0 bearer assertion has been tested for integration
with an SAP system. 

PIE-66948 (IS_10.5_Core_Fix8)
When there are multiple requests by the webMethods Adapter for JDBC to create an
adapter connection using Kerberos authentication, one request succeeds but the
remainder fail with a JAAS authentication error. 

The webMethods Adapter for JDBC uses Oracle's JDBC driver. When the adapter
makes JDBC connections using Oracle's ojdbc8 driver to connect to the
database, it sometimes fails with a JAAS authentication error. This makes it
impossible for the JDBC connections made by the JDBC adapter to use Kerberos
authentication. 

This fix extends PIE-64956, making it possible for adapter connections made by
the webMethods Adapter for JDBC adapter to use Kerberos authentication. 

To use Kerberos authentication for connections made by the webMethods Adapter
for JDBC, do the following: 

1. Add the login context to the database URL for the webMethods Adapter for JDBC
   connection alias by including the parameter loginConfigName=<loginContext>. 
2. Set the watt.server.jdbc.datadirect.useJaasSubjectForKerberos server
   configuration property to true. You do not need to restart Integration Server
   for changes to this parameter to take effect. 
3.If using Oracle's ojdbc8 driver, configure the adapter connection alias to
  use Kerberos for authentication and another user to access the database by
  adding the following database URL parameter to the adapter connection alias URL:
  ReAuthenticateUser= userName 

Following is a sample URL used by the JDBC adapter connection with the Oracle's
JDBC driver: 

driverType=thin;loginTimeout=10;url=jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)
(HOST=<db-server.company.com>)(PORT=<1234>))(CONNECT_DATA=(SERVICE_NAME=<db-service-name>)));
loginConfigName=<JAAS_CONFIG_FOR_USER>;ReAuthenticateUser=<username>;connectionProperties=

{oracle.net.authentication_services=(KERBEROS5),oracle.net.kerberos5_mutual_authentication=true};

With the above URL, the webMethods Adapter for JDBC adapter first establishes
the connection to the database using the Kerberos JAAS authentication. If the
ReAuthenticateUser connection parameter is specified then Integration Server
invokes the APIs provided by the Oracle driver to switch the username from the
Kerberos authenticated user to the user specified by the ReAuthenticateUser user
parameter. This JAAS authentication avoids the JAAS authentication errors caused
by the Oracle's JDBC driver. 

PIE-66955 (IS_10.5_Core_Fix8)
The configuration variables log contains passwords if the passwords were
provided in the application.properties file. 

The configuration variables log now masks any passwords with ******.

PIE-66984 (IS_10.5_Core_Fix8)
CSRF token errors in RESTv2 requests to unprotected URLs.

If a REST endpoint is added to "Unprotected URLs" in the CSRF page in
Integration Server Administrator and CSRF guard is enabled, Integration Server
should exclude requests to that endpoint from CSRF secure token checks.
However, an error is returned if a REST request at an unprotected URL
does not meet the CSRF secure token checks.

The issue is fixed now.

PIE-67000 (IS_10.5_Core_Fix8)
Integration Server Scheduler does not pause on quickly switching between 
the pause and resume states.

Involving the commands Pause Scheduler, Resume Scheduler, and Pause Scheduler 
in quick succession in Integration Server Administrator does not pause the 
Scheduler.

The issue is fixed now.

PIE-67003 (IS_10.5_Core_Fix8)
Attempts to create an Integration Server document type from a schema that
contains an xsd:any element that is part of nested choices elements fail with a
NullPointerException at
com.wm.lang.schema.ComplexModel.mergeChoiceName(ComplexModel.java:297) 

This issue is fixed now.

PIE-67094 (IS_10.5_Core_Fix8)
During package deployment, startup services begin executing before Integration
Server applies the ACLs contained in the deployment metadata. 

Now, during package deployment, Integration Server applies the ACLs from the
deployment metadata and then begins executing the package startup services. 

PIE-67104 (IS_10.5_Core_Fix8)
Messages are incorrectly discarded from the client side queue because
Integration Server does not properly save the time to live for the publishable
document type. 

Integration Server does not properly save the Time to live value for a
publishable document type. This results in published instances of the document
type being discarded from the client side queue prematurely. 

This issue is now resolved.

PIE-67149 (IS_10.5_Core_Fix8)
pub.storage data can become inaccessible in a cluster.

Integration Server has a performance optimization in the pub.storage
implementation. This optimization caches database keys in local memory. When in
a cluster, this local cache can get out of sync with the database if another
server in the cluster deletes then recreates data with the same storeName and
key as the locally cached data. 

This issue has been addressed by disabling this optimization by default and
introducing a server configuration parameter to provide the option of enabling
the behavior. When Integration Server is not running in a cluster, the
optimization can be enabled by setting watt.server.storage.optimizeForStandalone
to true. When set to true, Integration Server caches database keys in local
memory, which may result in a small performance improvement for pub.storage.
When set to false (the default), Integration Server does not cache database keys
in local memory. 

Important! Do not set watt.server.storage.optimizeForStandalone to true when in
a cluster as this may lead to pub.storage database becoming inaccessible. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-67263 (IS_10.5_Core_Fix8)
The "pub.client.sftp:chmod" public service accepts only three octal digits
for the "mode" input parameter and does not accept a value for the sticky bit. 

This issue is resolved. Now, you can set the sticky bit using the
"pub.client.sftp:chmod" public service. 

PIE-67272 (IS_10.5_Core_Fix8)
Integration Server does not return an error message to the API Gateway when you
attempt to update an active listener using webMethods API Gateway. 

This issue is resolved now. Integration Server returns an error message to API
Gateway indicating that the listener must be disabled before updating its
configuration. Similarly, when you attempt to update a primary listener,
Integration Server returns an error message indicating that the primary listener
should not be updated. 

PIE-67311 (IS_10.5_Core_Fix8)
Service caching performance appears to degrade under heavy load.

This issue is now resolved.

PIE-67326 (IS_10.5_Core_Fix8)
Unable to delete any user-created custom JAAS realm from Command Central.

The issue is resolved now.

PIE-67359 (IS_10.5_Core_Fix8)
When using Designer to deploy packages to cloud, a NullPointerException is
thrown when a package fails to deploy. 

Now, failure of a package to deploy is handled more gracefully.

PIE-67517 (IS_10.5_Core_Fix8)
When enhanced logging for messaging is configured to write to the messaging
audit log, Integration Server does not persist the change across restart. 

When the Logging Type for enhanced messaging logging is set to Messaging Audit
Log, after Integration Server restart the logging type reverts to the server log. 

Now, when the Logging Type is set to Messaging Audit Log, Integration Server
persists the change across restart. 

PIE-67621 (IS_10.5_Core_Fix8)
Connecting to Integration Server from Designer takes minutes when running on a
macOS. 

This issue has been resolved.

PIE-67719 (IS_10.5_Core_Fix8)
Concurrent delete statements can cause deadlocks in the document history
database. 

webMethods messaging triggers and JMS triggers use the document history database
to ascertain if a received message is a duplicate. An entry written to the
document history database expires after an amount of time configured on a per
trigger basis. While triggers remove expired entries from the database,
Integration Server also runs a scheduled task periodically to remove expired
entries. If multiple threads call the logic to delete expired entries at the
same time, threading concurrency issues may occur and result in a deadlock in
the document history database. 

To address this issue, Integration Server now ensures that the logic to delete
expired entries in the document history database is called synchronously. 

PIE-67778 (IS_10.5_Core_Fix8)
Content spoofing vulnerabilities in web services.

Web services (through a request with the "/ws" or the "/soap" directive) may 
allow client applications to spoof or modify the actual content on a web page. 
To prevent this, a new watt parameter, watt.server.SOAP.hideFaultReason, 
has been added. This parameter enables you to remove fault details from responses 
to web service requests. By default, watt.server.SOAP.hideFaultReason is set to 
false and responses include fault details. To prevent content spoofing, 
set watt.server.SOAP.hideFaultReason to true. Integration Server restart 
is not required for changes to this parameter to take effect.

Note: Set watt.server.http.returnException to "false" or "webMethods" 
to prevent Integration Server from returning the stack trace to clients 
in case a web service returns an error. 

PIE-67780 (IS_10.5_Core_Fix8)
If an email listener port in Integration Server is configured to invoke a flow
service, Integration Server creates a session for each invocation, which expires
in 600 seconds even though the flow service is configured as stateless and the
port is configured to invoke the service as a non-administrator user. 

This issue is resolved. Now, a session is created for each invocation of a
stateless flow service and the session expires only after the service execution
completes. 

PIE-67813 (IS_10.5_Core_Fix8)
For a Microservices Runtime or an Integration Server running in a Docker
container, the default ACL for accessing the /health and /metrics endpoint
should be "Anonymous" but is not. 

This issue is resolved.

PIE-67822 (IS_10.5_Core_Fix8)
An attempt to delete a JDBC pool linked to a JDBC driver that does not exist
fails with a NullPointerException. 

Now, a JDBC pool linked to a non-existent JDBC driver can be deleted.

PIE-67827 (IS_10.5_Core_Fix8)
Integration Server Administrator displays the OAuth client secret in clear text.

The Security > OAuth > Client Registration > Edit page displays the client
secret in clear text in the Secret field. Additionally, the database table that
stores the client secret also stores the client secret in clear text. 

To resolve this security vulnerability, the Security > OAuth > Client
Registration > Edit page now masks the contents of the Secret field and includes
a Reveal Secret button which displays the secret in clear text when clicked. The
database table that stores the client secret now uses an encrypted value instead
of clear text. The fix also migrates all existing clear text values for the
client secret in the database to be oauth.client.%CLIENT_ID%.secret where
%CLIENT_ID% is a variable that refers to an encrypted value in the outbound
password store. 

PIE-67872 (IS_10.5_Core_Fix8)
HTTP PUT requests from Integration Server to load-balanced Microsoft IIS servers
using NTLM authentication fail intermittently. 

During an NTLM handshake with a load-balanced Microsoft IIS server, Integration
Server does not return the cookie sent by the load balancer. So, NTLM Type 1 and
Type 3 requests reach different Microsoft IIS servers resulting in an
unsuccessful handshake. 

This issue is now resolved.

PIE-68273 (IS_10.5_Core_Fix8)
Enhancement to HTTP logging to write the log in common log format or combined
log format. 

The HTTP logging provided by Integration Server does not capture the client IP
address related to a request/response pair. To address this, Integration Server
HTTP logging can be configured to write entries that conform to the common log
format, the combined log format, or the existing legacy format.  

When HTTP logging is enabled, Integration Server writes a single entry for each
HTTP/S request/response pair to the following file:
IntegrationServer/instances/<instance_name>/logs/http. 

Whether or not Integration Server performs HTTP logging and in what format is
controlled by the watt.server.httplog server configuration parameter. Set the
parameter to one of the following values: 
common  Integration Server writes HTTP log entries that conform to the common
log format. 

combined - Integration Server writes HTTP log entries that conform to the 
           combined log format. 
custom - Integration Server writes HTTP log entries in the legacy format that 
         was used for HTTP logging prior to this fix. 

Prior to this fix, the possible values for watt.server.httplog were true or
false. These values can still be used. When set to true, Integration Server
writes HTTP log entries in the legacy format that was used for HTTP logging
prior to this fix. When set to false, Integration Server does not perform HTTP
logging. 

When the watt.server.httplog server configuration parameter is set to any value
besides common, combined, custom, or true, or set to no value at all,
Integration Server does not perform HTTP logging. 

There is no default value for watt.server.httplog which means HTTP logging is
not performed by default. 

You do not need to restart Integration Server for changes to the
watt.server.httplog parameter to take effect. 

PIE-56279 (IS_10.5_Core_Fix7)
Integration Server throws the "HTTP 401 - unauthorized" error while executing
the "pub.client:http" service. 

When Integration Server executes the "pub.client:http" service that connects to
a Microsoft IIS Server configured to use NTLM authentication, the request
returns the "HTTP 401 - unauthorized" error, despite correct user credentials
provided in the service. 

To resolve this issue, the NTLM client is enhanced to send new NTLM flags in the
service request. 

PIE-59758 (IS_10.5_Core_Fix7)
Change to server log messages to include the ID of the thread performing the
activity that generated the log message. 

To improve troubleshooting, especially under heavy load, Integration Server log
messages in the server log now include the thread identifier of the thread
performing the execution. The thread ID appears after the message ID and before
the message and is prefixed with tid. For example: 

2020-02-05 00:28:41 EST [ISS.0014.0002I] (tid=69) Initialization completed in 46
seconds. 

Integration Server adds the thread ID to each server log message. To prevent the
server log message from including the thread ID, set the
watt.serverlog.includeThreadID server configuration parameter to false.
Following is a complete description of the parameter: 

watt.serverlog.includeThreadID
Specifies whether the log messages written to the server log include the thread
ID of the thread performing the action. The thread ID appears after the message
ID and before the message and is prefixed with tid. Set to true to include the
thread ID in the server log messages. Set to false omit the thread ID from the
server log messages. The default value is true. You do not need to restart
Integration Server for changes to this parameter to take effect. 

PIE-62219 (IS_10.5_Core_Fix7)
MQTT connection aliases and triggers are not automatically restarted.

If the connection to the MQTT server is unavailable, the enabled MQTT connection
aliases that use the server and their associated MQTT triggers will disconnect.
When the connection to the MQTT server is reestablished, the MQTT connection
aliases and their triggers should reconnect automatically. This is not
happening. 

The reconnection logic is now working.

PIE-62776 (IS_10.5_Core_Fix7)
Integration Server sometimes fails SSL requests with "bad_record_mac" error.

After handling an inbound web service request that does not contain any
transport or message level credentials, the order of security providers gets
changed. This results in SSL requests that use GCM ciphers sometimes failing
with "bad_record_mac" error. 

This issue is resolved by detecting and correcting the security providers list.

PIE-63345 (IS_10.5_Core_Fix7)
System packages deployed to Cloud solutions could be deleted upon deployment.

When deploying system packages (those packages whose names start with Wm) to
Cloud solutions, the system packages could be deleted upon deployment. 

Now, system packages cannot be deleted upon deployment.

PIE-64157 (IS_10.5_Core_Fix7)
Removal of class from whitelist to address security vulnerability.

The java.net.URL class was removed from the whitelist and factored out of the
HttpContext as the java.net.URL class has a known vulnerability to serialization
attacks. 

PIE-64334 (IS_10.5_Core_Fix7)
Designer does not retry connecting to Integration Server after disconnection due 
to a connection reset on the network and might lose connection to Integration 
Server, especially if the Integration Server instance is hosted remotely or in 
the cloud. 

This issue is resolved now by adding the retry behavior and the number of 
retries is configurable using the "watt.clientConnection.numberOfRetries"
system property. You can configure the number of retries by adding this property to 
Designer at startup using the command line or add it to the 
"Software AG_directory\Designer\eclipse\configuration\config.in" file. By 
default, watt.clientConnection.numberOfRetries=3, which means, in case of a 
connection reset, Designer attempts to reconnect three times. If the reconnect 
attempt fails three times, Designer disconnects from Integration Server.
Note: You can also connect to Integration Server manually using the Preferences 
dialog under "Window > Preferences > Software AG > Integration Servers" in 
Designer.

PIE-64413 (IS_10.5_Core_Fix7)
Integration Server continues to send a user's login requests to the LDAP server,
even after the user's account is locked. 

This issue is resolved now. 

PIE-64440 (IS_10.5_Core_Fix7)
Integration Server does not consider the string provided for 'delim' parameter
as regular expression while executing the 'pub.string:tokenize'.

While executing the 'pub.string:tokenize' service, Integration Server considers
the delimiter characters in 'delim' parameter as individual character but not as
a regular expression.

This issue is resolved. Now, Integration Server supports an additional optional
parameter 'useRegex'. When this parameter is set as 'true', Integration Server
supports recognizing delimiter character set for 'delim' parameter as regular
expression . When set as 'false', Integration Server considers delimiter
character set for 'delim' parameter as individual character. The default value
is 'false'.

PIE-64448 (IS_10.5_Core_Fix7)
Repository-based deployments of the user and server alias assets using Deployer
fail. 

It is mandatory to have the
<IS_Installation_Directory>\IntegrationServer\instances\default\config\sftp\sftpLicenseKey.cnf
file in the source directory to complete the deployment successfully. If the
file is not present, the build script fails with the error: "Deployment Error:
NoSuchFileException". 

This issue is now resolved. 

PIE-64476 (IS_10.5_Core_Fix7)
Integration Server throws error while processing REST requests with payloads 
containing empty arrays.

When Integration Server receives s REST request with payload in JSON format 
containing an empty array ([ ]), it does not parse the request payload correctly 
and throws an error.

This issue is now resolved.

PIE-64500 (IS_10.5_Core_Fix7)
In an Integration Server configured with an LDAP server, if the number of
results of a query for user groups exceeds the maximum size limit configured on
the LDAP server, the Size Limit Exceeded error occurs on the LDAP server. 

To resolve this issue, the following new server configuration properties are
introduced: 

watt.server.ldap.groupSearchFilter: This property can be used to reduce the
number of LDAP entries returned so that the size limit set on the LDAP server is
not exceeded. 

watt.server.ldap.searchresult.pageSize: This property can be used to return the
LDAP entries in batches so that the size limit set on the LDAP server is not
exceeded. 

PIE-64558 (IS_10.5_Core_Fix7)
When a malicious source tries to invoke a service in Integration Server through
Enterprise Gateway, the security log records only the IP address of Enterprise
Gateway and not that of the malicious source. 

This issue is resolved now by introducing the server configuration property:
watt.server.securityLog.eg.enableExternalClientIP. 

If this property is set to true, then the security log records the IP address of
the source. Otherwise, the log records the Enterprise Gateway IP address. The
property is set to false by default.

Integration Server need not be restarted for the change to take effect. 

PIE-64634 (IS_10.5_Core_Fix7)
Enabling a WebSocketSecure port that has the Subject Alternative Name (SAN)
extension results in the "Failed to start WebSocketSecureListener" error. 

This issue is resolved now.

PIE-64660 (IS_10.5_Core_Fix7)
Integration Server change to support API Gateway passing a truststore while 
making an outbound SOAP call.

API Gateway could set a truststore for outbound OData API and REST API calls 
but not SOAP APIs calls.

Integration Server now supports API Gateway setting a truststore for outbound 
SOAP API calls.

PIE-64670 (IS_10.5_Core_Fix7)
Attempt to install a package fail with a java.io.IOException.

An attempt to install a package fails with the following exception:

java.io.IOException: Package size exceeds limit set by
watt.server.package.maxSizeMB 

To address this issue, the value of the watt.server.package.maxSizeMB is a long
instead of an int. This allows a higher value for the
watt.server.package.maxSizeMB limit. 

PIE-64698 (IS_10.5_Core_Fix7)
Integration Server or Microservices Runtime cannot be started in a Docker
container because of a NoClassDefFoundError. 

When creating a Dockerfile for Integration Server or Microservices Runtime, the
is_container script does not include the metering folder in the Dockerfile. If
the Integration Server or Microservices Runtime has a license that is metering
enabled, a Docker image built from this Dockerfile cannot be started and fails
with a NoClassDefFoundError. 

Now, the is_container script includes the metering folder in the Dockerfile.

PIE-64752 (IS_10.5_Core_Fix7)
Intermittent connection issues are observed between LDAP and Integration Server.

Integration Server throws a read-timeout exception when a user tries to log in
to Integration Server using the LDAP credentials. 

This issue is resolved now. 

PIE-64763 (IS_10.5_Core_Fix7)
When deploying users to Cloud solutions using Designer and the ACDL-based
approach, the password field for each user asset is not visible for variable
substitution in Designer's deployment wizard. 

With this fix the password field will be visible and available for variable
substitution. 

PIE-64931 (IS_10.5_Core_Fix7)
Integration Server processes both Transfer-Encoding and Content-Length headers
in an HTTP request.

The HTTP headers Transfer-Encoding and Content-Length indicate mutually
exclusive behaviors, and valid HTTP request should include only one of these 
two headers. However, if an HTTP request contains both headers, Integration Server 
processes both. This is a security vulnerability.

This issue is now resolved. Requests containing both Transfer-Encoding and
Content-Length headers are not processed by Integration Server.

PIE-64956 (IS_10.5_Core_Fix7)
Integration Server JDBC pool connections that use Kerberos fail after the JAAS
configuration used by Integration Server is wiped out by another component.

After JDBC connection establishes Kerberos connection using the Oracle ojdbc8
driver, Integration Server JDBC pools are not able to use Kerberos to connect 
to the database. All connection attempts fail with the message: 

No LoginModules configured for <loginConfigName from database URL>.

To address this issue, this fix protects Integration Server by
programmatically running JAAS to obtain Subject and then using that
Subject to establish a connection to the database. To use this functionality,
the following must be true: 

- The server configuration parameter
  watt.server.jdbc.datadirect.useJaasSubjectForKerberos must bet set to true. 
- The Database URL for the JDBC Connection Pool alias must contain
  AuthenticationMethod=Kerberos. 

Note: The watt.server.jdbc.datadirect.useJaasSubjectForKerberos server
configuration parameter is introduced with this fix. When set to true, the
parameter specifies that Integration Server uses the Subject in a JAAS
configuration when using Kerberos with JDBC pool connections. Set to true when
there are JAAS conflicts where the Integration Server JAAS configuration is
wiped out by another component. When set to false, Integration Server tries to
acquire the database connection in the traditional way. Set to false when there
are no JAAS conflicts. The default value is false. If you encounter JAAS
conflicts that result in the message "No LoginModules configured for
<loginConfigName from database URL>" and the JAAS login module is properly
configured as is the JDBC connection pool, set the parameter to true. 

You do not need to restart Integration Server for changes to this parameter to
take effect. 

PIE-64976 (IS_10.5_Core_Fix7)
Jetty version 9.4.27 is known to have CVEs which have been fixed in later versions.
 
This issue is now resolved

PIE-65070 (IS_10.5_Core_Fix7)
WmCloudStreams package and connector packages that depend on it are not
deployable to the webMethod Cloud. 

The WmCloudStreams package and connector packages that depend on it can now be
deployed to the webMethods Cloud in their entirety. 

PIE-65135 (IS_10.5_Core_Fix7)
Restart of the Software AG Platform Manager (SPM) logs the following error in
the SPM log default.log, when the Pub/Sub license is not enabled: 
2020/04/22 21:14:35 WARN #00000 Error: (id: 1587582875981) Loaded configuration
cannot be null. caused by: 
java.lang.IllegalStateException: Loaded configuration cannot be null.

This issue is resolved now.

PIE-65250 (IS_10.5_Core_Fix7)
In an Integration Server setup with API Gateway, the requests to the server are
queued up at the API gateway with the message: "request cannot be forwarded". 

This issue is now resolved. 

PIE-65332 (IS_10.5_Core_Fix7)
Integration Server authenticates a user by searching the user's username and
password in the local system. 

If a match is not found, Integration Server attempts to authenticate the user 
through the connected LDAP servers even if the username exists in the local 
system and only the user-entered password is incorrect. Currently, this behavior
cannot be controlled. 

To control this behavior, the "watt.server.ldap.checkLocalUserInLDAP" server
configuration property is introduced. The default value of this property is
"true". Set this property to "false" to skip LDAP-based authentication
if the username exists in the local system. 

PIE-65410 (IS_10.5_Core_Fix7)
Integration Server migration from 9.7 to 10.3 fails with the
"java.lang.NoClassDefFoundError: org/apache/axis2/util/threadpool/ThreadFactory"
error. 
 
After applying 10.3 Core Fix 12 and running the migration utility, the migration
fails with the "java.lang.NoClassDefFoundError:
org/apache/axis2/util/threadpool/ThreadFactory" error. This issue occurs because
the migration utility does not find the JAR file containing the required class
file. 

This issue is resolved. Now, the classpath is corrected for the migration
utility. 

PIE-65495 (IS_10.5_Core_Fix7)
The pub.client:http service does not honour the value of the watt.net.maxRetries
property. 
 
Regardless of the value set for the watt.net.maxRetries property, Integration
Server considers the default value of watt.net.maxRetries, which is 1. It does
not consider 0 or a value greater than 1 (default value). Additionally, despite
receiving a SocketTimeoutException with the "read timed out" message,
Integration Server continues to try to connect with the target. This is
inconsistent if the connection is established, as the response is not received
within the specified timeout value, yet the connection with the target gets
established. 
  
This issue is now resolved. 

PIE-65555 (IS_10.5_Core_Fix7)
A configuration variables template can now be used to add assets to a
Microservices Runtime and set asset properties that were previously not set. 

Prior to this fix, a configuration variables template could be used to modify
existing asset properties only. Now, new assets can be added and previously
unset properties can be specified. 

To add an asset, add the key-value pair for each property of the asset that you
want to set. For example, to add a global variable, insert the following into
the template: 

globalvariable.globalVariableName.value

Where globalVariableName is the name of the global variable that you want to
create. 

To add a property for an existing asset, insert the key-value pair for the
property that you want to add. 

The following list identifies the asset types for which you can create an asset
through application of a configuration variables template: 

Consul
Email port
File polling port
Global variable
JDBC pool alias
JMS connection alias
JNDI provider alias
Keystore alias
LDAP configuration
Proxy server alias
Remote server alias
SFTP server alias
SFTP user alias
Truststore alias
Universal Messaging connection alias (webMethods messaging)
User account

For a list of properties that can be set for an asset, refer to the
"Configuration Variables Template Assets" appendix in the "Developing
Microservices with webMethods Microservices Runtime" guide. 

PIE-66187 (IS_10.5_Core_Fix7)
The server log contains the message "BinCoder decode error creating Java
serialized object. Excpt:java.lang.ClassNotFoundException:
Class:java.lang.NullPointerException, not in White List". 

Integration Server could not deserialize NullPointerException because it was not
whitelisted. 

The Class:java.lang.NullPointerException class is now added to the white list
along with other classes to allow a NullPointerException to be thrown and
handled by Integration Server correctly. 

PIE-66302 (IS_10.5_Core_Fix7)
Setting up an OAuth 2.0 compliant e-mail port in Integration Server,

Before you begin

- Register Integration Server as an application in your OAuth Server and make a
  note of the OAuth credentials issued for Integration Server. You will need it to
  set up the e-mail port. 
- Refer to Microsoft Azure documentation for information about registering an 
  application. 

Procedure
1. Log on to Integration Server Administrator.
2. Click Security > Ports > Add Port > webMethods/Email Port, and then click
   Submit. 
3. Select "IMAP and enter the following details of your e-mail server.
	- Host Name
	- Port: 993
	- User Name
4. Select Authentication as "OAuth" and use the credentials generated by
   your OAuth Server to enter the following details: 
	- Auth URL
	- Client ID
	- Client Secret
	- Scope 
	- Access Token URL
	- Redirect URL:
      If Integration Server is accessed locally, enter the redirect URLs in one 
	  of the applicable formats: 
		http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp
	  or 
		https://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp
      If Integration Server is accessed remotely, use
        https://{ISHostName}:{port}/WmRoot/security-oauth-get-authcode.dsp 

5. Click "Get Authorization Code" to receive a unique string from the OAuth
   Server that Integration Server requires to request an access token. 
   
Note: Whenever you edit the OAuth credentials for an email port, ensure to get
the authorization code. 

6. Enter other security details appropriately and click "Save Changes" 
   You will receive an Access Token Expiry Time until when the access token issued
   by the OAuth Server can be used. IS will dyanamically re-generate access token. 

Manually generating the access token for outbound SMTP requests

Procedure
1. Manually request for authorization code through a URL. If your OAuth Server
   is a Microsoft Azure, form the URL in the following manner 
   with the credentials obtained post registration of Integration Server.
   https://login.microsoftonline.com/<TenantID>/oauth2/authorize?response_type=code&prompt=login&redirect_uri=
   http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp&client_id=<clientID>  
2. Extract the authorization code from the response. 
   For example, in this response, the value of "code" is the authorization code. 
   http://localhost:{port}/WmRoot/security-oauth-get-authcode.dsp/?code=AQABAAIAAAAm-xxxx&session_state=yyyy 
3. In the "pub.client.oauth:getExternalAccessToken" public service, select
   the grant_type as "authorization_code" and code as the authorization code
   from the previous step. Provide other input parameters similar to what you
   entered while creating the e-mail port. Run this service to get the access
   token, expiry time, and token type along with other information.  
4. Use the output from the previous step as input parameters in the
   "pub.client:smtp" public service and run the service to send e-mails . 

PIE-66318 (IS_10.5_Core_Fix7)
Issues with REST request payloads that have numeric values containing spaces and 
REST responses with the contentType set to date. 

When a numeric value in a REST request sent to an Integration Server REST V2 
resource includes a space, Integration Server processes the request incorrectly. 
For example, a request payload containing "20.5". Additionally, if one of the 
fields in the REST response has a contentType as date, Integration Server 
returns an incorrect date format as a response.

These issues are now resolved.

PIE-66445 (IS_10.5_Core_Fix7)
The stat sag_is_avg_time_per_http_requests returns the wrong data in Prometheus
stats. 

The incorrect Integration Server stats value is being returned for the stat
sag_is_avg_time_per_http_requests statistic. 

The correct value is now returned for stat sag_is_avg_time_per_http_requests. 

PIE-66583 (IS_10.5_Core_Fix7)
Partial deployment of a package does not work in Cloud Container.

This issue is now resolved.

PIE-66629 (IS_10.5_Core_Fix7)
On the Settings > Cluster page in Integration Server Administrator, the Server
Start Time value is not in the correct format. 

The Server Start Time for a clustered Integration Server instance should be
shown in the format "yyyy-MM-dd HH:mm:ss z" by default or the format specified
by the watt.server.dateStampFmt configuration parameter. However, the Server
Start Time is shown as UNIX time. 

This issue is now resolved.

PIE-66635 (IS_10.5_Core_Fix7)
webmethods.io Integration does not provide tenant-specific details in the
statistics returned by the /metrics endpoint. 

This issue is now resolved.

PIE-66681 (IS_10.5_Core_Fix7)
The Logs pages are not refreshing automatically.

In Integration Server Administrator, the logs displayed under the Logs menu
should refresh automatically. The refresh rate is controlled by the
watt.server.log.refreshInterval server configuration parameter. However, the
logs were not refreshing automatically. 

This issue is now resolved.

PIE-65586 (IS_10.5_Core_Fix7)
The new "pub.security:clearAuthenticationCache" public service enables developers 
to clear the authentication cache in Integration Server when required.

PIE-66891 (IS_10.5_Core_Fix7)
When you create a JSON document type using a JSON schema that has a reference
($ref) with mandatory fields, the "Required" property value of the corresponding
fields in the generated JSON document type incorrectly show "false" in Designer. 
This is resolved now.

PIE-55662 (IS_10.5_Core_Fix6)
My webMethods Server does not reflect the "Client Prefix" value updated in 
Integration Server while creating a Broker connection alias.

In Integration Server administrator while modifying the "Client Prefix" value 
for a Broker connection alias under "Settings > Messaging > webMethods Messaging
Settings > Broker Connection Alias > Create" and restarting the Integration 
Server, the "Client Prefix" value is not updated in the My webMethods Server.

This issue is now resolved.

PIE-59435 (IS_10.5_Core_Fix6)
Integration Server does not display the scheduled tasks under 'Server >
Scheduler' in Integration Server Administrator because one or more tasks have
corrupted inputs. 

Instead, it throws the "java.lang.reflect.InvocationTargetException: StackOverflowError" 
exception in the stack trace. 

This issue is now resolved. Integration Server now displays the scheduled tasks
regardless of tasks with corrupted inputs. 

PIE-60232 (IS_10.5_Core_Fix6)
Change in how Integration Server enforces the watt.security.min.bytesPerSecond
value. 

The watt.security.min.bytesPerSecond configuration parameter specifies the
minimum rate at which data may arrive at Integration Server. If data arrives
more slowly than the watt.security.min.bytesPerSecond value, Integration Server
rejects the request with a 408 Request Timeout error and then closes the
connection. Integration Server enforces the watt.security.min.bytesPerSecond
value for the life of an HTTP connection. Browsers usually hold connections open
for multiple requests. Between requests, the browser's user may view a page for
several seconds. This invalidates the calculation done to enforce the
watt.security.min.bytesPerSecond rate as it includes the time the connection is
idle while the user is viewing a page. This fix changes how
watt.security.min.bytesPerSecond is enforced. Rather than calculate the bytes
per second rate for a connection, the rate is calculated for each request. Each
time a request is received by Integration Server, the rate at which Integration
Server reads bytes from the socket is monitored. When Integration Server reads
the end of the socket's InputStream, Integration Server stops the monitoring for
that request. 

As before, Integration Server can enforce the watt.security.min.bytesPerSecond
value only for requests where Integration Server is actually reading the bytes.
In some cases, the reading of the bytes is controlled by a customer's
application or by a third-party library. In these cases, Integration Server is
not reading the incoming bytes and cannot monitor the rate at which they arrive.
Integration Server does not enforce the watt.security.min.bytesPerSecond value
in these scenarios: 

- When the request payload is JSON and watt.server.http.jsonFormat is stream
- When the request payload is XML and watt.server.http.xmlFormat is stream
- When the request contains no Content-type header
- When enhanced XML parsing is being used
- When using the pub.xml NodeIterator services
- For SOAP requests

PIE-61045 (IS_10.5_Core_Fix6)
Integration Server does not clear the sessions in Integration Server 
Administrator under 'Server > Statistics' while executing a stateless service 
through the Enterprise Gateway Server external port.
 
This issue is now resolved.

PIE-61308 (IS_10.5_Core_Fix6)
Integration Server throws Java heap space error when the custom filter is
enabled in the Enterprise Gateway Server Rules.

In Integration Server Administrator under 'Security > Enterprise Gateway Rules >
Rules > Create', when the custom filter is set, Integration Server always clones
the incoming payload to process the request. An increase in the payload size
causes memory problem and Integration Server throws Java heap space error.

This issue is now resolved by adding a check box, 'Clone the payload' in
Integration Server Administrator. If the check box is not selected, Integration
Server does not clone the payload and only processes the header information. If 
the check box is selected, Integration Server clones the payload and processes 
the complete request.

PIE-61641 (IS_10.5_Core_Fix6)
The Nimbus JOSE+JWT library has been upgraded to version 8.5.1 to resolve
security vulnerabilities in the previously-used version of the library. 

PIE-62465 (IS_10.5_Core_Fix6)
Integration Server does not log error messages for an unsuccessful execution of 
a scheduled task's associated service.

When the 'watt.server.scheduler.ignoreReferenceValidationErrors' is set as 
'false' and if Integration Server does not load the associated service of a 
scheduled task while executing the task, then it changes the task status as 
'Suspended'; however Integration Server does not log the error messages related 
to the failed service in the server.log file.

This issue is now resolved.

PIE-62471 (IS_10.5_Core_Fix6)
Integration Server incorrectly converts the array elements while processing REST 
responses for a consumer REST API Descriptor (RAD).

While processing the REST responses for a consumer RAD, if the response 
structure contains a complex set of array elements, Integration Server 
incorrectly converts the array elements as an array of documents instead of a 
document list in the array.

This issue is now resolved.

PIE-62583 (IS_10.5_Core_Fix6)
Integration Server requires credentials for CORS pre-flight requests.

According to the CORS standard, anonymous CORS pre-flight requests are allowed.
However, Integration Server is incorrectly requiring credentials for these
requests. 

This has been resolved. Integration Server now allows anonymous CORS pre-flight
requests. 

PIE-62663 (IS_10.5_Core_Fix6)
When an access token is issued with a different scope than the one requested by
the client, the token endpoint does not include the scope value in its response. 

The OAuth standard says that when an access token is issued with a different
scope than what was originally requested, the token endpoint must include the
scope value in its response. There are two scenarios where an access token may
have a different scope than the one requested by the client: 

- For the authorization code grant and the implicit grant, the resource owner
  approves access to a subset of the requested set of scopes. 
- For all OAuth grant types, if the client's request for authorization does not
  include any scope, the scope defaults to all scopes defined for the client. 

In both cases, the token endpoint's response did not include a scope value. This
has been resolved. When an access token is issued with a different scope than
what was originally requested, the token endpoint's response now includes scope. 

PIE-62862 (IS_10.5_Core_Fix6)
After upgrading to Integration Server 10.5, existing client code does not
compile because the package com.wm.app.b2b.client.cache.config does not exist. 

In Integration Server version 10.5, the SearchResult class was moved to a
different pacakge, specifically the class
com.wm.app.b2b.client.cache.config.SearchResult was moved to the package
com.wm.app.b2b.server.cache.config.SearchResult. As a result of the move,
existing client code does not compile upon upgrade to Integration Server 10.5.
However, because this class was part of the public Integration Server Java API,
the class should not have been moved. 

To resolve this issue, the SearchResult class has been moved back to its
previous location in com.wm.app.b2b.client.cache.config. The
com.wm.app.b2b.client.cache.config.SearchResult class is now deprecated, instead
the class com.wm.app.b2b.server.cache.config.SearchResult should be used. 

PIE-62971 (IS_10.5_Core_Fix6)
Command Central does not support creating JDBC pools for the MySQL database.
This issue is resolved now. 

PIE-62982 (IS_10.5_Core_Fix6)
Command Central throws an exception while importing a composite template for an 
Integration Server node containing a JMS connection alias.

While importing a composite template for an Integration Server node containing 
an enabled JMS connection alias, Command Central throws "ServiceException: JMS 
alias update should be disabled before {1} operation" exception. To avoid this 
exception, you need to first disable the JMS connection alias in Integration 
Server Administrator under 'Settings > Messaging > JMS Settings' and then import 
the composite template.

The issue is resolved. Now, Command Central supports importing the composite 
template dynamically although the JMS connection alias of an Integration Server 
node is enabled.

PIE-63101 (IS_10.5_Core_Fix6)
Change in how Integration Server selects a media type to use for a response to a
request that included multiple media types in the Accept header but did not
specify a factor weighting ("q" parameter) for any of them. 

When a request includes an Accept header with multiple media types and none of
the media types has a "q" parameter, Integration Server attempts to return the
response using the last media type in the Accept header. The HTTP standard does
not specify how to handle multiple media types with no "q" parameter, so the
current behavior is not incorrect. However, it is intuitive to assume that in
this scenario, the first media type in the Accept header is the preferred one. 

This issue is now resolved. When a request includes an Accept header with
multiple media types and none of the media types has a "q" parameter,
Integration Server now attempts to respond with the first media type in the
Accept header. If there is no content handler defined for the first media type,
it attempts to respond with the second media type from the Accept header. This
repeats until Integration Server finds a media type with which it can respond in
the Accept header. If none are found, that is, there is not a content handler
registered for any of the media types in the Accept header, Integration Server
will respond with the text/html media type. 

Software AG recommends that when clients send an Accept header with multiple
media types, they use "q" parameters to indicate an order of preference for the
media type of the response. 

PIE-63178 (IS_10.5_Core_Fix6)
Integration Server throws an error when a custom implementation of JavaMail
classes is used in a Java service. 

If a custom implementation of a JavaMail class is used in an Java service on
Integration Server, the service compiles successfully. However, during service
execution Integration Server throws a
java.lang.reflect.InvocationTargetException:loader constraint violation
exception due to a conflict caused by the same class being loaded from two
different locations. 

To resolve this conflict, all JavaMail packages have been imported to the IS
OSGi profile, which results in the IS OSGi profile loading all the classes from
JavaMail. Note that the parent class loader of Integration Server is the OSGi
bundle class loader. 

PIE-63233 (IS_10.5_Core_Fix6)
The pub.client:http service uses the wrong Authorization header.

If an outbound web service call uses basic authentication and a subsequent
invocation of pub.client:http within the same workflow uses a different type of
authentication, Integration Server may reuse the credentials from the web
service call with HTTP request created for the pub.client:http service. This is
incorrect. 

Integration Server now creates the correct Authorization header for the outbound
HTTP call created for the pub.client:http service. 

PIE-63245 (IS_10.5_Core_Fix6)
In Scheduler, on creating complex task, date fields are not saved correctly.
Start date and time is set to current time, while End date and time is set to
blank.

This issue has been resolved now.

PIE-63275 (IS_10.5_Core_Fix6)
Integration Server now supports deployment of a Universal Messaging connection
alias. 

A Universal Messaging connection alias, which contains the configuration
information needed to establish a connection to Universal Messaging for the
purposes of publishing and receiving messages for webMethods messaging, can now
be deployed by Deployer. 

The following file must be manually copied or checked in to the source directory
in order to build Integration Server administrative assets for deployment. 

IntegrationServer_directory\instances\instance_name\config\messaging.cnf

The asset type ID is: isumalias

A Universal Messaging connection alias has following substitution values:

Client Prefix (CLIENTPREFIX) A string that identifies Integration Server to
Universal Messaging. 
Realm URL (um_rname) The URL for the Universal Messaging server in the format:
protocol://UM_host:UM_port 
Username (umUser) Username to connect to Universal Messaging.
Password (umPassword) Password required for the specified user name.

PIE-63285 (IS_10.5_Core_Fix6)
When a user uses LDAP credentials to log into Integration Server after
restarting the server or after a period of inactivity, the first attempt fails.
However, subsequent attempts are successful. 

This issue is resolved. 

PIE-63432 (IS_10.5_Core_Fix6)
When an HTTP request is sent using the "pub.client:http" service to an HTTPS
port in Integration Server, then it responds with the HTTP status "200 OK". 

This issue is resolved. Now, the service throws the "NetException: Invalid HTTP
Response type" exception. 

PIE-63549 (IS_10.5_Core_Fix6)
Integration Server now caches well-known DTDs for XHTML to avoid delays
encountered while accessing the W3C definition for the XHTML DTD. 

When an XML file references the W3C definition for the XHTML DTD, a 15 second
delay is encountered during the reference as well as an additional 15 second
delay for each DTD that is referenced by the XHTML DTD. 

To avoid the delay and overhead caused by accessing a W3C server, Integration
Server now caches the definitions for the well-known XHTML DTDs. 

PIE-63795 (IS_10.5_Core_Fix6)
Integration Server creates a new socket connection for each request to run the
"pub.client:http" service with the "loadAs" input parameter set to "stream" and
socket pool enabled either through the "maxKeepAliveConnections" input parameter
or the "watt.net.maxClientKeepaliveConns" server property. 

This issue is resolved now.

PIE-63845 (IS_10.5_Core_Fix6)
Various and unpredictable XML parsing errors occur while using web services on
Integration Server. 

An incorrect entry in the Integration Server ini.cnf file specified the wrong
jar file for XML parsing with web services. The ini.cnf file specified the
wstx.jar instead of wstx-asl.jar. 

After applying this fix, the corrected jar names will be used by the Integration
Server. 

PIE-63846 (IS_10.5_Core_Fix6)
UsernameToken signature validation fails for incoming Digest password.

If the Signed element is before the UsernameToken element in SOAP message
headers, then processing these elements in the same order leads to signature
verification failure. This is because, during the processing of Signed element,
the hashed password of the UsernameToken is replaced with its clear text
version. 

This issue is now resolved.

PIE-63849 (IS_10.5_Core_Fix6)
When running a Docker image created for an on-premise Integration Server, the
Digital Event Services (DES) configuration does not work. 

The Dockerfile created for an on-premise Integration Server does not contain the
event routing or DES configuration files. Consequently, the Docker image created
from the Dockerfile does not contain the configuration files either. When the
Docker image runs in a Docker container, the DES and event routing
configurations will not work. 

This issue is now resolved. The is_container.sh/bat script now includes the DES
and event routing configuration files in the Dockerfile that the script builds. 

PIE-63860 (IS_10.5_Core_Fix6)
Integration Server does not execute an OData service when the service request 
contains a '+' character in the query string. This is because Integration Server 
does not decode the '+' character correctly.

This issue is resolved now.

PIE-63893 (IS_10.5_Core_Fix6)
Corrections to the CReadme.txt file regarding the location of the nmake utility.

The CReadme.txt, cpp_ClientReadme.txt, csharp_ClientReadme.txt file, which is
generated by Integration Server when creating a C, C++, or C# client code that
invokes a service respectively, now contains updated references to the location
of the nmake utility. Specifically, the file now states: 

You will require the Windows nmake utility (this is generally included in most
recent versions of Visual Studio, typically under C:\Program Files
(x86)\Microsoft Visual Studio). 
While in the Visual Studio directory, this executable file can be found with the
following Windows command prompt: dir /s "nmake.exe" 
Alternatively in Linux, this can be found using: find -name "nmake.exe"

PIE-64145 (IS_10.5_Core_Fix6)
The server configuration parameters for setting security headers, such as
X-Frame-Options, X-Content-Type-Options, and Content Security Policy, in HTTP/S
responses are not applied for HTTP/S responses for errors and directory
listings. 

This issue is resolved.

PIE-64164 (IS_10.5_Core_Fix6)
On startup, Integration Server incorrectly logs the following message in
server.log: 
"Unable to find message key 1.9999 in bundle com.wm.resources.B2BservMsgBundle"

This issue is resolved.

PIE-64200 (IS_10.5_Core_Fix6)
Integration Server does not refresh page contents in the background when the
session times out in Integration Server Administrator. 

When the browser session times out, Integration Server continues to display the
page contents in the background, while it prompts the user to log in. 
 
To resolve this issue, a new server configuration parameter,
'watt.server.clientTimeoutRedirect' is added. When this parameter is set to
'true', the page redirects the user to a blank page on session timeout. When set
to 'false', which is the default value, Integration Server retains the page
contents in the background. 

Integration Server need not be restarted for the change to take effect. 

PIE-64292 (IS_10.5_Core_Fix6)
The Pinger thread created by Integration Server to keep the connection to a
remote Integration Server active sometimes waits 3 minutes or more before
sending another ping request. 

When Integration Server executes the pub.remote:invoke service, Integration
Server creates a Pinger thread that sends a wm.server.ping request to the remote
Integration Server every n seconds while the connection to the remote
Integration Server is active. The time interval, n, is either one third of the
wait time set in the Keep Alive Timeout field for the remote server alias, or,
if that is not specified, 2 minutes. This may result in long wait times by the
Pinger thread for sending a subsequent ping request. This is counter to the
purpose of the Pinger thread which is to keep the connection to the remote
server active, preventing a socket timeout due to the socket being in and idle
state for too long. 

To reduce the length of time that a Pinger thread is active but waiting for the
interval to expire before sending another ping request, Integration Server now
includes the server configuration parameter watt.server.ping.interval which
specifies the number of milliseconds that the Pinger thread waits between
sending wm.sever.ping requests. The default is 1000 milliseconds. 
Integration Server does not need to be restarted for changes to this parameter
to take effect. 

PIE-64308 (IS_10.5_Core_Fix6)
When an invalid redirect_url is provided when accessing an OAuth token, 
Integration Server places errors in the response body but does not return 
the error to the requesting client.

Integration Server now returns the response to the requesting client 
which allows the client to see the error and correct the invalid redirect_url.

PIE-64402 (IS_10.5_Core_Fix6)
Integration Server now supports the use of the Tibero JDBC driver to connect to
the Tibero database. 

The ISInternal or ISAuditCore functional alias can now use the Tibero JDBC
driver to connect to a Tibero database instance. 

To use the ISInternal or ISAuditCore functional alias with Tibero, do the
following: 

1. Download the Tibero JDBC Driver jar file and place it in the following
   directory: 
   SoftwareAG\IntegrationServer\lib\jars\custom
2. Using Integration Server Administrator, create a JDBC Driver Alias and set
   the Driver Class Name to: com.tmax.tibero.jdbc.TbDriver 
3. Create a JDBC Pool Connection Alias where the Associated Driver Alias is set
   to the alias crated in step 2 and the Database URL is set to: 
   jdbc:tibero:thin:@<server>:<8629|port>:databaseName

For more information about creating a JDBC driver alias and a JDBC connection
pool alias, see the webMethods Integration Server Administrator Guide. 

PIE-64599 (IS_10.5_Core_Fix6)
When creating a JSON Document Type from a JSON schema that has combined schema
(using the oneOf, anyOf, or allOf keywords) along with an Object Schema at the
root level, the properties of the Object Schema at the root level are not
included in the generated document type. 

The issue is fixed.

PIE-64612 (IS_10.5_Core_Fix6)
In some instances, the security log gets flooded with the message "Internal
Server successfully authenticated to the Enterprise Gateway." 

This issue is resolved.

PIE-64685 (IS_10.5_Core_Fix6)
Internal SAG metering feature, no readme

PIE-64859 (IS_10.5_Core_Fix6)
When deploying assets from Designer to Cloud Container, the ACDL descriptor does
not contain the top-level attribute indicating that runtimes need to be
restarted after deployment. 

When a component in an ACDL descriptor contains the attribute restartRuntimes
set to true, which indicates that the runtime must be restarted for deployed
changes to take effect, the top-level restartRuntimes attribute in the ACDL
descriptor must also be set to true. If no components need to be restarted, the
restartRuntimes attribute is set to false. However, when deploying assets from
Designer to Command Central, the ACDL descriptor did not contain this top-level
attribute. 

This issue is now resolved.

PIE-64933 (IS_10.5_Core_Fix6)
The /health endpoint Microservices Runtime or on an Integration Server equipped
with a Microservices license incorrectly shows an overall status of DOWN when
the PubSub license is not available. 

This issue is now resolved.

PIE-53165 (IS_10.5_Core_Fix5)
API Gateway external and registration ports disappear after an update action.

If an external and registration port pair is created in an API Gateway instance
and an internal server port listening to the registration port is also created
on the same instance, then performing an update action on the external port
causes the external and registration ports to disappear from the instance. 

This issue is resolved now.

PIE-57526 (IS_10.5_Core_Fix5)
Integration Server incorrectly adds the host, port, and protocol details in the 
URL while sending an OData response.

While sending an OData response to an enterprise gateway server, Integration 
Server incorrectly adds the host, port, and protocol details in the URL.

This issue is now resolved. Now Integration Server correctly adds the URL 
details that the client has used while sending the request.

PIE-58987 (IS_10.5_Core_Fix5)
Permissions for a node do not reflect changes after redeployment.

When an Integration Server node, such as a service, has ACL permissions set to 
anything other than '<Default>(inherited)' and the node is deployed to 
the target server, the node permissions are correct. However, if the permissions 
are changed to '<Default>(inherited)' and the node is redeployed to 
the target server, the node on the target server does not reflect the 
updated permissions.

This issue is now fixed. Changes in permissions are correctly updated 
when a node is redeployed.

PIE-59328 (IS_10.5_Core_Fix5)
The predefined IS_DES_CONNECTION messaging connection alias should not be
automatically created on Microservices Runtime. 

Microservices Runtime cannot be used with Digital Event Services. The
IS_DES_CONNECTION alias should not be created on Microservices Runtime
automatically. 

This issue is now fixed. The predefined alias IS_DES_CONNECTION is no longer
automatically created on Microservices Runtime. 

PIE-59929 (IS_10.5_Core_Fix5)
SFTP client enhancements.

Integration Server now includes an advanced SFTP client, which provides new
configuration properties and additional Key Exchange Algorithms, Machine Access
Code (MAC) algorithms, and Ciphers. This enhanced support is available as a new
version (version 2) along with the previous version (version 1) in the SFTP
Server Alias settings page. 

Further, the SFTP Server Alias settings pages in the Integration Server
Administrator have been enhanced to enable you to configure both versions. 

The following new fields have been added to the SFTP Server Alias settings
pages: 
- SFTP Client Version: Select the required version: "Version 1" or "Version 2". 
- Min DH Key Size: Optional. The minimum DH key size. The default value is 1024. 
  This field is not applicable if SFTP Client Version is "Version 1". 
- Max DH Key Size: Optional. The maximum DH key size. The default value is 8192. 
  This field is not applicable if SFTP Client Version is "Version 1". 
- Preferred Key Exchange Algorithms: Optional.  The list of preferred key
  exchange algorithms arranged in the order of preference. Any of the listed algorithms can 
  be removed by moving it to the list of excluded algorithms. 
- Preferred MAC Algorithms S2C: Optional. The list of preferred server to client 
  Message Authentication Code (MAC) algorithms arranged in the order of preference. 
  Any of the listed algorithms can be removed by moving it to the list of excluded 
  algorithms. 
- Preferred MAC Algorithms C2S: Optional. The list of preferred client to server 
  Message Authentication Code (MAC) algorithms arranged in the order of preference. 
  Any of the listed algorithms can be removed by moving it to the list of excluded 
  algorithms. 
- Preferred Ciphers S2C: Optional. A list of preferred server to client ciphers. 
- Preferred Ciphers C2S: C2S: Optional. A list of preferred client to server
  ciphers. 

Notes:
- If you have set Min DH Key Size to 1024 and you get the error message:
  "com.maverick.ssh.SshException: Minimum DH p value not provided [2048]", set
  the Min DH Key Size to 2048. 
- watt.ssh.jsch.logging: Integration Server uses this existing server
  configuration parameter for enabling SFTP client logging for both version 1 and 
  version 2. 
- As the preferred key exchange algorithms, ciphers, and MAC algorithms can
  now be configured from the user interface, watt.ssh.jsch properties (except
  watt.ssh.jsch.logging) are deprecated and should not be used. 
- If the any of the lists of preferred algorithms or ciphers is cleared by
  moving all items to the excluded list then the default list (in the default
  order) is used. 
- Version 1 does not support wildcards in any of the public services
  (pub.client.sftp:*). 
- If you configure SFTP version 2 with a User Alias, the Compression Level and
  Maximum Retries fields in the User Alias are ignored. These fields are
  applicable only to SFTP client version 1. 

Migration of Existing SFTP Server Alias Data from watt.ssh.jsch.* Properties

After applying a fix that includes PIE-59929, an existing SFTP server alias will
use the new version 1 fields. The new version 1 fields are populated with the values of
the watt.ssh.jsch.* configuration parameters while applying the fix as described
below:

- Preferred Key Exchange Algorithms: If the watt.ssh.jsch.kex server property
  is set then those KEX algorithms are added to "Preferred Key Exchange
  Algorithms" and all other algorithms are added to "Excluded Key Exchange
  Algorithms". If the value of the watt property is empty then the default KEX
  algorithms are added to "Preferred Key Exchange Algorithms". 
- Preferred Ciphers S2C: The ciphers included in the value of the
  watt.ssh.jsch.ciphers server property are added to "Preferred Ciphers S2C" and
  all other ciphers are added to "Excluded Ciphers S2C". 
- Preferred Ciphers C2S: The ciphers included in the value of the
  watt.ssh.jsch.ciphers server property are added to "Preferred Ciphers C2S" and
  all other ciphers are added to "Excluded Ciphers C2S ". 
- Preferred MAC Algorithms S2C: If the watt.ssh.jsch.mac_s2c server property
  is set then those algorithms are added to "Preferred MAC Algorithms S2C" and all 
  other algorithms are added to "Excluded MAC Algorithms S2C". If the value of the 
  watt property is empty then the default server-to-client algorithms are added to 
  "Preferred MAC Algorithms S2C". 
- Preferred MAC Algorithms C2S: If the watt.ssh.jsch.mac_c2s server property
  is set then those algorithms are added to "Preferred MAC Algorithms C2S" and all 
  other algorithms are added to "Excluded MAC Algorithms C2S". If the value of the 
  watt property is empty then the default client-to-server algorithms are added to 
  "Preferred MAC Algorithms C2S". 

The watt.ssh.jsch.* parameters listed above are deprecated now.

PIE-60471 (IS_10.5_Core_Fix5)
Changes to Integration Server to support the use of Kerberos authentication with
JDBC pools. 

Integration Server supports the use of Kerberos authentication for outbound
connections to a database through JDBC connection pools. With this fix,
Integration Server provides support for using the driver's Kerberos
re-authentication feature with any supported database. In addition, this readme
shows how to configure each JDBC Pool with its own Kerberos ticket cache. 
 
To use a different Kerberos ticket cache file with each JDBC connection pool on
Integration Server, use the DataDirect connection parameter "loginConfigName".
To do this: 

1. Create a new login context in the is_jaas.cnf file located in the folder:
   <IntegrationServer>/instances/<instance_name>/config. 
   Within the new login context, specify the ticket cache that you want to use for
   the login context. For example, see the sample below: 

JDBC_ISInternal {
        com.sun.security.auth.module.Krb5LoginModule required
                useTicketCache="true"
                ticketCache="/opt/krb_tickets/isinternal.kd";
};

2. Add the login context to the database URL for the JDBC connection pool by
   including the parameter loginConfigName=<loginContext> . For example, it the
   login context in the is_jaas.cnf file is named JDBC_ISInternal, add the
   following the database URL for the JDBC connection pool:
   loginConfigName=JDBC_ISInternal 
   The DataDirect driver will use the ticket cache and other details found in the
   JDBC_ISInternal JAAS login context to connect to the database, 

For more information about the DataDirect connection parameter
"loginConfigName", refer to the DataDirect Documentation from Progress. 

The DataDirect driver used by Integration Server JDBC connection pools supports
Kerberos re-authentication. For details about this support, refer to the
DataDirect Documentation from Progress. To connect to database using Kerberos
authentication and then use a different database user to access the database,
add the following new database URL parameter to the JDBC connection pool:
ReAuthenticateUser=<userName>. For example, to use an Oracle user named
"ISinternalUser" to access the database instead of the user who gets
authenticated using Kerberos, first grant all the required Oracle permissions to
that user and then add the following property to the database URL for the JDBC
pool: ReAuthenticateUser=ISinternalUser. 

Note: Use a semi-colon (;) to separate parameters in the database URL.

This fix also introduces new messages for Kerberors re-authentication property
which are written to the server.log when the server log facility 0096 JDBC
Connection Manager is to the DEBUG or TRACE. 

[ISS.0096.0031D] Database URL contains the Kerberos re-authentication property
'ReAuthenticateUser'. The original URL is : {0}. 
[ISS.0096.0032T] Database URL contains the Kerberos re-authentication property
'ReAuthenticateUser'. The revised URL is : {0}. 
[ISS.0096.0033D] Database URL contains the Kerberos re-authentication property
'ReAuthenticateUser'. The ReAuthenticateUser is : {0}. 
[ISS.0096.0034D] Kerberos re-authentication property 'ReAuthenticateUser' found
in database URL. Invoked ExtConnection.setCurrenUser using : {0}. 

PIE-60770 (IS_10.5_Core_Fix5)
Integration Server suspends the JMS trigger when the JMS provider repeatedly 
throws IllegalStateException.

When Integration Server uses Azure Service Bus as the JMS provider through the 
AMQP protocol and if the JMS provider encounters a bad session and throws 
IllegalStateException repeatedly, then Integration Server suspends the JMS 
trigger due to an internal error.

This issue is now resolved.

PIE-60902 (IS_10.5_Core_Fix5)
Integration Server does not log detailed error messages at runtime.

At runtime, Integration Server logs only wrapped error messages that do not 
provide error details. For example, if 'NoClassDefFoundError' occurs at runtime, 
Integration Server logs only a wrapped error message.

This issue is resolved. Now, Integration Server logs error messages with the 
root cause.

PIE-61002 (IS_10.5_Core_Fix5)
When the messaging logger mode is changed to asynchronous, Integration Server
does not persist the change across restarts. 

If the Mode property of the messaging logger is set to Asynchronous and saved,
after Integration Server restarts it resets the mode to Synchronous. 

This issue is now resolved.

PIE-61188 (IS_10.5_Core_Fix5)
Enhancements to the SFTP client login service.

- The SFTP login service (pub.client.sftp:login) now includes additional input parameters 
  that enable you to log in without configuring SFTP client aliases (server and
  user aliases). 
- Two new helper services: getDefaultAlgorithms and getHostKey that return the default 
  algorithms and the host key respectively, which can be used with the SFTP login service. 

The additional input parameters that have been added to the login service in
this fix are: 
- sftpClientVersion: String. Version of the SFTP client. The value for this can be "version1" 
  or "version2". Using "version2' enables the newer advanced SFTP client, which adds new 
  configuration properties, and additional Key Exchange Algorithms, Machine Access Code 
  (MAC) algorithms, and ciphers. 
- serverHost: String. The IP address or the host name of the SFTP server.
- serverPort: Integer. The SFTP server port number. The port number must be within 
  the range of 0 and 65535 (inclusive).
- hostKeyBytes: Object. Optional. An array of bytes (byte[]). The host key of the SFTP 
  server. If this field is empty then host key verification cannot be strict--Integration 
  Server ignores the value of the strictHostKeyChecking field and trusts the host key 
  received from the SFTP server while creating a connection. 
  Note: You can get the host key of the SFTP server using the 
  pub.client.sftp.admin:getHostKey service. 
- userName: String. The user name for the SFTP user account. 
- authenticationType: String. Type of authentication that Integration Server uses to 
  authenticate itself to the SFTP server. Integration Server supports two types of 
  authentication: public key and password. If the authentication type is password then 
  the value in the "password" field is used. If the authentication type is publicKey then 
  the value provided in the privateKeyBytes field is used.
- password: String. Optional. Password of the specified SFTP user account. This is 
  required if authenticationType is password. 
- privateKeyBytes: Object (an array of bytes (byte[])). Optional. If the authentication 
  type is publicKey then provide the private key of the specified SFTP user account. 
- passPhrase: String. Optional. It is required if you selected publicKey as the 
  authentication type and if the private key you specified requires a passphrase. 
- minDHKeySize: Integer. Optional. The minimum DH key size. The default value is 1024. 
  This field is not applicable if sftpClientVersion is version1. 
- maxDHKeySize: Integer. Optional. The maximum DH key size. The default value is 8192. 
  This field is not applicable if sftpClientVersion is version1.
- preferredKeyExchangeAlgorithms: String Optional. A comma-separated list of preferred 
  key exchange algorithms. If no value is provided then the default list of key exchange 
  algorithms (in the default order) is used. 
  Note: You can get the list of default key exchange algorithms, MAC algorithms,
  and ciphers   using the pub.client.sftp.admin:getDefaultAlgorithms service. 
- preferredCiphersC2S: String. Optional. A comma-separated list of preferred client-to-server 
  ciphers. If no value is provided then the default list of client-to-server ciphers 
  (in the default order) is used.
- preferredCiphersS2C: String. Optional. A comma-separated list of preferred server-to-client 
  ciphers. If no value is provided then the default list of server-to-client ciphers (in the default 
  order) is used.
- preferredMacC2S: String. Optional. A comma-separated list of preferred client-to-server 
  message authentication code (MAC) algorithms. If no value is provided then the default 
  list of client-to-server MAC algorithms (in the default order) is used.
- preferredMacS2C: String. Optional. A comma-separated list of preferred
  server-to-client  message authentication code (MAC). If no value is provided then the default list
  of server-to-client MAC algorithms (in the default order) is used.
- proxyAlias: String. Optional. The proxy alias through which the request is to be routed. 
  The proxy alias can be HTTP, HTTPS, or SOCKS. If a proxy alias is not specified, 
  Integration Server makes outbound requests using each enabled proxy server alias
  until   the request is sent successfully or all proxy servers have been tried. 
- maximumRetries: Integer. Optional. The maximum number of times Integration Server tries 
  to connect to the SFTP server if login fails. The default value is 5. This field is 
  applicable if sftpClientVersion is version1.
- connectionTimeout: Integer. Optional. The amount of time (in seconds) Integration Server 
  waits for a response from the SFTP server before timing out and terminating the request. 
  The default is 0, which indicates that the session will never time out.
- sessionTimeout: Integer. Optional. The number of minutes Integration Server waits 
  before terminating an idle session. The default is 30 minutes.
- compression: String. Optional. Whether or not to compress the data to reduce the amount 
  of data in transition. Integration Server supports compression using the compression 
  algorithm zlib. The allowed values for this field are "none" and "zlib". 
  Note: You can use compression only if the SFTP server that you are connecting to 
  supports compression.  
- compressionLevel: Integer. Optional. The compression level to use if you selected the 
  compression algorithm zlib in the compression field. The minimum allowed value 
  is 1 (fast, less compression). The maximum allowed value is 6 (slow, maximum compression). 
  The default value is 6. This field is not applicable if sftpClientVersion is version2. 
- strictHostKeyChecking: String. Optional. Enables host key checking. If set to "Yes" and 
  the host key does not match with the host key provided in hostKeyBytes field at the time 
  of handshake then the connection fails. The default value is "Yes".  If set to "No" then 
  the host key is not checked during the handshake. This field is ignored if hostKeyBytes is empty.

Notes:
- userAlias is an optional input parameter now. However, it is the recommended method of 
  passing configuration data to the service as it is resilient to changes to the configuration, 
  such as removal of algorithms or ciphers in favor of stronger algorithms and ciphers. 
- If you specify the userAlias and the other new parameters, userAlias is used
  by the service. 

New Helper Services
This fix introduces two helper services:
pub.client.sftp.admin:getDefaultAlgorithms and 
pub.client.sftp.admin:getHostKey, which can be used to retrieve information that
can be passed to the pub.client.sftp:login service.

pub.client.sftp.admin:getDefaultAlgorithms 
WmPublic. Returns the default values of the parameters: keyExchangeAlgorithms,
ciphersC2S,ciphersS2C, macC2S, and macS2C. The values are returned as a comma separated
list. 

Input: 
- sftpClientVersion: String  The value for this can be "version1" or "version2". 

Output: 
- keyExchangeAlgorithms: String A comma-separated list of supported Key Exchange Algorithms. 
- ciphersC2S: String A comma-separated list of supported client-to-server ciphers. 
- ciphersS2C: String A comma-separated list of supported server-to-client ciphers. 
- macC2S: String A comma-separated list of supported client-to-server Message
  Authentication Code (MAC) algorithms.
- macS2C: String A comma-separated list of supported server-to-client Message 
  Authentication Code (MAC) algorithms.

pub.client.sftp.admin:getHostKey
WmPublic. Gets the host key from the SFTP server. 

Input:
The input for this service is similar to the input of the pub.client.sftp:login
service. It has the same input parameters except for: hostKeyBytes, userName,
authenticationType, password, privateKeyBytes, passphrase, preferredKeyExchangeAlgorithms,
maximumRetries, connectionTimeout, sessionTimeout, compression, compressionLevel, and
strictHostKeyChecking. These input parameters work in the same way as they do in the
pub.client.sftp:login service. 

Output:
- hostKeyBytes: Object An array of bytes (byte[]). The host key in byte array format. 
- fingerprint: String. Fingerprint of the host key.

PIE-61374 (IS_10.5_Core_Fix5)
During Integration Server migration, when the hostname is automatically updated
in the ISCoreAudit and ProcessAudit component tables, the process fails if a
table is not found. 

This issue is resolved now. However, if a table in the ISInternal component is
not found, the process fails. 

PIE-61482 (IS_10.5_Core_Fix5)
Integration Server Scheduler filter results are incorrect when Integration
Server is part of a cluster. 

This issue is resolved now.

PIE-61531 (IS_10.5_Core_Fix5)
The "pub.client.sftp:get" service fails with larger files when the GET operation
lasts longer than Timeout Period of the service and the
watt.net.sftpSweepInterval parameter because Integration Server ends the active
session used by the GET operation. 

This issue is now resolved. 

PIE-61778 (IS_10.5_Core_Fix5)
Integration Server does not execute the'pub.client:http" service properly.

When the "pub.client:http" service is executed to call a web service that
exchanges a cookie and is hosted on a Microsoft-IIS-Server with NTLM
Authentication, the Integration Server does not terminate the
'pub.client:http' service even if the authentication fails. 

This issue is resolved now. 

PIE-61879 (IS_10.5_Core_Fix5)
When Integration Server connects to an FTP server securely and the
pub.client.ftp:* services are executed, Integration Server throws
"javax.net.ssl.SSLException: Unsupported record version Unknown-48.48"
exception. 

This issue is now resolved. 

PIE-61904 (IS_10.5_Core_Fix5)
Integration Server does not display an error message, if the SFTP client version
in the request URL of the 'Create Server Alias' page is invalid. 

While creating an "SFTP Server Alias" under "Settings > SFTP" in
Integration Server Administrator, if the request URL of the "Create Server
Alias' page contains an empty, null, or incorrect value for the SFTP client
version, Integration Server neither displays an error nor defaults to a valid
version. 

Example of a request URL with an incorrect SFTP client version:  

https://hostname:port/WmRoot/settings-sftp-client-serveralias-addedit.dsp?operation=add&version=abc

This issue is resolved now. If the request URL contains an invalid SFTP client
version, Integration Server defaults to version 1. 

PIE-61922 (IS_10.5_Core_Fix5)
Integration Server throws incorrect error message while executing the
'wm.server.sftpclient:updateServerAlias' service. 

When Integration Server executes the 'wm.server.sftpclient:updateServerAlias'
service to update an SFTP server alias, it throws an incorrect error message
indicating that the Integration Server cannot run the service because the server
alias does not exist. 

This issue is resolved now. Integration Server displays an appropriate error
message for the service. 

PIE-61925 (IS_10.5_Core_Fix5)
Integration Server does not create the SFTP server alias correctly.

When creating an "SFTP Server Alias" under "Settings > SFTP" in
Integration Server Administrator, if the value of version in the request URL has
space, Integration Server creates the SFTP server alias for the SFTP client
version 1, by default. 
 
This issue is resolved now. The space in the value of the version is trimmed to
create the SFTP server alias for the correct version number. 

PIE-62121 (IS_10.5_Core_Fix5)
Integration Server does not map the request payload of the REST APIs from a JSON 
array to a document list. 

Integration Server does not parse the request payload of the REST APIs which is 
in JSON array format and cannot map the JSON array to a document list in the 
service signature.

This issue is resolved now.

PIE-62155 (IS_10.5_Core_Fix5)
Applying a configuration variables template does not update the value of an
encrypted global variable correctly. 

When using a configuration variables template with Microservices Runtime (or an
Integration Server equipped with a Microservices license) to update the value of
an encrypted global variable, applying the template does not change the
encrypted global variable to the correct value. 

This issue is now fixed. Microservices Runtime successfully updates the value of
an encrypted global variable to the correct value when applying a configuration
variables template. 

PIE-62171 (IS_10.5_Core_Fix5)
Integration Server throws an exception while calling the REST APIs containing 
'date' or 'date-time' fields.
 
While calling the REST APIs that contain 'date' or 'date-time' fields as arrays 
or nested structure inside arrays, Integration Server does not convert the 
'date' or 'date-time' fields correctly and throws an exception.

This issue is resolved now.

PIE-62197 (IS_10.5_Core_Fix5)
If the Global Denial of Service rule is enabled, all the requests to Enterprise
Gateway Server are blocked after a certain time. 

The Enterprise Gateway Server does not correctly update the count of requests in
progress after processing a request. Therefore, when this count becomes equal to
the value set in the "Maximum Requests in Progress" field of the Global Denial
of Service rule, all requests are blocked. 

This issue is resolved now. 

PIE-62216 (IS_10.5_Core_Fix5)
Integration Server stops responding during startup if there are not sufficient
threads to start a webMethods messaging trigger that receives messages from
Universal Messaging. 

During startup, Integration Server starts each trigger. If a thread is not
available to start a webMethods messaging trigger because Integration Server has
already reached the maximum amount of the server thread pool that can be used
for document processing, Integration Server becomes unresponsive and start up
fails. 

Now, if there is not a thread available to start a webMethods messaging trigger,
Integration Server logs an exception and Integration Server startup continues. 

Note: The percentage of the server thread pool that can be used for processing
messages for webMethods messaging triggers is controlled by the Maximum Threads
field under Document Processing on the Settings > Messaging > webMethods
Messaging Trigger Management > Global webMethods Messaging Trigger Controls >
Edit page. 

This fix also introduces a configuration change in which the thread used to run
a webMethods messaging trigger and listen for messages does not count toward the
thread usage limit established by the Maximum Threads value for document
processing. 

For each webMethods messaging trigger that receives messages from Universal
Messaging, Integration Server uses a thread to run the trigger where running the
trigger includes starting the trigger and listening for messages. A concurrent
webMethods messaging trigger can process messages using multiple threads. A
serial trigger uses another thread to process messages. The thread that runs the
trigger and the threads that process messages all come from the server thread
pool. However, a limit can be set on how much of the server thread pool can be
used for message processing by webMethods messaging triggers. Specifically, the
Maximum Threads field under Document Processing on the Settings > Messaging >
webMethods Messaging Trigger Management > Global webMethods Messaging Trigger
Controls > Edit page determines the percentage of the server thread pool that
can be used for document processing. For example, if the server thread pool is
configured for a maximum of 100 threads and the Maximum Threads for document
processing is set to 25, only 25% of the server thread pool (25 threads) can be
used to process messages for webMethods messaging triggers. 

Prior to this fix, for a webMethods messaging trigger that receives messages
from Universal Messaging, the thread used to run the trigger and listen for
messages counted toward the thread usage limit set by the Maximum Threads for
document processing. Now, the thread used for running the trigger and listening
for messages is not considered to be a document processing thread. That is, the
thread that runs the trigger does not count towards the usage limit set by the
Maximum Threads for document processing. 

Integration Server includes a server configuration parameter that can be used to
revert to the previous behavior. 

watt.server.messaging.trigger.startup.useServerThread
Specifies whether the thread used to start and run a webMethods messaging
trigger that receives messages from Universal Messaging counts toward the thread
usage limit established by the Maximum Threads value for document processing.
When set to true, the thread that runs the trigger does not count towards the
usage limit set by the Maximum Threads for document processing. When set to
false, the thread used to run the trigger and listen for messages counts toward
the thread usage limit set by the Maximum Threads for document processing. The
default is true. 

You must restart Integration Server for changes to this parameter to take
effect. 

Set to false to obtain the behavior available prior to applying a fix that
includes PIE-62216. 

PIE-62238 (IS_10.5_Core_Fix5)
Integration Server throws 'StackOverflowError' exception while updating the REST 
API descriptor (RAD).

When a RAD is created using a REST V2 resource that depends on document types 
containing cyclic references, Integration Server throws 'StackOverflowError' 
exception.

This issue is now resolved.

PIE-62286 (IS_10.5_Core_Fix5)
Additional debug information for SOAP-related transactions.

As requested by customers, additional debug information: thread id and session
age, is now available in the SOAP logs. 

PIE-62317 (IS_10.5_Core_Fix5)
Integration Server blocks the JNDI test lookup for new versions of JBoss JMS 
provider.

If the Task Engine, that uses some old versions of JBoss logging classes, is 
installed along with the Integration Server, then it obstructs the JNDI lookup 
call due to the old and missing APIs of the JBoss logging class.

This issue is now resolved.

PIE-62349 (IS_10.5_Core_Fix5)
Integration Server cannot parse the JSON content for non-HTTP requests.

When Integration Server receives a non-HTTP request containing JSON content, 
then it cannot parse the JSON content present in the request body.

This issue is now resolved.

PIE-62459 (IS_10.5_Core_Fix5)
Integration Server does not honor the value of watt.server.serverlogFilesToKeep.

The watt.server.serverlogFilesToKeep server configuration parameter specifies
the number of server log files that Integration Server keeps on the file system,
including the current server log file. When Integration Server reaches the limit
for the number of server log files, Integration Server deletes the oldest
archived server log file each time Integration Server rotates the server log.
However, Integration Server 10.5 is not properly deleting old log files. 

Now, Integration Server honors the value of watt.server.serverlogFilesToKeep and
properly deletes old log files. 

PIE-62476 (IS_10.5_Core_Fix5)
Integration Server throws error while accessing a REST API using the access 
token generated by a third-party authorization server. 

In Integration Server Administrator, on the 'Security > OAuth > Scope Management 
> Add Scope' page, when 'URL templates' is configured manually for REST APIs 
and if the access token is generated from a third-party authorization server, 
Integration Server throws error while accessing the REST API through the URL. 

This issue is now resolved.

PIE-62486 (IS_10.5_Core_Fix5)
Full value of field truncated in the audit log is written to the server log at
the incorrect logging level. 

When Integration Server writes a record to an audit log and a field is too large
to fit in its database column, Integration Server truncates the value and writes
the full value of the field to the server log. The
watt.server.audit.journal.truncated parameter determines the logging level at
which the full value of the field is written to the server log. There is a
problem with how Integration Server handles this this property which results in
the full value of the truncated field being written to the server log at the
incorrect logging level. 

This has been fixed. Now, when the server logging facility 0095 Audit Log
Manager is set to the same level as watt.server.audit.journal.truncated or a
more verbose level, the full value of the truncated field is written to the
server log. For example, if the 0095 Audit Log Manager log level is set to Info
and watt.server.audit.journal.truncated is set to Debug, the full value of the
truncated field will not appear in the server log. If 0095 Audit Log Manager log
level is set to Trace and watt.server.audit.journal.truncated is set to Debug,
the full value of the truncated field will appear in the server log. 

PIE-62572 (IS_10.5_Core_Fix5)
After migrating Integration Server from 9.12 to 10.5, enabling an HTTPS port
fails with the following error: 
"Failed to start HTTPSListener:
org.apache.logging.log4j.core.appender.AppenderLoggingException: An exception
occurred processing Appender IS.ServerLogASync" 

This issue is resolved now. 

PIE-62725 (IS_10.5_Core_Fix5)
Integration Server does not import the Swagger document while generating a REST 
API Descriptor (RAD).

While importing a Swagger document to create a RAD, if the Swagger document has 
an empty scope defined for "OAuth2" security type, then Integration Server
does not import the Swagger document.

This issue is now resolved.

PIE-62728 (IS_10.5_Core_Fix5)
When the distributed locking component repeatedly throws SQLExceptions caused by
incorrect configuration, database connections leak and are eventually exhausted. 

This has been addressed. Connections used for distributed locking are no longer
leaking even when the distributed locking component repeatedly throws
SQLExceptions caused by incorrect configuration. 

PIE-62737 (IS_10.5_Core_Fix5)
The'pub.string:isNullEmptyOrWhitespace' WmPublic service does not return
'true' when the input is null. 

An optional input parameter,'ifPresent" is added to both
"isNullEmptyOrWhitespace" and "isNullOrBlank"(deprecated) services to ensure
correct behaviour and backward compatibility. 

- If the value of "ifPresent" is set to true, the services check whether the
"inString" input parameter is present or not, and only then proceed with
validation of the input. 
- If the value of "ifPresent" is set to false, the services throw an exception
when the "inString" input parameter is absent. Else, the services proceed with
validation of the input. 

Examples:
-------------
Service with inString=' \t\n\r\n' and ifPresent = true, returns true
Service with inString=' \t\n\r\n' and ifPresent = false, returns true
Service with inString = 'abcd' and ifPresent = true, returns false
Service with inString = 'abcd' and ifPresent = false, returns false
Service with ifPresent = true, returns true
Service with ifPresent = false, throws an exception
-------------
This issue is resolved now. 

PIE-62775 (IS_10.5_Core_Fix5)
When testing an on-premise connector that accepts batch data from webmethods.io,
optional fields are treated as required. 

When testing an on-premise connector from webmethods.io, if the connector checks
for batch data, input is required for optional fields. For example, the optional
field $internal/batchContext is treated as required. 

This issue is now resolved.

PIE-62815 (IS_10.5_Core_Fix5)
When the watt.server.service.blacklist server configuration parameter is set to
any value, access to services is denied to any user except those users who
belong to groups in the allow list for the Administrator ACL or the Internal
ACL. 

When the watt.server.service.blacklist is set to any value, Integration Server
performs an ACL check for all service executions, regardless of the value of the
Enforce Execute ACL property. As a result, execution fails for services for
which the execute ACL is neither the Internal ACL nor the Administrator ACL.
Integration Sever also returns an Access Denied error. 

This issue is now resolved. Integration Server properly performs the execute ACL
check when watt.server.service.blacklist is set. 

PIE-62827 (IS_10.5_Core_Fix5)
Integration Server throws the "javax.net.ssl.SSLException" errors while
creating multiple HTTPS connections simultaneously. 

When Integration Server creates multiple HTTPS connections simultaneously
through a proxy server, some of the requests fail intermittently with the
"javax.net.ssl.SSLException" errors, if the socket pooling is enabled. 

The issue is resolved now. 

PIE-62832 (IS_10.5_Core_Fix5)
Integration Server starts a suspended repeating scheduled task immediately.

In Integration Server Administrator, under 'Server > Scheduler', when a
suspended repeating task, scheduled to run later is activated, Integration
Server starts the task immediately. 

This issue is resolved now. 

PIE-62877 (IS_10.5_Core_Fix5)
In an API Gateway clustered environment, Integration Server exits with a
NullPointerException. 

In an API Gateway clustered environment, a race condition may cause Integration
Server to generate a NullPointerException, which, in turn, causes Integration
Server to shut down. 

This issue is resolved now.

PIE-62972 (IS_10.5_Core_Fix5)
Startup of Integration Server is delayed when service caching is configured and
uses a distributed cache. 

This issue is now resolved.

PIE-62987 (IS_10.5_Core_Fix5)
During API Gateway startup, an attempt to allocate a port results in a
NullPointerException. 

This issue is now resolved.

PIE-62988 (IS_10.5_Core_Fix5)
The package updates for a Wm package that can be partially deployed shows the
history of partial deployments but should not. 

Certain webMethods adapter packages can be partially deployed, specifically
WmJDBCAdapter, WmMQAdapter, WmAS400, WmSAP. After a partial package deployment
for one of the adapter packages, the package updates shows each partial
deployment but should not. 

Now, webMethods adapter packages that can be partially deployed no longer
display the partial deployment history as part of package updates. 

PIE-62998 (IS_10.5_Core_Fix5)
Integration Server does not allow to create a local user if the user already 
exists in the LDAP server.

In Integration Server Administrator, an attempt to add a local user through the 
'Security > User Management > Add and Remove Users' page results in the 'User 
already exists' error, if the user already exists in the LDAP server.

This issue is resolved now.

PIE-63041 (IS_10.5_Core_Fix5)
Integration Server is not receiving request payload when Transfer-Encoding is
chunked. 

When receiving a client HTTP request without a content length specified in the
header, Integration Server ignores the payload. This occurs even if the request
includes the Transfer-Encoding header set to chunked.  

This fix resolves the issue. Integration Server now processes payloads properly
in the above situation. 

PIE-63045 (IS_10.5_Core_Fix5)
Integration Server now supports the use of environment variables for
substitution values during deployment. 

To use the value of an environment variable as the value of a substitutable
variable, specify the following as the substitution value (where "variableName"
is the name of the environment variable): ${variableName} 
 
During the variable substitution phase of deployment, when Integration Server
encounters a substitution value in the format ${variableName}, Integration
Server checks for an environment variable with the name variableName. If an
environment variable with that name exists, Integration Server uses the value of
the environment variable as the substitution value. If an environment variable
with that name does not exist, Integration Server uses ${variableName} as is. 

PIE-63072 (IS_10.5_Core_Fix5)
Integration Server incorrectly returns 'Min DH Key Size' and 'Max DH Key Size'
values while executing the 'wm.server.sftpclient:getServerAliasInfo' service. 

When Integration Server runs the 'wm.server.sftpclient:getServerAliasInfo'
service to get the details of a server alias created for SFTP Client Version 1,
the service incorrectly returns the 'Min DH Key Size' and 'Max DH Key Size'
parameter values, although these parameters are not associated with the server
alias created for SFTP Client Version 1. 

To resolve the issue, apply the latest fix.

PIE-63114 (IS_10.5_Core_Fix5)
Attempts to save a newly created or updated publishable document type that use
protocol buffers as the encoding type fail. 

If the default temp directory of the JVM has been changed after Integration
Server initializes, the following error may occur when attempting to create or
update a publishable document type that use the protocol buffers encoding type. 

ISC.0076.9021 Error invoking the protocol buffer compiler

This fix allows the publishable document type to be saved.

PIE-63123 (IS_10.5_Core_Fix5)
Integration Server does not deny access to a host whose IP address is on the
Deny List for an Enterprise Gateway external port if the host sends requests via
a proxy or a load balancer. 

When a host sends a request via a proxy or load balancer, the proxy or load
balancer adds the X-Forwarded-For (XFF) header to the request. The XFF header
contains the IP address of requesting host. Currently, Integration Server
ignores this header when determining whether to block a request sent to an
Enterprise Gateway external port. This can result in Integration Server allowing
access to a host whose IP address is on the Deny List for the Enterprise Gateway
external port configured to Allow by Default or denying access to a host whose
IP address is on the Allow List for a port configured to Deny by Default. This
issue applies to an API Gateway external port as well. 

To address this issue, Integration Server includes a new server configuration
property to control whether the XFF header, if present, is used when determining
if a host is allowed access to an Enterprise Gateway external port or an API
Gateway external port. 

watt.server.ports.ipaccess.ignoreXForwardedForHeader
Specifies whether Integration Server uses or ignores the IP address in the
X-Forwarded-For (XFF) header of a request when determining whether to allow or
deny access to the port. This parameter applies to requests received on an
Enterprise Gateway external port and API Gateway external port only. 

When set to true, Integration Server does not use the IP address in the XFF
header to determine if the request is from a host allowed to access the port.
Instead, Integration Server uses the IP address of the proxy or load balancer. 
- If a request is sent through a proxy or a load balancer from a host whose IP
  address is on the Deny List for the port configured to Allow by Default and the
  IP address of the proxy/load balancer is not blocked, the host will not be
  blocked either. Instead, the host will have access to the port. 
- If a request is sent through a proxy or a load balancer from a host whose IP
  address is on the Allow List for a port configured to Deny by Default and the IP
  address of the proxy/load balancer is blocked, the host will not have access to
  the port. 

When set to false, Integration Server uses the IP address in the XFF header to
determine if a request originates from a host allowed to access the port. 
- If a request is sent through a proxy or a load balancer from a host whose IP
  address is on the Deny List for a port configured to Allow by Default, the host
  will not have access to the port.
- If a request is sent through a proxy or a load balancer from a host whose IP
  address is on the Allow List for a port configured to Deny by Default, the host
  will have access to the port. 

The default value is true.

You do not need to restart Integration Server for changes to this parameter to
take effect. 

Note: This parameter affects the Enterprise Gateway external port and API
Gateway external ports only. 

PIE-63159 (IS_10.5_Core_Fix5)
Updates to the OpenID Connect implementation to handle three unexpected
conditions. 

This fix includes changes to the OpenID Connect implementation to handle three
unexpected conditions: 
- Allow the ID Provider name to be different than the name of its openid
  configuration file. 
- Handle non-standard error responses from an ID Provider's token endpoint.
- If no token_endpoint_auth_method is configured for an ID Provider, default to
  client_secret_basic. 

PIE-63268 (IS_10.5_Core_Fix5)
Integration Server does not load the OAuth configuration details in Integration 
Server Administrator under 'Security > OAuth' after upgrading to a newer
version. 

This issue is now resolved.

PIE-63288 (IS_10.5_Core_Fix5)
Integration Server does not update document references in a provider REST API 
Descriptor (RAD) when its location is changed.

When a provider RAD generated from a Swagger document is copied or moved along 
with the generated assets to a different folder, Integration Server retains the 
old document references in the RAD. This issue is seen only in a RAD with nested 
document references.

This issue is resolved now.

PIE-63299 (IS_10.5_Core_Fix5)
Migration utility for Integration Server does not migrate package releases.

After migrating to a more recent version of Integration Server, the Packages >
Publishing page should list the package releases available to subscribers but
does not. Furthermore, after upgrade, the
IntegrationServer/instances/<instanceName>/replicate/outbound directory was
empty and the released_pkg.cnf did not exist. 

Now, the migration utility migrates package releases which will be displayed on
the Packages > Publishing page in Integration Serve Administrator. Additionally,
the migration utility migrates the released_pkg.cnf and the folder
IntegrationServer/instances/<instanceName>/replicate/outbound contains the
package release zip files. 

PIE-63502 (IS_10.5_Core_Fix5)
Integration Server exposes user's password when the pub.client:smtp service is
executed. 

When Integration Server invokes a flow service, which in turn invokes the
pub.client:smtp service, the user's password is displayed in plain text in the
service pipeline. 

This issue is resolved. 

PIE-63510 (IS_10.5_Core_Fix5)
Integration Server does not resume scheduled tasks after a temporary database
outage. 

If Integration Server temporarily loses connectivity with the database while
running scheduled tasks and the connectivity is restored later, the 'Server >
Scheduler' page in Integration Server Administrator incorrectly shows that the
scheduled tasks are running, although no tasks are running at that moment. 

This issue is resolved now.

PIE-63597 (IS_10.5_Core_Fix5)
Integration Server throws an error indicating that the 'java.library.path'
property value is missing in the Asset Build Environment (ABE) build.xml file. 

This issue occurs only when Integration Server attempts to establish a JDBC
connection to the database from ABE using Integrated Security. 

To resolve this issue, a new property is added to the ABE build.xml file. 

PIE-63612 (IS_10.5_Core_Fix5)
Updated spring-boot-activator jar to address a security vulnerability.

Integration Server now includes spring-boot-activator jar version 2.3.0 which
addresses a security vulnerability in the previously included version. 

PIE-63622 (IS_10.5_Core_Fix5)
Integration Server throws "Invalid Service Principal Name Format provided" error
while executing the 'pub.client.http' service. 

While executing a flow service that invokes the 'pub.client.http' service
configured with Kerberos authentication and the "servicePrincipalForm"
parameter set to username, Integration Server throws the "Invalid Service
Principal Name Format provided" error. 

This issue is now resolved. 

PIE-63754 (IS_10.5_Core_Fix5)
Integration Server throws "No such user" error for password change after
applying the fix, "IS_10.5_core_fix4". 

After applying the "IS_10.5_core_fix4" and trying to change the password for
a local user in Integration Server Administrator on Internet Explorer 11 under
'Security > Users & Groups > Change Password', Integration Server throws the "No
such user" error. 

To resolve the issue, install "IS_10.5_core_fix5".

PIE-63778 (IS_10.5_Core_Fix5)
Integration Server does not display the updated certificate aliases in the
Integration Server Administrator. 

In the Integration Server Administrator, when a truststore alias is updated with
a new truststore file under "Security > Keystore > Edit Truststore Alias",
Integration Server does not display the new certificate aliases. 

The issue is now resolved. 

PIE-63788 (IS_10.5_Core_Fix5)
New property in ACDL file to indicate the Integration Server needs to be
restarted after deployment. 

The ACDL file used by Deployer now includes a restartRuntimes property that is
set to true for certain assets to indicate Integration Server needs to be
restarted after deployment for the changes to the assets to take effect. This
affects the following assets: Broker, Extended Settings, File Access Control,
JDBC Function, JDBC Pool, LDAP Configuration, and Reliable Messaging. 

PIE-63853 (IS_10.5_Core_Fix5)
The data returned by the /health endpoint is different after an update to the
spring-boot-activator jar version 2.3.0. 

The /health endpoint available in Microservices Runtime (or an Integration
Server with a Microservices license) now returns the correct data. 

PIE-63890 (IS_10.5_Core_Fix5)
When applying a configuration variables template, Microservices Runtime does not
substitute the value of an environment variable for user's password. 

When Microservices Runtime (or an Integration Server equipped with a
Microservices license) applies a configuration variables template that uses an
environment variable to set the value of a user's password, Microservices
Runtime does not substitute the value of the environment variable for the user's
password. 

This issue is now resolved.

PIE-63913 (IS_10.5_Core_Fix5)
Service name column in Service Usage page was blank. This issue is resolved now.

PIE-63954 (IS_10.5_Core_Fix5)
Microservices Runtime (or an Integration Server equipped with a Microservices
license) now supports the use of configuration variables with Business Rules. 

Configuration variables templates can now be used to set and apply configuration
variable values for Business Rules. 

PIE-64013 (IS_10.5_Core_Fix5)
When Integration Server Administrator is opened in Internet Explorer 11, you
cannot change a user's password on the 'Security> Users & Groups> Change
Password' page under "Security > User Management", as the username is not
displayed. Hence, an attempt to change the user's password results in an error. 

This issue is resolved now. 

PIE-55787 (IS_10.5_Core_Fix4)
The size of the message sent by the pub.jms:send service is double the original
message size when using IData as the format for the message body. 

When sending a JMS message using the pub.jms:send service and the body of the
message is supplied as an IData in the JMSMessage/body/data input parameter, the
pub.jms:send service sends a message that is twice the size of the original
IData. When the services sends the message, Integration Server encodes the IData
as a byte array using IDataBinCoder which encodes data as two-byte instead of
single-byte. This causes the dramatic increase in message size. When Universal
Messaging is the JMS provider, this can result in the default 20 MB max buffer
size being exceeded when the IData for the message body is just 10 MB. 

Note that supplying the JMS message body as IData can be used only when sending
a JMS message from one Integration Server to another. 

To resolve this issue, Integration Server includes a custom property to indicate
that the message should be encoded as XML and decoded from XML instead of as a
byte array. When creating a service that invokes the pub.jms:send add the
following custom property and value to the JMSMessage/properties document in the
pipeline: $coderType = idata_xml_bytes 

The presence of the custom property $coderType and the value " idata_xml_bytes"
instructs the sending Integration Server to encode the IData message as XML
using IDataXMLCoder. The same property and value also instructs the receiving
Integration Server to decode the JMS message as XML to IData. 

PIE-57146 (IS_10.5_Core_Fix4)
Value of watt.net.localhost server configuration parameter is not being honored.

The watt.net.localhost server configuration parameter specifies the hostname of
the machine from which you are using Integration Server. This is sometimes
needed when the host machine has more than one network interface cards. However,
Integration Server was not using the value of watt.net.localhost as the hostname
for the machine. 

This issue is now resolved.

PIE-57280 (IS_10.5_Core_Fix4)
The built-in LDAP public services fail to initialize when they attempt to
connect to the LDAP server over LDAPS (LDAP over SSL). 

The built-in LDAP public services (pub.client.ldap.*) fail with the error
message "Could not initialize class
com.wm.app.b2b.server.ldap.SecureSocketFactory." when they attempt to connect to
the LDAP server over LDAPS. 

This issue is resolved now.

PIE-59199 (IS_10.5_Core_Fix4)
Integration Server Administrator takes time to load in the Chrome browser as the
font files are not persisted locally. 

This issue is fixed. 

PIE-60336 (IS_10.5_Core_Fix4)
Change to allow Docker images created for Microservices Runtime or Integration
Sever to be deployed to OpenShift. 

A Docker image created for Microservices Runtime or Integration Server cannot be
deployed to OpenShift. When the is_container.bat/sh script is used to create a
Docker image for Microservices Runtime or Integration Server, the script creates
a sagadmin user who has ownership of the files in the 
Docker image. However, OpenShift runs Docker containers using an arbitrarily
assigned user ID. To support running of the container by an arbitrary user, a
root group needs to own the directories and files that might be written to by
the processes in the Docker image, the root group must have read/write access to
the directories and files, and the root group must have execute permissions to
the files that can be executed. The default user created by the
is_container.bat/sh script is not compatible with the OpenShift requirements. 

Now, a Docker image for Microservices Runtime or Integration Server created with
the is_container.bat/sh script can be used with OpenShift by setting the
-Dtarget.configuration parameter to OpenShift when executing the
createDockerfile, createPackageDockerfile or createLeanDockerfile command. When
-Dtarget.configration=OpenShift, the is_container.bat/sh script creates a root
group that has read, write, and execute permissions. Note that the value of the
-Dtarget.configuration parameter is not case-sensitive. 

Note: When -Dtarget.configuration=OpenShift, the script sets -Dimage.createUser
to false automatically. When -Dimage.createUser= true, Integration Server
creates a non-root user with ownership of the files. This is not compatible with
OpenShift. 

PIE-60384 (IS_10.5_Core_Fix4)
In Integration Server Administrator (Security > Certificates > Configure Client
Certificates), the imported client certificates mapped to a user cannot be
removed or modified. 

This issue is resolved now. 

PIE-60662 (IS_10.5_Core_Fix4)
Integration Server does not suspend the JMS or webMethods messaging trigger if 
the trigger throws a ClassCastException.

If the server configuration parameter 
'watt.server.trigger.preprocess.suspendAndRetryOnError' is set to true or the 
webMethods messaging trigger or the JMS trigger is configured to detect 
duplicates and suspend on error, and the trigger throws a ClassCastException 
during the preprocessing phase of the trigger execution, then the Integration 
Server does not suspend the trigger, instead acknowledges the message to the 
provider.

This issue is now resolved. Now Integration Server throws an ISRuntimeException 
and suspends the JMS or webMethods messaging trigger.

PIE-60837 (IS_10.5_Core_Fix4)
Integration Sever does not name the rolled over sever log files correctly.

When rolling over the server.log file, Integration Server did not name the
archived server log file correctly. This fix corrects the following issues with
the archive file naming: 

- The date portion of the archived log file uses hyphens to separate the year,
  month, and date, but should not. The archived server.log file should use the
  naming format server.log.yyyyMMdd and not server.log.yyyy-MM-dd. 

  Note: If Integration Server is configured to rotate the server.log based on size
  in addition to daily rollover, Integration Server appends ".n" to the file
  name of the size-based archive where "n" is the number for the size-based
  roll-over for the day. For example, in server.log.20200409.3, the 3 at the end
  of the file name indicates the archive is the third size-based server.log
  archive file of the day. 

- The archived log file name contains the next day instead of the current day.
  For example, when rolling over March 15th, 2020 logs, Integration Server named
  that server.log as server.log.20200316 instead of naming it as
  server.log.20200315. 

Note: In 10.5, the server.log archive file name format for a size-based rotation
changed from server.log_yyyyMMdd_HHmmssSSSZ, 
(where yyyyMMdd_HHmmssSSSZ is the date and time the log file was created) to
server.log.yyyyMMdd.n. 

PIE-60975 (IS_10.5_Core_Fix4)
Updated property values for a webMethods messaging trigger do not take effect
after hot deployment. 

When a package containing a webMethods messaging trigger is deployed via hot
deployment, Integration Server suspends the trigger as part of the deployment.
After Integration Server loads the updated package successfully, the triggers
remain suspended which prevents the updated trigger property values from taking
effect. However, Integration Server should resume the triggers after hot
deployment completes which will allow the updated property values to take
effect. 

This issue is now resolved. After hot deployment of a package completes, any
webMethods messaging triggers in the package will be resumed, allowing updated
property values to take effect. 

PIE-61050 (IS_10.5_Core_Fix4)
After applying a fix containing PIE-59200 or upgrading to a release that
contains PIE-59200, Integration Server may not handle non-namespace qualified
attributes properly when encoding a SOAP request or response. 

If a document being encoded as part of a SOAP message contains fields
corresponding to XML attributes that are not using XML namespace prefixes (for
example, a field name with the format @localName instead of @prefix:localName),
the element in the resulting SOAP message may be missing attributes, or, in some
cases, the attribute may appear with the xsi: prefix used incorrectly. 

This issue is now fixed.

PIE-61106 (IS_10.5_Core_Fix4)
Enhancements to security log.

Integration Server now includes the following changes for the security log:

- Logging anonymous authentication requests.
- Logging the IP address of the client that initiated the request instead of the
  proxy server address. 

The following paragraphs provide more information about these enhancements.

Previously, when the security logger was configured to write audit data for
authentication requests, the security log only included requests that supplied
credentials. Anonymous requests were not logged. Integration Server now includes
a server configuration parameter, watt.server.securityLog.logAnonymousRequests,
that controls whether or not anonymous requests are logged. When
watt.server.securityLog.logAnonymousRequests is set to true, the security logger
will write anonymous authentication requests to the security log. In a log
entry, the User Id for an anonymous request will be "local/default". The default
value is false, which indicates that the security logger does not include
anonymous authentication requests. You do not need to restart Integration Server
for changes to watt.server.securityLog.logAnonymousRequests to take effect. 

Previously, the client ID in a security log entry was the IP address of the
proxy server that forwarded the request to Integration Server. However, it is
more beneficial for the security log entry to include the IP address of the
client that originated the request, especially if the request is an anonymous
one. Now, security log entries and security log messages include the IP address
of the originating client by using the X-Forwarded-For request header from the
request. Integration Server includes a server configuration parameter that can
be used return the security log to the behavior that existed prior to this fix.
When watt.server.securityLog.ignoreXForwardedForHeader is set to false, the
default, Integration Server obtains the originating client IP address from the
X-Forwarded-For request header and uses that client IP address in the security
log and security log message. When
watt.server.securityLog.ignoreXForwardedForHeader is set to true, Integration
Server ignores the X-Forwarded-For request header and uses the IP address of the
proxy server as the client ID. You do not need to restart Integration Server for
changes to watt.server.securityLog.ignoreXForwardedForHeader to take effect. 

PIE-61206 (IS_10.5_Core_Fix4)
Integration Server generates an invalid Swagger document while creating a REST 
API descriptor (RAD). 

When a RAD is created using a REST V2 resource mapped to a flow service that has 
a document reference within a document in its service signature, Integration 
Server generates an invalid Swagger document. 

This issue is now resolved.

PIE-61307 (IS_10.5_Core_Fix4)
Integration Server throws an exception while retrieving the Swagger document 
through URL.

When a REST API descriptor is created based on a REST V2 resource that contains 
an operation having "/" as a path but without the GET HTTP method, then while 
invoking the generated Swagger document through URL, Integration Server throws 
an exception.

This issue is now resolved.

PIE-61362 (IS_10.5_Core_Fix4)
Integration Server cannot create the alias while selecting PostgreSQL as 
external RDBMS using the Software AG installer or instance manager.

When you select PostgreSQL as external RDBMS using the Software AG installer or 
instance manager, Integration Server cannot create the alias for PostgreSQL. You 
need to create the alias manually when the Integration Server is up and running.

This issue is now resolved. Now Integration Server can create the alias for 
PostgreSQL while using the Software AG installer or instance manager.

PIE-61465 (IS_10.5_Core_Fix4)
After applying a fix that includes PIE-59200, Integration Server may not
properly populate the elements in outbound SOAP requests or responses. 

If a web service descriptor was created from a WSDL document that uses a schema
containing an element declared to be of xsd:anyType, Integration Server
represents the element as a document variable with *body field for character
data and one or more @attributeName fields for the attribute data. When encoding
the document variable for an outbound SOAP request or response, Integration
Server may omit the *body character data from the element in the SOAP request or
response. This was working correctly prior to the application of a fix that
includes PIE-59200. 

Integration Server now properly encodes *body character data for elements
declared to be of type xsd:anyType. 

PIE-61543 (IS_10.5_Core_Fix4)
Microservices Runtime does not substitute an environment variable value
specified for a JNDI alias in a configuration variables template. 

When a configuration variables template uses an environment variable value to
modify a JNDI alias setting, Microservices Runtime does not substitute the value
when applying the template. 

This issue is now resolved.

PIE-61557 (IS_10.5_Core_Fix4)
After applying a fix that includes PIE-60058, invoking a web service fails with
an AxiomCoderException. 

After applying a fix that includes PIE-60058, a web service fails with the
following error: 

com.wm.app.b2b.server.wss.coder.AxiomCoderException: [ISC.0076.9222]
Document/Literal Coder: decoding error; cant convert SOAP Message to IS
Document, Caused by: java.lang.NullPointerException in
com.wm.app.b2b.services.DocumentToRecordService. 

This fix prevents the NullPointerException that prevented the web service call
from completing. 

PIE-61569 (IS_10.5_Core_Fix4)
Integration Server now supports TLS 1.1 and 1.2 for e-mail ports and the
pub.client:smtp service. 

Integration Server uses the JSSE library to provide support for TLS 1.1 and 1.2.

To enable TLS 1.1 and 1.2:
- In Integration Server Administrator, when creating or editing an e-mail port,
  set the "Use JSSE" option to "Yes". By default, the value is "Yes" for new and
  existing ports. 
- In Designer, set the "useJSSE" parameter of the pub.client:smtp service to
  "yes". By default, the value of "useJSSE" is blank. 

PIE-61579 (IS_10.5_Core_Fix4)
The signature created by pub.security.xml:signXML service always has a "ds:" prefix. 

The issue is now resolved. If required, you can now create a Signature element
in the signed XML without any prefixes. To facilitate this, a new input variable
"addDSPrefixToSignature" has been provided at the service level. By default,
this input variable is set to true, and the "ds:" prefix is added. To create a
Signature without the "ds:" prefix, set "addDSPrefixToSignature" to false. 

Note: An empty or null "addDSPrefixToSignature" is treated as true.

PIE-61580 (IS_10.5_Core_Fix4)
Enhancements to logging around OAuth authorization.

Additional logging has been added to the OAuth resource server implementation to
help when debugging OAuth authorization problems. When an access token from an
external authorization server is rejected, information about the rejection is
written to the server log. Set the OAuth logging facility (0010) to Debug to see
these messages in the server log. 

Integration Server also includes a new server configuration property for
controlling error logging for OAuth authorization failures. When
watt.server.oauth.log.authErrors is true, Integration Server writes all OAuth
authorization failures to the error log. When watt.server.oauth.log.authErrors
is false (the default), Integration Server does not write OAuth authorization
errors to any log. Changes to this property take effect immediately; that is,
server restart is not required for changes to take effect. 

PIE-61615 (IS_10.5_Core_Fix4)
When creating an IS schema from an XML schema definition (XSD) that references
another schema through an import and a chameleon include and the referenced
schema does not belong to a namespace, Integration Server ignores one of the
references which may prevent the IS schema from being created. 

If an XSD contains an import and an include to reference the same XSD file and
the XSD file does not belong to a namespace (which make the include a chameleon
include), Integration Server arbitrarily ignores one of the references. If the
XSD contains references to components in the ignored XSD reference, creating IS
schema fails with the following error: 
  
[ISC.0082.9705] Definition not found

With this fix, Integration Server properly processes the import and chameleon
include so that schema components defined by the import and chameleon include
can be referenced, allowing the IS schema to be created successfully. 

PIE-61667 (IS_10.5_Core_Fix4)
Internal changes for Integration Server metering.

This fix contains changes in support of Integration Server metering, which is an
internal function. 

PIE-61673 (IS_10.5_Core_Fix4)
Integration Server cannot substitute the pipeline variable at runtime when the 
variable expression contains a backslash ('\'). 

In Designer, when the option "Perform pipeline variable substitution" is 
selected for a pipeline variable and if the variable expression contains a 
backslash ('\')  before the '%' character, then Integration Server cannot 
execute the substitution operation for the variable after the backslash.

This issue is now resolved.

PIE-61811 (IS_10.5_Core_Fix4)
A single exception in the Integration Server Administrator or service invocation
results in multiple email notifications after applying a fix that includes
PIE-58605 and PIE-54209. 

This issue is resolved now.

PIE-61879 (IS_10.5_Core_Fix4)
When Integration Server connects to an FTP server securely and the
pub.client.ftp:* services are executed, Integration Server throws
"javax.net.ssl.SSLException: Unsupported record version Unknown-48.48"
exception. 

This issue is now resolved. 

PIE-61952 (IS_10.5_Core_Fix4)
Option to obtain previous NodeIterator behavior retaining a skipped XML node in
moving-window mode. 

Prior to the application of a fix that included PIE-59103, the NodeIterator
created by pub.xml:getXMLNodeIterator and used by the pub.xml:getNextMLNode did
not free a skipped XML node when operating in moving-window mode. An XML node is
skipped when it does not match the criteria set for the NodeIterator in
pub.xml:getXMLNodeIterator. Instead, the NodeIterator retained nodes until a
successful match was found. This behavior is incorrect as it makes it difficult
to iterate over large XML files when there is a large number of intervening
non-matching nodes between successful matches. The changes in PIE-59103 ensured
that a NodeIterator frees skipped XML nodes when operating in moving-window
mode. While this is the preferred and more performant behavior, some
implementations rely on the old behavior. 

To address this issue, Integration Server now provides a server configuration
parameter watt.core.nodeIterator.retainFailures to use the old behavior. When 
watt.core.nodeIterator.retainFailures is set to true, a NodeIterator operating
in moving-window mode retains skipped XML nodes until a successful match is
found for the criteria specified in pub.xml:getXMLNodeIterator. NodeIterator
purges the skipped XML nodes only after a successful pub.xml:getNextXMLNode.
When watt.core.nodeIterator.retainFailures is set to false, a NodeIterator
operating in moving-window mode frees skipped XML nodes after every
pub.xml:getNextXMLNode execution. The default value is false. Integration Server
restart is not required for changes to take effect. 

After a fix was created for this problem, some customers had problems because
they were reliant on the old behavior.  The fix re-enables the old behavior on a
selective basis when the server setting watt.core.nodeIterator.retainFailures is
set to true. 

PIE-61954 (IS_10.5_Core_Fix4)
Integration Server does not suspend the JMS trigger when the server 
configuration parameter 'watt.server.trigger.preprocess.suspendAndRetryOnError' 
is set to true.
 
If the server configuration parameter 
'watt.server.trigger.preprocess.suspendAndRetryOnError' is set to true and the 
JMS trigger is configured to detect duplicates using the document history table, 
Integration Server does not suspend the JMS trigger when an error occurs during 
the preprocessing phase of the trigger execution because of the document history 
database, to which the DocumentHistory functional alias is pointing to, is down. 
 
This issue is now resolved.

PIE-61963 (IS_10.5_Core_Fix4)
Unhelpful validation message displayed in webMethods.io.

When creating an account, integration, or application in webMethods.io,
specifying an illegal character such as a period (.) in the name results in the
message "You have entered an invalid Account name: Extra words after ." 

webMethods.io now displays the message "Extra words after <character> or use of
illegal character <character>" which more clearly identifies the illegal
character. 

PIE-62005 (IS_10.5_Core_Fix4)
Designer cannot identify system packages for a Cloud Container.

Integration Server now provides package metadata that Designer can use to
identify a system package. 

PIE-62010 (IS_10.5_Core_Fix4)
Microservices Runtime creates multiple sessions when the /health endpoint is
invoked. 

When the /health endpoint on Microservcies Runtime (or an Integration Server
equipped with Microservices license) is invoked, Microservices Runtime creates a
session for each enabled health indicator but does not clean up the sessions
when the health indicator processing completes. 

Now, Microservices Runtime cleans up the sessions after health indicator
processing completes. 

PIE-62019 (IS_10.5_Core_Fix4)
When Integration Server runs in FIPS compliant mode, Integration Server cannot
establish an SSL connection with a database. 

Attempts to establish an SSL connection with a database from a JDBC connection
pool fail if Integration Server runs in FIPS compliant mode. 

This issue is now resolved.

PIE-62098 (IS_10.5_Core_Fix4)
Integration Server does not return correct status while executing the
"pub.scheduler:getUserTaskList" service.

While scheduling a complex task in the Integration Server Administrator under
"Server > Scheduler > User Tasks > New Task> Repeating Tasks with Complex
Schedules", if the start date and the end dates are same, then Integration
Server incorrectly returns the task status as RUNNING for
"pub.scheduler:getUserTaskList" service even though the task is expired.

This issue is now resolved.

PIE-62133 (IS_10.5_Core_Fix4)
Integration Server returns authorization denied error while executing the 
"pub.client:http" service.

In Designer, while using the "pub.client:http" service, when the "user" and 
"pass" parameters under the "auth", are configured at parent level by 
double-clicking the "auth" parameter and setting the values, then Integration 
Server returns authorization denied error while executing the service. However, 
when these parameters are set at the child level by double-clicking the "user" 
and "pass" parameters and setting the values, Integration Server does not return 
any error.

This issue is now resolved.

PIE-62158 (IS_10.5_Core_Fix4)
Internal changes in support of metering.

Updates to Integration Server for interactions with the Software AG Metering Agent. 

PIE-62172 (IS_10.5_Core_Fix4)
When a Repeat step fails and is followed by a Try/Catch step combination,
Integration Server executes the Catch step but should not. 

If a Repeat step is followed by a Try/Catch step combination and the Repeat step
fails, Integration Server should exit the Repeat step and propagate the failure
to the parent flow step. However, Integration Server incorrectly executes the
Catch step. 

This issue is now fixed.

PIE-62176 (IS_10.5_Core_Fix4)
For a WebSocket port in Integration Server, the maximum size of binary and text
messages is limited to 64 KB. 

This issue is resolved now. The maximum message size is increased to 2000000 KB. 

PIE-62178 (IS_10.5_Core_Fix4)
This fix contains updated third-party JAR files that address known security
vulnerabilities in earlier versions of the JARs. 

PIE-62181 (IS_10.5_Core_Fix4)
Integration Server vulnerability to cross-site scripting (XSS) attack.

This fix addresses a security vulnerability to an XSS attack.

PIE-62210 (IS_10.5_Core_Fix4)
When creating an XML schema that uses many anonymous complexType extensions
within the same element declaration, Integration Server sometimes replaces the
specified content with anyType content. 

This fix corrects that behavior so that the intended content of the extension is
always included. 

PIE-62253 (IS_10.5_Core_Fix4)
When a Repeat step specifies a Scope value and is set to Repeat on failure,
rollback results in unpredictable behavior. 

When Repeat on is set to FAILURE and an iteration fails, Integration Server
restores the pipeline to its original state as it was before that iteration started. 
Rollback operations are performed on the first level of the pipeline only. That is, 
first-level variables are restored to their original values before the iteration failed. 
However, when a Repeat step specified a value for the Scope property, Integration Server 
was not rolling back the pipeline properly, resulting in unpredictable results. 

This fix ensures that only the top-level of the pipeline is rolled back for a
Repeat step set to Repeat on failure when there is a Scope value. 

PIE-62259 (IS_10.5_Core_Fix4)
The pub.json:documentToJSONString service encodes short datatypes as strings
instead of numbers. 

This issue is resolved. The pub.json:documentToJSONString service now encodes
short datatypes as numbers. 

PIE-62283 (IS_10.5_Core_Fix4)
Updates to the ini.cnf file because the name of a JAR file has changed.

The name of a JAR file has changed from httpasyncclient.jar to
httpcomponents-asyncclient.jar. The ini.cnf file has been updated accordingly. 

PIE-62379 (IS_10.5_Core_Fix4)
Integration Server uses a third-party JAR, "jackson-databind-2.6.5.jar"
which has known security vulnerabilities. 

This issue is now resolved by upgrading the JAR to 2.10.0 version. 

PIE-62464 (IS_10.5_Core_Fix4)
Integration Server enables the deployment of adapters via Cloud Container.

Integration Server now supports the deployment of select adapters via Cloud
Container. For details, refer to Adapter documentation or Cloud Container
documentation. 

PIE-62498 (IS_10.5_Core_Fix4)
Integration Server does not add the variable constraints in the generated 
document type while creating a REST API descriptor (RAD).

While creating a RAD using a Swagger document, if the Swagger document contains 
minLength or maxLength variable constraints, then Integration Server does not 
add the constraints in the generated document type.

This issue is now resolved.

PIE-62617 (IS_10.5_Core_Fix4)
The /health endpoint does not return the correct number of available threads for
the ServiceThread indicator. 

The data returned by the /health endpoint for did not contain the correct value
for the number of available server threads. Specifically, the avail field in the
ServiceThread field contained in incorrect value. 

This issue is now resolved.

PIE-58300 (IS_10.5_Core_Fix3)
Integration Server takes longer time to publish documents to the Broker when the 
document size is huge.

While publishing documents to the Broker, if the document size is huge and 
contains nested structure then Integration Server takes longer time to publish 
the document.

This issue is now resolved.

PIE-59381 (IS_10.5_Core_Fix3)
Integration Server appears slow during document type directed conversion of XML
nodes to IData document when the document type is very large. 

If an IS document type used for document type directed conversion of XML nodes
to IData has more than a few hundred fields, the conversion process may be
considerably slow. 

This fix addresses performance issues that may occur when the IS document type
used for document type directed conversion of XML nodes contains a very large
number of child fields.

PIE-59778 (IS_10.5_Core_Fix3)
Integration Server throws NullPointerException while entering quiesce mode.

When you configure Universal Messaging and enable webMethods messaging triggers, 
Integration Server throws NullPointerException while entering quiesce mode.

This issue is now resolved.

PIE-59930 (IS_10.5_Core_Fix3)
If the HTTP header of the response of a native service is set to include an
Arabic character, the response header sent to the client is corrupted. 

This issue is resolved now.

PIE-60002 (IS_10.5_Core_Fix3)
If both "endpointAlias" and "_url" input parameters are passed while executing a
Web Service Connector (WSC), and the transport protocol of the endpointAlias
input is different from the original bind-address in the WSDL, then the
execution is not successful. 

This issue is resolved now.

PIE-60035 (IS_10.5_Core_Fix3)
On the Settings > Resources > Mime Types and Settings > Resources > Mime Types
pages in Integration Server Administrator, the file extensions under Mime Types
Settings are not left-aligned. 

This cosmetic issue is now fixed.

PIE-60154 (IS_10.5_Core_Fix3)
When Enterprise Gateway server has filters that require content processing, such
as the Message Size filter or the SQL Injection filter, it closes connections
with the client after each request, even if the "Connection: Keep-Alive"
header is present in the request.
 
This issue is fixed. Now, if the "Connection: Keep-Alive" header is present
in the request, the connection is kept open for the value specified in the
"Keep-Alive: timeout" header. 

PIE-60370 (IS_10.5_Core_Fix3)
The Integration Server service pub.mime:addBodyPart ignores the values in the 
mimeHeader and Content-Transfer-Encoding headers if any letter in the header 
name is in upper case.

This issue is resolved now.

PIE-60576 (IS_10.5_Core_Fix3)
Integration Server throws error while performing the search operation.

While searching for an item in the Designer through the nodes, if a flow service 
contains an error, then Integration Server ends the search operation and throws 
an error.

This issue is now resolved. Now Integration Server continues the search 
operation even if a node contains an error.

PIE-60720 (IS_10.5_Core_Fix3)
The Designer throws NullPointerException and deletes a node while renaming it, 
where the node is a grandchild of a DSP file.

While renaming a flow service node which is a grandchild of a DSP file node, the 
Designer throws NullPointerException and deletes the flow service node.

This issue is now resolved.

PIE-60787 (IS_10.5_Core_Fix3)
An Interface or Union array type field in a GraphQL schema cannot have objects
of multiple types at runtime. 

This limitation is because the $outputObjectType field in the output of the
resolver service can be set to only one object type. 

This issue is resolved now. The $outputObjectType field has been removed from
the output of the resolver services and the $typeName field has been added to
all the Object, Interface, and Union document types. You must set the $typeName
field to the type of the object, only if the object is part of an Interface or
Union array. 

PIE-60975 (IS_10.5_Core_Fix3)
This test patch applies to the following issue: Retrieval suspension of wm
triggers should not persist past hot deployment. 

PIE-61008 (IS_10.5_Core_Fix3)
Integration Server throws an error while updating a REST API descriptor (RAD) 
using a Swagger document.

When you create a RAD in Integration Cloud using a wMIC tenant and then try to 
refresh the RAD using the same Swagger document, Integration Server throws an 
exception.

This issue is now resolved.

PIE-61037 (IS_10.5_Core_Fix3)
With watt.server.xmlCoder.getUndefinedDataTypeClassName is set to true and when
using com.wm.util.coder.XMLCoder.decode to decode an XML document with
unsupported data types, the decoded class name of unsupported data types
includes \n character. 

When watt.server.xmlCoder.getUndefinedDataTypeClassName is set to true, the
Values object returned by com.wm.util.coder.XMLCoder.decode includes the class
name of an unsupported data type if one existed in the source XML. However, the
decoded class name incorrectly includes the \n character. 

This issue is now corrected

PIE-61081 (IS_10.5_Core_Fix3)
The pub.string.substituePipelineVariables service does not substitute the
variable with its value 

When using the pub.string.substituePipelineVariables service, if an array
pipeline variable with an index (example: %array[0]%) is passed to the
'inString' parameter, the service does not substitute the variable with its
value. 

The issue is resolved now.

PIE-61096 (IS_10.5_Core_Fix3)
Integration Server does not convert and adds constraints to the generated 
Swagger document that is created using XSD based document types.

When you generate REST APIs using document types that are created from XSDs 
containing content type constraints, Integration Server does not convert and add 
some constraints to the generated Swagger document.

This issue is now resolved. Now Integration Server converts and adds the 
applicable constraints to the generated Swagger document.

PIE-61104 (IS_10.5_Core_Fix3)
The server.log contains a ClassNotFoundException. 

The absence of the com.wm.lang.ns.search.SearchCondition class from the
whitelist results in the following decoding error: 

[ISC.0076.0005E] BinCoder decode error creating Java serialized object..
Excpt:java.lang.ClassNotFoundException:
Class:com.wm.lang.ns.search.SearchCondition$SearchStringType, not in White List 

The missing class is now added to the whitelistclasses.xml file.

PIE-61170 (IS_10.5_Core_Fix3)
Configuration option to set logging level for truncated audit log content when
the full value is written to the server log. 

When Integration Server writes an audit record to an audit log that is a
database and one of the fields is too long to fit in its corresponding column,
Integration Server truncates the field and writes the full value of the field to
the server log. Integration Server writes the server log message at the Info
logging level. 

The logging level for truncated audit log content in the server log can now be
controlled by setting the new server configuration parameter
watt.server.audit.journal.truncated. to the logging level at which you want the
messages to appear. Valid values are: Critical, Error, Warn, Info, Debug, Trace,
and Off. The default value is Info. You do not need to restart Integration
Server for changes to this parameter to take effect. 

PIE-61200 (IS_10.5_Core_Fix3)
HTTP response from an Integration Server service incorrectly has "OK" status
message. 

If HTTP requests are routed to an Integration Server service through another
server such as API Gateway and the service does not set the status message in
the response, clients receive a response with the HTTP status message
"OK" even if the service returns an HTTP error code. 

This issue is resolved now. The status message in the response is empty if the
service does not set it. 

PIE-61202 (IS_10.5_Core_Fix3)
Integration Server displays the on-prem host details in the token URL and 
authorization URL of a REST API descriptor (RAD) asset after the cloud
deployment. 

After you deploy a RAD asset to the cloud, Integration Server continues to 
display the on-prem host details in the token URL and authorization URL of the 
asset.

This issue is now resolved.

PIE-61238 (IS_10.5_Core_Fix3)
Multiple issues are fixed for GraphQL dataloader.

- When a Dataloader is added to the Integration Server, the Dataloader name is
  not case-sensitive. However, when the name is used in the services, it is
  case-sensitive. This issue is fixed. 
- If caching is disabled for a Dataloader, the Dataloader service receives
  duplicate keys in some cases. This issue is fixed. 
- The number of characters in the name of a Dataloader is not validated. This
  issue is fixed. Now, a Dataloader name can have a maximum of 100 characters. 
- Some run-time error messages show internal server information. This issue is
  fixed. Now, the user will see a generic "Internal Server Error" message and the
  internal information is logged in the server or error log. 

PIE-61326 (IS_10.5_Core_Fix3)
Addition of environment variables to control the Access Control List (ACL) for
accessing the health gauge endpoint and metrics endpoint. 

When invoked, the health gauge endpoint /health and the metrics endpoint
/metrics return the status of health indicators and server metrics,
respectively, on a Microservices Runtime or an Integration Server with a
Microservices license. By default, the ACL for accessing the endpoints is
"Administrator", meaning that authentication is required to invoke the
endpoints. This could be too restrictive. 

To address this issue, Microservices Runtime now includes environment variables
that can be set at startup to control the ACL assigned to the health gauge and
metrics endpoints. For example, setting the environment variables to Anonymous
enables the endpoints to return data without requiring authentication. The
environment variables are as follows: 

SAG_IS_HEALTH_ENDPOINT_ACL
Access Control List (ACL) whose members can access invoke the health gauge
endpoint /health. 

SAG_IS_METRICS_ENDPOINT_ACL
Access Control List (ACL) whose members can invoke the metrics endpoint
/metrics. 

Note: For a Microservices Runtime or Integration Server running in a Docker
container that was created using the is_container.bat/sh script after a fix
containing PIE-61326 was applied the default ACL for accessing the health gauge
or metrics endpoint is "Anonymous", which means authentication is not
required when the endpoint is invoked. For all other Microservices Runtimes and
Integration Servers, the default is "Administrator". 

Note: If SAG_IS_HEALTH_ENDPOINT_ACL or SAG_IS_METRICS_ENDPOINT_ACL is set to an
ACL that does not exist, invoking the related endpoint does not return data. 

PIE-61357 (IS_10.5_Core_Fix3)
Integration Server ignores the Log Depth value for the UM Client Logger.

The Log Depth value for the UM Client logger specifies the number of log files
to keep on disk when using log rolling. When this number is reached, Integration
Server deletes the oldest log file. Integration Server ignored the configured
log depth and maintained only the current log file umClient.log and one earlier
log file named umClient.log_old. 

This issue is now fixed

PIE-61667 (IS_10.5_Core_Fix3)
Internal changes for Integration Server metering.

This fix contains changes in support of Integration Server metering, which is an
internal function. 

PIE-55482(IS_10.5_Core_Fix2)
Integration Server throws scheduler and light weight queue related errors during
shutdown. 

During shut down, Integration Server throws a scheduler related error if an
internal task to check for invalid tasks was scheduled but not run and not
canceled as part of shut down. At the same time, the light weight queue throws
an error because it cannot locate a message for a specific message key. 

These issues will no longer occur during shutdown.

PIE-57427(IS_10.5_Core_Fix2)
When an Integration Server contains a large number of triggers for process
engine, Integration Server writes a Login has timed out error during start
up and shut down. 

When Integration Server contains a large number of webMethods messaging triggers
for process engine and Universal Messaging is the messaging provider, the
Universal Messaging client code on Integration Server sends signals to terminate
the thread that is attempting to acquire a connection to the database. This
resulted in errors like the following during start up and shut down: 

java.sql.SQLException: [SoftwareAG][Oracle JDBC Driver]Login has timed out.

This issue has been resolved by modifying the way in which Integration Server
interacts with the thread management code in the Universal Messaging client. 

PIE-58244(IS_10.5_Core_Fix2)
Integration Server lists the document type fields in incorrect order in the 
generated Swagger document.

When user generates a REST API descriptor using a REST V2 resource, the service 
signature of the mapped services contain document types and the fields in the 
document types exist in a certain order. But Integration Server lists these 
document type fields in different order in the generated Swagger document.

This issue is now resolved. Now Integration Server generates the Swagger 
document with the fields listed in the same order as they exist in the document 
types.

PIE-58309(IS_10.5_Core_Fix2)
Log files contain a message about "Inconsistent vector internals".

The absence of needed classes from the whitelist resulted in deserialization
issues surfacing as log entries with the message "Inconsistent vector
internals.

This fix adds missing classes to the whitelistclasses.xml file.

PIE-58449(IS_10.5_Core_Fix2)
Integration Server does not include the path parameters while generating the 
Swagger document.

While creating a REST API descriptor using a Swagger document that contains path 
parameters at path level, Integration Server does not add the path parameters in 
the generated Swagger document. This makes the Swagger document an invalid 
document.

This issue is now resolved.

PIE-58645(IS_10.5_Core_Fix2)
The Server > Scheduler page is not displayed in Integration Server Administrator. 

This issue has been resolved.

PIE-58794(IS_10.5_Core_Fix2)
The Integration Server instance is not registered as Windows service after a
disconnected migration using a Command Central template. 

The Integration Server instance should get registered as a Windows service if
"install.service : true" is specified in the Command Central template. However,
it is not registered if you perform a disconnected migration using a Command
Central template. 

The issue is resolved now.

PIE-58867(IS_10.5_Core_Fix2)
JMS connection alias in Integration Server throws JMSSecurityException while 
reconnecting to the WebLogic JMS provider.

While trying to reestablish connection, the JMS connection alias in Integration 
Server throws JMSSecurityException when Integration Server uses WebLogic as the 
JMS provider with secured destinations (queues and topics).

This issue is now resolved.

PIE-58937(IS_10.5_Core_Fix2)
Integration Server incorrectly executes a scheduled task twice.

Integration Server incorrectly identifies a scheduled task as an invalid task 
through invalidTaskChecker thread and schedules the task again for execution.

The issue in invalidTaskChecker thread is resolved now.

PIE-59041(IS_10.5_Core_Fix2)
When retrying a failed outbound connection, Integration Server writes HTTP
request body twice. 

When Integration Server is configured to pool outbound HTTP(S) connections,
Integration Server attempts to retry the failed connection. If the failed
connection is for an HTTPS request using a proxy, Integration Server writes the
request body twice when retrying the connection. 

This issue is now resolved.

PIE-59103(IS_10.5_Core_Fix2)
The NodeIterator sometimes does not free an unused XML node when operating in
moving-window mode. 

Now, the NodeIterator created by pub.xml:getXMLNodeIterator and used by the
pub.xml:getNextMLNode service frees unused XML nodes when operating in
moving-window mode. 

PIE-59120(IS_10.5_Core_Fix2)
Higher CPU usage is observed when a SOAP Fault occurs during a
WS-ReliableMessaging sequence. 

This issue is resolved now.

PIE-59136(IS_10.5_Core_Fix2)
Attempts to publish a consumer RAD from Designer to API Gateway or API Portal
are unsuccessful. 

This issue is resolved now.

PIE-59164(IS_10.5_Core_Fix2)
For a CloudStreams asset that extends the Integration Server BaseService,
attempting to set the value of the "label" field after creating the CloudStreams
asset is unsuccessful. 

This issue is resolved now.

PIE-59187(IS_10.5_Core_Fix2)
Duplicate messages retrieved from Universal Messaging by a webMethods messaging
trigger after the trigger starts. 

When more than one webMethods messaging trigger is connected to the same shared
durable on Universal Messaging, if one of the connected triggers is disabled and
then re-enabled (i.e., started), the trigger might receive "extra messages".
These extra messages are duplicates of messages already processed by the trigger
but are awaiting processing by other triggers that connect to the same shared
durable. The trigger receives the duplicate messages because when it reconnects
to the shared durable, the trigger does not specify the event ID of the last
message it processed. 

To resolve this issue, when a trigger reconnects to a shared durable, Universal
Messaging sets the event ID to the last message processed by the trigger. This
ensures that the trigger receives only messages with a later event ID from the
shared durable. 

PIE-59200(IS_10.5_Core_Fix2)
After upgrading to a release that includes PIE-43915 or applying a fix that
includes PIE-43915, the pub.xml.xmlNodeToDocument service does not always retain
undeclared namespaces even when configured to. 

When the preserveUndeclaredNS input parameter is set to true, the
pub.xml.xmlNodeToDocument service retains undeclared namespaces in the resulting
document (IData). After upgrading to a release that includes PIE-43915 or
applying a fix that includes PIE-43915, the service does not always retain
namespaces when preserveUndeclaredNS is set to true. 

This issue has been fixed.

PIE-59210(IS_10.5_Core_Fix2)
Integration Server cannot execute the diagnostic utility and fails to get the 
diagnostic data.

In the Integration Server Administrator page under "Server > About", while 
fetching the diagnostic data through "System > Export" or "Software > Get 
Diagnostics" option, Integration Server throws the 'File Not Found' exception. 
This issue occurs during response compression when user sets the server 
configuration parameter 'watt.server.http.response.supportCompression' to true.

This issue is now resolved. This issue occurs because some browsers or http 
clients automatically add the header 'Accept-Encoding' as 'gzip'.

PIE-59280(IS_10.5_Core_Fix2)
Attempt to connect to an Azure SQL database fails with an error.

An attempt by Integration Server to connect to an Azure SQL database results in
an error visible on the Server > Scheduler page: 
[SoftwareAG][SQLServer JDBC Driver]Invalid SQL specified

This issue has been fixed.

PIE-59555(IS_10.5_Core_Fix2)
When creating an HTTPS outbound connection through a proxy server, Integration
Server always creates and uses a new socket for the proxy server. 

The issue is resolved now. Now, Integration Server creates a socket for the
proxy server only when there is no socket in the socket pool for that proxy
server. If a socket is already available for the proxy server, Integration
Server now uses the existing socket. 

PIE-59580(IS_10.5_Core_Fix2)
Client requests that use a valid JSON Web Token (JWT) in the authorization
header to access an Integration Server service are successful. 

However, if theCommon Directory Service (CDS) is configured, Integration Server 
also tries to authenticate the request using Basic Authorization, which results 
in the CDS user being locked out. 

This issue is resolved now. Integration Server does not attempt Basic
Authorization if JWT authorization is successful. 

PIE-59604(IS_10.5_Core_Fix2)
Integration Server acting as an FTP client fails to create a data channel
through a proxy.

While connecting to an FTP server in passive mode, Integration Server acting as
an FTP client fails to create a data channel through a proxy.

This issue is resolved. For creating a data channel to the FTP server,
create the command channel. If no proxy is used to create a command channel, then
Integration Server will not use a proxy to create a data channel. 

PIE-59668(IS_10.5_Core_Fix2)
The migration utility logs an error message after Ctrl+C is used to terminate
the migration process. 

After Ctrl+C is used to terminate the migration utility, the utility writes the
following error message before terminating the process: 

Error during migration. Error message: null

This is misleading as an error did not cause the process to terminate.

Now, the utility does not log an error message when Ctrl+C is used to terminate
the migration process. 

PIE-59779(IS_10.5_Core_Fix2)
Introduction of a server configuration parameter to return the class name of an 
unsupported data type when encoding a Values object as XML.

When using com.wm.util.coder.XMLCoder.encode to encode a Values object as an XML 
document, the class name of any unsupported data type for 
com.wm.util.coder.XMLCoder.encode is not included in the XML document.

Integration Server now includes a server configuration parameter that, when set 
to true, will result in com.wm.util.coder.XMLCoder.encode including the class 
name of an unsupported data type in the resulting XML document. This sever 
configuration parameter also affects:
- Encoding performed by the pub.document:documentToXMLValues service and the deprecated 
  pub.record.recordToXMLValues service.
- Decoding performed by com.wm.util.coder.XMLCoder.decode, 
  the pub.document:XMLValuesToDocument service, and the deprecated 
  pub.record:XMLValuesToRecord service.

watt.server.xmlCoder.getUndefinedDataTypeClassName
Determines whether the class name of an unsupported data type is included in the XML 
document produced by com.wm.util.coder.XMLCoder.encode, the 
pub.document:documentToXMLValues service, and the deprecated service 
pub.record:XMLValuesToRecord, the IData object returned by the 
pub.document:XMLValuesToDocument service and the deprecated pub.record:XMLValuesToRecord 
service, and the Values object returned by com.wm.util.coder.XMLCoder.decode. Set to true 
to include the class name of an unsupported data type in the XML document produced by 
com.wm.util.coder.XMLCoder.encode, pub.document:documentToXMLValues, and 
pub.record:XMLValuesToRecord, the IData object produced by 
pub.document:XMLValuesToDocument, and pub.record:XMLValuesToRecord, or the Values object 
produced by com.wm.util.coder.XMLCoder.decode. Set to false to omit the class name of an 
unsupported data type. The default is false.

You do not need to restart Integration Server for changes to this parameter to take effect.

PIE-59789(IS_10.5_Core_Fix2)
Integration Server creates an invalid deployment descriptor for a package that
contains CloudStreams connectors. 

This issue is now resolved.

PIE-59886(IS_10.5_Core_Fix2)
When using Dynatrace to monitor HTPS calls, Dynatrace captures the
ServerException [ISS.0139.9013] Error: keystore '' not found. 

Dynatrace captures the following exception even though a valid keystore alias
and key alias are provided. 

com.wm.util.ServerException [ISS.0139.9013] Error: keystore '' not found

This exception occurs because Integration Server checks the
watt.security.ssl.keyAlias and watt.security.ssl.keyStoreAlias parameter values
during the outbound HTTPS call and these parameters are empty. The message is
erroneous as a valid keystore alias and key alias have been provided. However,
the message is written because while Integration Server checks the
watt.security.ssl.keyAlias and watt.security.ssl.keyStoreAlias parameters for
null values, it does not check for emptiness. 

Now, Integration Server checks watt.security.ssl.keyAlias and
watt.security.ssl.keyStoreAlias for emptiness and the erroneous error message no
longer occurs. 

PIE-59893(IS_10.5_Core_Fix2)
When an Integration Server acting as the OAuth resource server calls the
external authorization server to validate the access tokens, the request fails
with an Access Denied message for invoking the pub.client:http service. 

When Integration Server acts as an OAuth resource server and uses an external
authorization server, Inteegration Sever uses pub.client:http to validate access
tokens with the authorization server. If the pub.client:http service is not
allowed by the port configuration, this call fails and the client see the error:
[ISS.0007.0002I] Access Denied. No permissions to invoke service
(pub.client:http) on port <portNumber>." 

This issue is fixed.

PIE-59909(IS_10.5_Core_Fix2)
Integration Server cannot initialize the service audit logger when the user 
configures the service audit logger with Universal Messaging using two-way SSL 
communication.
 
While configuring the service audit logger to use the Universal Messaging 
through a secure port and using a two-way SSL communication, Integration Server 
cannot initialize the service audit logger because of the connection from the 
audit component to Universal Messaging does not contain the necessary 
certificate details. Some session leaks also exist between Integration Server 
and Universal Messaging.
 
This issue is now resolved.

PIE-59910(IS_10.5_Core_Fix2)
Change to remove requirement for including CSRF secure token in requests to
Integration Server Administrator API when CSRF guard is enabled. 

When the CSRF guard feature is enabled, a secure token must be included in every
request sent to Integration Server. This makes the Administrator API hard to
use. CSRF is a family of attacks exploiting vulnerabilities in web pages. The
Administrator API does not serve web pages and is not vulnerable to CSRF
attacks. 

To address this issue, Administrator API requests will not be subject to CSRF
guard. When CSRF guard is enabled, a CSRF secure token does not need to be
included in each request to the Administrator API. 

PIE-59926(IS_10.5_Core_Fix2)
Secure outbound connection from Integration Sever fails with a
NullPointerException. 

When using a custom security provider, a secure outbound connection from
Integration Server fails with a NullPointerException. 

This issue is now resolved.

PIE-59927(IS_10.5_Core_Fix2)
Using a Command Central template to create keystore allows a keystore to be
created even though the key alias name provided in the properties file is
invalid. 

Now, when using a Command Central template to create a keystore, the key alias
name from the properties file is validated and creation of the keystore fails if
the key alias name is invalid. 

PIE-60039(IS_10.5_Core_Fix2)
After deploying a package that contains JAR files in the package
code/jars/static folder, the target Integration Server no longer restarts
automatically. 

When deploying a package that contains JAR files in the package's
code/jars/static folder, the target Integration Server needs to be restarted.
Previously, SPM, which Designer leverages for deployment, always restarted the
target runtime (server). However, SPM now only restarts the target runtime when
it is indicated via an internal flag. During deployment, Integration Server was
not setting this internal flag when building the ACDL file for a package that
contained JAR files in the code/jars/static folder. 

Now, when building the ACDL file for deployment of a package that contains JAR
files in the code/jars/static folder, Integration Server sets the internal flag
indicating that the target server requires restart after deployment. SPM will
restart the server after deployment completes. 

PIE-60058(IS_10.5_Core_Fix2)
If an inbound SOAP request uses the default namespace declaration on a simple
type element, Integration Server incorrectly treats the element as a complex
type, using a *body field for the element content. 

Integration Server decodes simple types in an inbound web service request
incorrectly when: 

- The service used as an operation in a service-first web service descriptor
  accepts simple type inputs, such as a String field 
- The simple type inputs are not namespace qualified
- The inbound SOAP request uses the default namespace declaration (xmlns="") on
  the simple type element to indicate the element is not namespace qualified 

In the above situation, instead of populating the corresponding String field
with the element content, Integration Server treats the element as a complex
type and places the element content in a *body field. 

Integration Server now properly handles the above situation.

PIE-60064(IS_10.5_Core_Fix2)
When decoding a SOAP request for an operation in a provider web service
descriptor, Integration Server does not preserve the XML Namespace declarations
for nested elements within the request body. 

This issue is now fixed.

PIE-60087(IS_10.5_Core_Fix2)
The sending of pub.publish.notification:error messages can now be suppressed.

Integration Server generates pub.publish.notification:error messages (documents)
when a webMethods messaging trigger encounters an error or exception condition
during processing. In turn the pub.publish.notification:error messges generate
Adapter::Error events. These messages and events may be unwanted. 

Integration Server now provides a server configuration property that can be used
to disable the generation and delivery of pub.publish.notification:error
messages. Disabling the delivery of the notification error messages prevents the
generation of Adapter:Error events. A complete description of the new property
follows: 

watt.server.messaging.deliverNotificationErrors
Specifies whether Integration Server generates and delivers
pub.publish.notifcation.error messages. When set to true, Integration Server
generates and delivers pub.publish.notification:error messages when an error or
exception condition during webMethods messaging trigger processing. The
generation and delivery of notification error messages may result in the
generation of Adapter:Error events. When set to false, Integration Server does
not generate or deliver pub.publish.notification:error messages. The
notification error messages are suppressed. The default value of this property
is true. 

You must restart Integration Server for changes to this parameter to take effect. 

PIE-60177(IS_10.5_Core_Fix2)
The server.log contains verbose stacktrace entries at the error level.

When errors occur during the JSSE handshake, Integration Server writes very
verbose stactktrace entries at the error level to the server.log. 

Now, stacktrace entries for errors that occur during the JSSE handshake are
logged at the debug level or higher. 

PIE-60222(IS_10.5_Core_Fix2)
Integration Server does not close the JMS transacted sessions after the JMS send 
operation.

While using Broker as the JMS provider and connecting through JNDI, Integration 
Server does not close the transacted sessions after completing the JMS send 
operation.

This issue is now resolved.

PIE-60240(IS_10.5_Core_Fix2)
Migrating Integration Server instances between different operating system
platforms (such as Linux and Windows) using the Integration Server migration
utility failed if JAAS configurations or Java Service Wrapper (JSW)
customizations were selected for migration. 

The issue is resolved now.

PIE-60355(IS_10.5_Core_Fix2)
A Docker image created for Microservices Runtime does not include Process Runtime. 

A Docker image created for Microservices Runtime should include Process Runtime
but does not. 

Now, the is_container script is modified to add the files needed to support
Process Runtime to the Docker image. 

PIE-60516(IS_10.5_Core_Fix2)
Integration Server incorrectly shows the on-premise hostname in the generated 
Swagger and WSDL URLs after deploying the REST API descriptor (RAD) and Web 
Service descriptor (WSD) assets to the cloud.

When users deploy a RAD or WSD asset to the cloud, Integration Server 
incorrectly shows the on-premise host details in the URLs.

This issue is now resolved.

PIE-60577(IS_10.5_Core_Fix2)
After applying a fix or upgrading to a release that includes WED-7036 and
WED-6846 the size of the flow.xml file for an existing flow service becomes
extremely large when it is edited and then saved. 
 
The size of the flow.xml file for a flow service that has a long signature or
contains MAP steps with transformers increases dramatically when the flow is
edited and then saved. 

This issue is now resolved.

Note: PIE-60577 is the Integration Server companion for the Service Development
issue WED-8614. 

PIE-60606(IS_10.5_Core_Fix2)
Integration Server Administrator does not display the host name correctly.

On the Server > About page in Integration Server Administrator a short name for
the hostname is displayed instead of a fully 
qualified domain name. 

This issue is now resolved.

PIE-60685(IS_10.5_Core_Fix2)
When Integration Server streams a very large file using MTOM/XOP and uses the
HTTP header "Accept-Encoding:gzip", an OutOfMemoeryError occurs and streaming
ends abruptly. 

When Integration Server streams a very large file using MTOM/XOP and uses the
"Accept-Encoding:gzip" HTTP header, the java.lang.OutOfMemoryError: Java heap
space error occurs and file streaming ends abruptly. Integration Server receives
the HTTP response "HTTP/1.1 500 Java heap space". 

The issue is resolved. Sending a very large with MTOM/XOP in conjunction with
use of the "Accept-Encoding:gzip" HTTP header no longer results in an
OutOfMemoryError. 

PIE-60719(IS_10.5_Core_Fix2)
The wrapper.log contains a ClassNotFoundException because a class is missing
from the whitelist. 

The absence of java.util.concurrent.ConcurrentHashMap from the whitelist results
in the following decoding error: 

[ISC.0076.0005E] BinCoder decode error creating Java serialized object..
Excpt:java.lang.ClassNotFoundException:
Class:java.util.concurrent.ConcurrentHashMap, not in White List 

The missing class is now added to the whitelistclasses.xml file.

PIE-60895(IS_10.5_Core_Fix2)
Updates for the Software AG License Metering Agent (LMA).

This fix contains for the Integration Server implementation of the LMA.

PIE-59101(IS_10.5_Core_Fix1)
When an Integration Server instance that uses the Web Services Reliable Messaging
(WS-ReliableMessaging) protocol with a Microsoft SQL Server database comes under
a high load, some of the transactions fail due to deadlock errors reported by
the Microsoft SQL Server database.

This issue is now resolved.

PIE-59111(IS_10.5_Core_Fix1)
The Resource monitoring service property is missing from the Transient error 
handling property group for MQTT triggers.

In Designer, a resource monitoring service cannot be specified for an MQTT trigger
because the Resource monitoring service property is not visible.

The issue is resolved.
This is the companion server fix to WED-8515, which is in ESB_10.5_Fix1.

PIE-59133(IS_10.5_Core_Fix1)
The default value of the watt.server.commonmessaging.trigger.stopRequestTimeout
server configuration parameter does not match the default of the comparable property 
for JMS, watt.server.jms.trigger.stopRequestTimeout.

When editing, deleting, or disabling an MQTT trigger, Integration Server must 
first stop the trigger. Integration Server uses the 
watt.server.commonmessaging.trigger.stopRequestTimeout parameter to determine 
when to force the trigger to stop. Currently, the default behavior is 1 second. 
However, this does not match the watt.server.jms.trigger.stopRequestTimeout 
parameter, which has a 3 second default.

Now, the default value of watt.server.commonmessaging.trigger.stopRequestTimeout 
is 3 seconds.

PIE-58073(IS_10.5_Core_Fix1)
API Gateway sends invalid responses while operating under a heavy load.

When operating under a heavy load, API Gateway mixes up certain responses
for requests that are forwarded to an internal server.

This issue is now resolved.

PIE-58733(IS_10.5_Core_Fix1)
Java service running on Integration Server cannot load the JCE keystore correctly.

An alteration to the JVM changed the class loader that was available for keystore
deserialization logic. This JVM change prevents Integration Server from loading the 
JCE keystore.

To resolve this issue, this fix extends the capabilities of the server class loader
on Integration Server so that it provides the same classes previously 
returned by the class loader in the JVM.
 
PIE-58995(IS_10.5_Core_Fix1)
A Dockerfile cannot be created for an Integration Server that runs on Windows.

Previously, when creating a Dockerfile for an Integration Server that runs on Windows,
the -Dimage.name parameter did not need to be specified because the is_container scripts
referenced the base image tagged "latest" for Windows server containers. However, Microsoft
now provides Windows image tags per OS version instead of a "latest" base image. This change
prevents a Dockerfile from being created for an Integration Server running on Windows when
the -Dimage.name parameter was not specified.

Now, when the is_container.bat script is being used to create a Dockerfile for an 
Integration Server that runs on Windows, the script logs an error message when the
createDockerfile command does not specify the -Dimage.name parameter.

For an Integration Server running on Windows, the -Dimage.name parameter
should be set as follows:

-Dimage.name=mcr.microsoft.com/windows/servercore:YourOsImageTag

Where YourOsImageTag is the tag for the Windows image created for the
OS version on which Integration Server runs.

PIE-59383(IS_10.5_Core_Fix1)
The pub.mqtt:triggerSpec does not include the topic name from which
the message was retrieved but should.

An MQTT trigger can receive messages from multiple topics by creating a subscription 
that uses wildcards.The topic name should be passed to the MQTT trigger service so the 
service can perform different logic based on the topic from which the trigger received 
the message.

The pub.mqtt:triggerSpec now includes a String field named topicName. At run time,
Integration Server will set the field value to be the name of the topic from which
the MQTT trigger received the message.

PIE-59677(IS_10.5_Core_Fix1)
Fixes applied to Microservices Runtime using the Software AG Update Manager do not take 
effect.

This issue is now fixed. When a fix is applied to Microservices Runtime, the changes 
included in the fix will take effect.

PIE-57997(IS_10.5_Core_Fix1)
Outbound HTTP request is incorrectly sent to the target server twice when request 
includes a Cookie header.

When an outbound HTTP request includes a Cookie header and the Integration Server
receives a response with 401, Integration Server resends the request but should not.

This issue is now fixed.

PIE-58504(IS_10.5_Core_Fix1)
Process Engine cannot be started in a Docker container because two jar files needed for 
starting Process Engine were included in the dockerignore file.

This issue is now resolved. Process Engine successfully starts in a Docker container.

PIE-58635(IS_10.5_Core_Fix1)
Integration Server fails SOAP API requests while executing custom filter service
in Enterprise Gateway.

While receiving a SOAP API request, the custom filer service in Enterprise
Gateway incorrectly processes the request details and hence Integration Server
fails the SOAP API request.

This issue is now resolved.

PIE-59099(IS_10.5_Core_Fix1)
Integration Server does not try to reconnect in some cases of socket connection 
failure.

Integration Server uses the watt.net.maxRetries server configuration parameter to
determine how many times to attempt a socket connection only if the connection fails
with a java.net.SocketException. It does not attempt to reconnect when the connection
fails with a java.net.SocketTimeoutException or a java.net.ConnectException.

This issue is now resolved.

PIE-59338(IS_10.5_Core_Fix1)
Corrections to MQTT connection alias validation.

This fix resolves the following validation-related issues for an MQTT connection 
alias.

- A space can be used as the Connection Alias Name, Description, and Host URI.
  Now, saving an MQTT connection alias with a space as the value for Connection
  Alias Name, Description, or Host value results in a message prompting for a value.
- A negative number or a letter can be used as the Connection Timeout value. Now,
  saving a connection alias with a negative number or letter as the Connection
  Timeout value results in the message "Connection Timeout must be a positive integer 
  or 0."
- A negative number or a letter can be used as the Keep Alive value. Now, saving a
  connection alias with a negative number or letter as the Keep Alive value results
  in the message "Keep Alive value must be a positive integer or 0."

PIE-59339(IS_10.5_Core_Fix1)
Corrections to MQTT connection alias issues.

When saving an MQTT connection alias, Integration Server did not perform some property 
validation. This fix addresses the following validation issues:

- Integration Server allowed "duplicate" connection alias names where one name 
had extra spaces. Now an MQTT connection alias with a connection alias name that is 
identical to an existing alias name with the exception of extra spaces fails validation 
with the following CommonMessagingException: [ISS.0173.9004] Connection alias name 
<<aliasName>> already exists.
- When a Username is specified, a blank Password value can be saved. Now, when saving 
an MQTT connection alias that specifies a Username but not a Password Integration 
Server displays the message: Both username and password must be specified.
- An MQTT trigger can be saved even though the associated connection alias 
is not present. Now, when saving an MQTT trigger for the associated MQTT 
connection alas does not exist, Designer displays the message:
Could not save trigger 'Trigger name'.[ISS.0173.9003] No connection alias 
found with name "<<connectionAliasName>>".
- When editing an MQTT connection alias, the Password field value is not masked. 
Now, the password is masked.
- The Enable Last-Will value and Last-Will QoS is not being retained when the MQTT 
connection alias is edited. Editing the alias resets the values to the default. Now, 
Integration Server retains the Enable Last-Will value and Last-Will 
QoS upon editing the alias.
- The Last-Will QoS can be blank when Enable Last-Will check box is selected. 
Now, when the Enable Last-Will check box is selected and Last-Will QoS is blank, 
Integration Server displays the following message when attempting to save the 
alias: Last- Will QoS must be specified.

PIE-59340(IS_10.5_Core_Fix1)
Changes to an MQTT connection alias do not take effect if an exception previously 
occurred.

If an attempt to enable an MQTT connection alias ends with an exception related 
to the Host URI, such as an incorrect host URL which results in a ConnectException
or an UnknownHostException, subsequent changes to the URI do not take effect.

This issue is now fixed.

PIE-59386(IS_10.5_Core_Fix1)
When deleting an MQTT connection alias, Integration Server writes an 
erroneous NullPointerException log entry to the server.log.

This issue is fixed.

PIE-59387(IS_10.5_Core_Fix1)
Disabling an MQTT trigger results in a NullPointerException.

When disabling an MQTT trigger that is actively processing messages, 
Integration Server may attempt to close the MqttClient twice. 
The second attempt results in a NullPointerException from the Paho libraries.

Now, when disabling an MQTT trigger that is actively processing messages, 
Integration Server attempts to close the MqttClient only once.

PIE-59525(IS_10.5_Core_Fix1)
When redeploying scheduled tasks from an on-premise Integration Server to the
cloud, duplicate entries occur on the Cloud.

This issue is now resolved.

PIE-59633(IS_10.5_Core_Fix1)
MQTT connection alias is partially enabled when the Host URI does not 
start with "tcp://" or "ssl://".

If the Host URI for an MQTT connection alias does not start with 
"tcp://" or "ssl://", an attempt to enable the alias should fail. 
Instead, Integration Server partially enables the alias.

Now, if the MQTT connection alias does not start with "tcp://" or "ssl://", 
an attempt to enable the alias results in the alias remaining 
disabled and the following error message:

com.wm.app.b2b.server.cm.CommonMessagingException: 
java.lang.IllegalArgumentException: missing scheme in URI:"<<uri>>" 

PIE-59662(IS_10.5_Core_Fix1)
The fix for PIE-57977 cause NTLM and Digest authorization 
to fail when Integration Server acts as a client.

This issue is now resolved.

PIE-59038(IS_10.5_Core_Fix1)
Context-sensitive help link does not work for MQTT pages in the Integration Sever 
Administrator.

When the Help link is clicked in Integration Server Administrator, 
help content specific to the currently displayed page should be displayed. 
This is not working for the Settings > Messaging > MQTT pages.

Now, context-sensitive help works for the MQTT pages.
In addition to including resolutions to product defects, a fix may also include
enhancements to existing functionality and features. Any of these items can 
result in new or changed built-in services, APIs, or configuration parameters. 
Review the fix contents carefully before applying the fix.



8.0 Installation

Install the fix using the Software AG Update Manager. For instructions, see 
Using the Software AG Update Manager located either in the _documentation 
directory or on the documentation Web site at 
http://documentation.softwareag.com.



9.0 Uninstallation

Note: These instructions can only be used to uninstall the most recently 
installed fix. This action will revert your installation to the previously 
installed fix. You cannot use these instructions to uninstall the previously 
installed fix.

Uninstall the fix using the Software AG Update Manager. For instructions, see 
Using the Software AG Update Manager.

To uninstall IS_10.5_Core_Fix30 from Integration Server, you must first uninstall 
Platform 10.5.0 Fix 0018 (OGI_10.5_Fix18). (This is not needed for Microservices 
Runtime which does not require OGI_10.5_Fix18.) Then, when uninstalling 
IS_10.5_Core_Fix30 from Integration Server or Microservices Runtime, you must 
also uninstall Shared Libraries Loggers 10.5 Fix 2 (TPP_10.5_Loggers_Fix2).

The steps for uninstalling IS_10.5_Core_Fix30 depend on the previous fix level.

If the previous fix level is Integration Server 10.5 Core Fix 17 
(IS_10.5_Core_Fix17) or later, perform the following steps to uninstall 
IS_10.5_Core_Fix30.

1. Select Integration Server 10.5 Core Fix 30 (IS_10.5_Core_Fix30)
located under the Integration Server or Microservices Runtime group.

2. Click Uninstall or Next. Complete uninstallation of the fixes.

If the previous fix level is lower than Integration Server 10.5 Core Fix 17 
(IS_10.5_Core_Fix17), perform the following steps to uninstall IS_10.5_Core_Fix30.

1. Select Security Infrastructure 10.5 Fix 12 (SIN_10.5_Fix12) located under
Infrastructure > Shared Platform.

2. Select Integration Server 10.5 Core Fix 30 (IS_10.5_Core_Fix30) located
under the Integration Server or Microservices Runtime group.

3. Select the ZSL 10.5 Fix 1 (ZSL_10.5_Fix1) located under the
Infrastructure > Shared Platform > Bundles.

4. Select Shared Libraries BaseSecurity 10.5 Fix 2 (TPP_10.5_BaseSecurity_Fix2)
located under the group Third-Party Libraries.

5. Click Uninstall or Next. Complete uninstallation of the fixes.



10.0 Globalization

This fix conforms to the internationalization standards of the webMethods 
product suite and includes support for operation in any country, locale, 
or language as specified in the webMethods Installation Guide. It was not 
tested with non-English configurations and non-ASCII data. However, this fix 
has no globalization impact and can be applied to systems running in any 
supported locale or configuration.


10.1 Localization

This fix does not require an updated language pack. It might contain new messages 
and these messages will appear in English.



11.0 Copyright

Super iPaas Integration LLC, an IBM Company 2024.