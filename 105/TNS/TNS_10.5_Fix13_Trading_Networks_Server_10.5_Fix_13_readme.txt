                 webMethods Trading Networks 10.5 Fix 13 readme

                         April 2022

_________________________________________________________________


Contents:

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements
5.0   Platform Support
6.0   Cautions and Warnings
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization
11.0  Copyright
12.0  Contacting Us



1.0 Fix Name

webMethods Trading Networks 10.5 Fix 13



2.0 Fix ID

TNS_10.5_Fix13



3.0 Product(s)/Component(s) Affected

This fix affects webMethods Trading Networks 10.5.



4.0 Requirements

WebMethods Metering Agent 10.5 Fix 2 or the latest fix that supersedes this.
Integration Server Core 10.5 Fix 2 or the latest fix that supersedes this.
Trading Networks Database 10.5 Fix 10 or the latest fix that supersedes this.

For language pack requirements, see the Globalization section of the Software 
AG Empower Product Support website at
https://empower.softwareag.com/Products/Globalization/default.asp



5.0 Platform Support

Same platforms as product release.



6.0 Cautions and Warnings

None.



7.0 Fix Contents

In addition to including resolutions to product defects, a fix may also include
enhancements to existing functionality and features. Any of these items can 
result in new or changed built-in services, APIs, or configuration parameters. 
Review the fix contents carefully before installing the fix.

This fix is cumulative, which means that it includes all previous fixes 
for the release.
OTN-22754
In trading networks, the host field value truncates when this field has more
than 64 characters in Delivery Settings for a partner.

This issue is resolved. Now, the host field has a maximum of 512 characters.

OTN-22643 (TNS_10.5_Fix12)
In webMethods Trading Networks, Import of an existing field definition using 
tnimport utility fails with java.sql.SQLIntegrityConstraintViolationException. 

This issue is now resolved.


OTN-22694 (TNS_10.5_Fix12)
Wrong Processing status for success transactions

OTN-22521 (TNS_10.5_Fix12)
When installing the webMethods Trading Networks Server fix (FIX12) and while
creating a partner profile, getting an SQLException:
[SoftwareAG][Oracle JDBC Driver][Oracle]ORA-00936: missing expression error.
This issue is now resolved.

OTN-22212 (TNS_10.5_Fix11)
For TN, the internal publishable documents are not synced 
directly to Universal Messaging during start up. 

This issue is now resolved. 

OTN-22232 (TNS_10.5_Fix11)
webMethods Trading Networks becomes very slow with a large dataset in
DeliveryJob table. The query takes more time, which causes Trading Networks
startup to slow down.
SELECT TypeData, JobID,TimeCreated,TimeUpdated,DocID,JobStatus, TimeToWait,
Retries,RetryLimit,RetryFactor,TransportStatus,
TransportStatusMessage,TransportTime,ServiceName,OutputData, QueueName,
UserName FROM DeliveryJob WHERE ServerID ='or1010050168079.corp.adobe.com' AND
(JobStatus = 'NEW' OR JobStatus = 'PENDING') ;
This issue is resolved. Trading networks startup is fast now.

OTN-22233 (TNS_10.5_Fix11)
WebMethods Trading Networks creates a local user account in the Integration Server
when deploying Trading Networks assets through the deployer.
This issue is resolved.

OTN-22263 (TNS_10.5_Fix11)
When executing 'wm.tn.query:createProfileQuery' service, and then the
'wm.tn.query:profileQuery' service with the following extended field criteria:
extendedFields[0]/fieldId: [ProfileField ID]
extendedFields[0]/op: IS NULL
extendedFields[0]/fieldValue: [Blank], partner profiles are not returned in the
output.
This issue is resolved.

OTN-22267 (TNS_10.5_Fix11)
The extendedArchive service does not release the connection and displays the
status as running when it is scheduled through the webMethods server. The
expected scheduler status remained active.

This issue is now resolved. The flow service is working as expected.

OTN-22236 (TNS_10.5_Fix10)
when EDIencoding EDI property set to windows-1252, some of the character such as
"ร?รยก" was not showing properly on MWS transaction Page.
This issue is now resolved.

OTN-21793 (TNS_10.5_Fix10)
The store procedure, TN_RUNTIMETABLES_ARCHIVE, 
is taking long time to complete the execution.
This issue is resolved now. 
The performance of the store procedure is improved and the execution time is reduced.

OTN-21863 (TNS_10.5_Fix9)
When TN nodes in the cluster are restarted simultaneously, there will be multiple 
cluster notifications between nodes to refresh document types that cause 
ORA-01555 Snapshot Too Old error.

This issue is now resolved by increasing the PCTVersion value on the TypeData column
of BizDocTypeDef table.

OTN-22070 (TNS_10.5_Fix9)
when EDIencoding EDI property set to windows-1252, some of the character such as
"ร?รยก" was not showing properly on MWS transaction Page.
This issue is now resolved.

OTN-21827 (TNS_10.5_Fix9)
Job Manager thread that processes Pending and New delivery tasks get terminated
during the startup, when it completes the first run before the WmTN startup complete.

This issue is now resolved.

OTN-21909 (TNS_10.5_Fix8)
Issue when sending documents from TN to RVS.
What we figured out is that the step that does changeStatus breaks
and can't update the status so the send function is never called.

The service that breaks is 'wm.oftp.tn.Util:changeStatus' within the 'WmOFTPforTN' package.
This issue only occurs when sending documents destined for RVS.
Receiving documents do not generate issues.

Yesterday we patched our ESB 10.5 environment on Production which resulted in the above issue.


OTN-21600 (TNS_10.5_Fix8)
IS Server hangs on the execution of services wm.tn.route:getAnyTask, 
wm.tn.route:getTask, wm.tn.task:getAnyTask, and wm.tn.task:getTask when there 
are a large number of errors associated with the BizDoc Envelope.
A new parameter includeBizDocErrors is added in the input specification for the 
above services, where the user can choose whether to include errors.
This is now resolved.

OTN-21830 (TNS_10.5_Fix8)
Oracle partition scripts are not present under location SoftwareAG_directory\
common\db\scripts\oracle\tradingnetworks\65\partition_support , though Trading 
Networks Administrator guide says for versions above 10.4.

Now these scripts are added under SoftwareAG_directory\common\db\TradingNetworks
\TradingNetworks\scripts\9.8.fix1-9.9\oracle\partition_support and documentation
as well is updated.

OTN-21888 (TNS_10.5_Fix8)
"java.io.IOException: Stream closed" exception is thrown when executing
wm.tn.doc:view service with getContent=true for a 0-byte payload.
This issue is resolved now.

OTN-21631 (TNS_10.5_Fix7)
Constraint Violation Exception is there to prevent data corruption. However, if we need to prevent this exception to through validation in code, we would need cross jvm synchronization. This is because, inserts can happen from multiple nodes. So code has been fixed to ignore this exception.


OTN-21698 (TNS_10.5_Fix7)
After restarting Integration server, updating existing keystores in Integration 
Server is not updating the new expiration date in Trading Networks.
This issue is now resolved.

OTN-21537 (TNS_10.5_Fix7)

The store procedures, TN_RUNTIMETABLES_DELETE, TN_RUNTIMETABLES_ARCHIVE,
TN_ARCHIVETABLES_DELETE, was taking long time to complete the execution.
This issue is now resolved and the performance of these store procedures have
been improved and the execution time also has been reduced.

OTN-21316 (TNS_10.5_Fix5)
During the Trading Networks server database component migration process to 10.5, IDX_SFCHARTROWID index created in the earlier fixes is getting created again, which is resulting in migration failure.
This issue is resolved and the migration moves successful.

OTN-20935 (TNS_10.5_Fix5)
Trading Networks stored-procedure-based archival and deletion had a performance issue on MySQL Database.

This issue is now resolved. 

OTN-21010 (TNS_10.5_Fix5)
Active Transfer fails to fetch the partner profiles if the Trading Networks 
server has not started.

If Active Transfer server starts before Trading Networks server, Active Transfer
fails to fetch partner profiles as Trading Network server has not started. 

This issue is now resolved. Now, Trading Networks notifies Active Transfer to 
fetch partner profiles during its start.


OTN-21112 (TNS_10.5_Fix5)
An SQLConstraintViolationException was observed on importing a partner profile 
with certificates, if the partner profile was imported before.
This issue is resolved. 

OTN-21149 (TNS_10.5_Fix5)
In My webMethods Server, some unrelated fields are displayed under the EDIINT 
group. 

In My webMethods Server, EDIINT group on Extended fields of Partner Profiles, 
display some unrelated fields, such as Key Encryption Algorithm
and Signature Algorithms. As these are unnecessary fields, there is no 
documentation available for them. 

This issue is now resolved. My webMethods Server no more displays these fields.

OTN-21289 (TNS_10.5_Fix5)
In processing rule, when "Has no errors" option was selected under
"Recognition Errors" criteria. Incorrect processing rule was getting selected
when the document that has error previously is reprocessed. It was because
document errors from the previous processing was getting considered while
selecting the processing rule.

This issue is resolved and the correct processing rule is getting selected.

OTN-21107 (TNS_10.5_Fix5)
Trading Network 10.5 fails to invoke the custom transformation service during
document attribute extraction.

When a document is submitted with missing node (an input query with no value),
Trading Network fails to invoke the custom transformation service. This issue is
observed in Trading Network version 10.5.

This issue is resolved. Now Trading Network 10.5 invokes the custom
transformation service even if the input query no value. This allows users to
use a default value when the query returns null.

OTN-20917 (TNS_10.5_Fix4)
Trading Network infinitely retries to deliver the PENDING services.

If a task cache is refreshed continuously due to updates in the system or 
cluster, then the retry count of the delivery tasks with PENDING status do not 
get incremented. This causes infinite retries.

This issue is now resolved.

OTN-21010 (TNS_10.5_Fix4)
Active Transfer fails to fetch the partner profiles if the Trading Networks 
server has not started.

If Active Transfer server starts before Trading Networks server, Active Transfer
fails to fetch partner profiles as Trading Network server has not started. 

This issue is now resolved. Now, Trading Networks notifies Active Transfer to 
fetch partner profiles during its start.


OTN-21031 (TNS_10.5_Fix4)
Trading Network throws an error when wm.tn.doc:changeStatus service is invoked
concurrently from multiple points.

Following error is displayed when wm.tn.doc:changeStatus service is invoked
concurrently from multiple points with same user status:
[TNS.0002.1082E]
java.sql.SQLIntegrityConstraintViolationException:
[SoftwareAG][Oracle JDBC Driver][Oracle]ORA-00001: unique constraint
(WEBM04.PK_FXUSERSTATUS_USTATUS) violated

This issue is now resolved.

OTN-21090 (TNS_10.5_Fix4)
In My webMethods Server with Microsoft Azure SQL Database, search on Activity Logs
screen fails on .

If Trading Networks database pool is configured to Microsoft Azure SQL database,
then search fails with an error on Activity Logs screen on My webMethods Server
user interface.

This issue is now resolved.

OTN-20889 (TNS_10.5_Fix3)
Trading Networks now uses the Integration Server license for Metering. Henceforth,
there will not be a separate license file for Metering Agent.

OTN-20850 (TNS_10.5_Fix3)
Migration of Trading Networks from 10.1 to 10.5 version now includes the support
of PostGreSQL 10.6.

OTN-20909 (TNS_10.5_Fix3)
Trading Networks logs a metering submission failure error even if Metering is 
not enabled.

For every document processed, Trading Networks logs the following error in the 
Integration Server server.log file:
'An error occurred while submitting data to MTA Agent for 
measure PayloadTransferred. Error: null'.
This occurs even when metering is not enabled.

This issue is now resolved.

OTN-20749 (TNS_10.5_Fix3)
Trading Networks Activity logs display incorrect user.

When a B2B user, other than an Administrator, performs an operation such as
"Creating PartnerGroup" or "Adding PartnerGroup to Partner" in
My webMethods Server, Trading Networks Activity logs display an incorrect B2B
user. That is, Activity logs does not display the user who has actually
performed the operation.

This issue is now resolved.

OTN-20597 (TNS_10.5_Fix2)
Deadlock between database connections and cache lock.

In BizDocAttribute cache, requesting for cache lock holds the database connection 
while reading from cache and waiting for database connection after acquiring the
lock while writing to cache leads to a deadlock between database connections and
cache lock.

This issue is now resolved.

OTN-20497 (TNS_10.5_Fix1)
On reloading WmTN package, the Trading Networks Task Manager instance does not 
get initialized properly and causes execution issues to subsequent tasks by 
keeping them in PENDING state.
This issue is resolved.

OTN-20661 (TNS_10.5_Fix1)
The pub.xml:xmlNodeToDocument service fails with an error.

The pub.xml:xmlNodeToDocument service fails with the following error:
"Error: [ISC.0042.9327] Expecting </clinit> got </StackTrace>".
This is because, the EXML exception that Trading Network generates during the
startup contains .<init> and .<clinit> in the stacktrace.

The issue is resolved. Now the stacktrace is wrapped in CDATA.



8.0 Installation

Install using the Software AG Update Manager or Command Central (9.7 or later). 
For instructions, see the corresponding documentation at
http://documentation.softwareag.com.

After installation is complete, please perform the below step :

1. If Integration Server contains wMDeployer installation along with Trading Networks,
then delete the tncore.jar file under
%INSTALL_DIR%\IntegrationServer\instances\default\packages\WmDeployer\code\jars\static.

2. Start Integration Server. 



9.0 Uninstallation

Note: These instructions can only be used to uninstall the most recently 
installed fix. This action reverts your installation to the previously 
installed fix. You cannot apply these instructions to the previously 
installed fix.

Uninstall using the Software AG Update Manager or Command Central (9.7 or later). 
For instructions, see the corresponding documentation at
http://documentation.softwareag.com.



10.0 Globalization

This fix conforms to the internationalization standards of the webMethods 
product suite and includes support for operation in any country, locale, or 
language as specified in the Installing webMethods Products guide. It was tested
with non-English configurations and non-ASCII data.



10.1 Localization

This fix does not require an updated language pack. It might contain new 
messages and these messages appears in English.



11.0 Copyright

Copyright ฉ 2022 Software AG, Darmstadt, Germany and/or 
Software AG USA Inc., Reston, VA, USA, and/or its subsidiaries and/or its
affiliates and/or their licensors.

The name Software AG and all Software AG product names are either trademarks or
registered trademarks of Software AG and/or Software AG USA Inc. and/or its
subsidiaries and/or its affiliates and/or their licensors. Other company and
product names mentioned herein may be trademarks of their respective owners.

Detailed information on trademarks and patents owned by Software AG and/or its
subsidiaries is located at http://softwareag.com/licenses .

This software may include portions of third-party products. For third-party
copyright notices, license terms, additional rights or restrictions, please
refer to "License Texts, Copyright Notices and Disclaimers of Third Party
Products". For certain specific third-party license restrictions, please refer
to section E of the Legal Notices available under "License Terms and Conditions
for Use of Software AG Products / Copyright and Trademark Notices of
Software AG Products". These documents are part of the product documentation,
located at http://softwareag.com/licenses and/or in the root installation
directory of the licensed product(s).



12.0 Contacting Us

Authorized technical support contacts can reach Software AG Global Support in 
the following ways:

  Web: https://empower.softwareag.com (online support center)

  E-mail: empower@softwareag.com

You can find complete contact information in our Global Support Contact 
Directory at:

https://empower.softwareag.com/public_directory.asp

You can also visit our Software AG Developer Communities to access additional 
articles, demos, and tutorials, technical information, samples, useful resources,
online discussion forums moderated by Software AG professionals, and more at:

http://communities.softwareag.com/ecosystem/communities/public/index.html
