    webMethods CloudStreams Server 10.11 Fix 8 readme
                         
				August 2024
________________________________________________________________________________


Contents:

1.0   Fix Name
2.0   Fix ID
3.0   Product(s)/Component(s) Affected
4.0   Requirements
5.0   Platform Support
6.0   Cautions and Warnings
7.0   Fix Contents
8.0   Installation
9.0   Uninstallation
10.0  Globalization
11.0  Copyright
12.0  Contacting Us



1.0 Fix Name

webMethods CloudStreams Server 10.11 Fix 8



2.0 Fix ID

WST_10.11_Fix8


3.0 Product(s)/Component(s) Affected

This fix affects webMethods CloudStreams Server 10.11



4.0 Requirements

This fix requires the latest available fixes to be installed 
in advance. In addition, follow the post install instructions.

For language pack requirements, see the Globalization section of 
the Software AG Empower Product Support website at
https://empower.softwareag.com/Products/Globalization/default.asp


5.0 Platform Support
webMethods CloudStreams Server 10.11 Fix 8 is supported on 
all platforms supported by webMethods CloudStreams Server 
10.11.



6.0 Cautions and Warnings

None.



7.0 Fix Contents 

WST-8213 (WST_10.11_Fix8)

Users encountered a SignatureDoesNotMatch error in the Amazon S3 
connector when the "x-amz-copy-source" header contained special 
characters used in operations such as "put object copy" and 
"upload part copy".

This issue is now resolved.

WST-8244 (WST_10.11_Fix8)

Users encountered an issue where the port number was removed 
from the request header "host" in AWS connectors.

This issue is now resolved.

WST-8088 (WST_10.11_Fix8)

While a listener is running, if there are runtime issues on the 
client-side and the listener recovery fails, the configured error 
callback service is not invoked.

This issue is now resolved.

WST-8329 (WST_10.11_Fix8)

When the Salesforce listener encounters client-side issues, 
it continuously tries to re-establish its connection with the 
backend. Occasionally, these issues persist, leading the listener 
to repeatedly attempt reconnection. During such times, the listener 
remains active but is unable to receive events from the backend.

This issue is now resolved. The listener will now attempt to 
reconnect up to five times. If these attempts fail, the listener 
will enter a suspended state, and a callback service will be 
triggered. Users can configure the callback service to receive 
notifications if the listener goes down.

WST-7625 (WST_10.11_Fix7)

For a connector designed to typically handle backend responses in JSON format, there 
might be instances where it receives a response in a format other than JSON, resulting 
in a parsing error. This error is displayed directly to the end user. Revealing such 
errors to end users exposes implementation details that should remain undisclosed, 
as they can potentially lead to security vulnerabilities.

This issue is now resolved.

WST-6690 (WST_10.11_Fix7)

For a connector designed to handle backend responses primarily in JSON format, 
there are instances where it might receive an error response in a different format, 
leading to a parsing error. This parsing error fails to provide any details 
regarding the actual error sent by the backend. Consequently, end users are left 
unaware of the nature of the error.

This issue is now resolved.

WST-6963 (WST_10.11_Fix7)

In the Connection Configuration section of the Administration > General 
page, when users select and save the "Lazy Asset Loading" option and then 
subsequently select and save the "Connection factory wire logging" option, 
it is observed that the "Connection factory wire logging" option gets 
saved successfully but the previously selected "Lazy Asset Loading" option 
gets deselected.  

This issue was observed because the default value for the "Lazy asset loading" 
checkbox was not set as a Boolean value, causing the user interface to send 
incorrect values to the server. 

The issue is resolved. Users should now be able to select and save both options 
without any conflicts.

WST-6642 (WST_10.11_Fix7)

Processing of event fails if error occurs while 
storing the event.

This issue is resolved.

WST-7692 (WST_10.11_Fix7)

If special characters are used in the parameters while using the Amazon S3 
connector resource, the backend fails to authenticate and sends a 
SignatureDoesNotMatch exception.

This issue is now resolved.

WST-7587 (WST_10.11_Fix7)

In the Salesforce connector, a service is utilized to update the Salesforce 
connection URL during the startup sequence. However, invoking this service 
was failing due to a class serialization issue.

This issue is now resolved.

WST-7242 (WST_10.11_Fix7)

webMethods CloudStreams uses jquery-ui.min.js of version v1.13.0 
library, which have known security vulnerabilities.

The issue is resolved. CloudStreams now uses safer version 1.13.2 
of jquery-ui.min.js library.

WST-7538 (WST_10.11_Fix7)

Integration Server swamped with a large volume of the following 
CloudStreams error: CLS.0050.0404W

This issue was observed due to the missing content-type header in 
the response. In a few scenarios where there is no response body, 
certain responses may not include a content-type header. The logger 
level was set to "WARNING" for the response content-type header check.

This issue is resolved. The logger level has been changed to DEBUG.

WST-7033 (WST_10.11_Fix6)

Issue with deploying CloudStreams listener assets in an 
enabled state.The problem occurred because CloudStreams 
attempted to deploy and enable the listener in the target 
environment before the connection was enabled. 

This issue is now resolved.

WST-7228 (WST_10.11_Fix6)

During failover, duplicate processing failed due to multiple 
package reloads in WMIO. The inflight transactions during 
the package reloads are now tracked to filter for duplicates, 
thereby avoiding duplicate processing.

WST-7233 (WST_10.11_Fix6)

During Integration Server startup, a few listener event-based 
flow executions were failing with the following error: No deployed 
Axis service for this name.

This issue is now resolved.

WST-7295 (WST_10.11_Fix6)

When the Integration Server is shut down, the running listeners 
are not unsubscribed from the back end, which can sometimes 
result in the logs showing "Pool state error":
2023-05-22 15:51:42 IST [CLS.0504.9999W] (tid=1968) Pool state 
error in SF_Enterprise:SF_Enterprise_ConnA. Cannot process request., 
error code: 118 javax.resource.ResourceException: Pool state error 
in SF_Enterprise:SF_Enterprise_ConnA. Cannot process request., 
error code: 118

The back end ends the session due to inactivity.

This issue is resolved.

WST-6953 (WST_10.11_Fix6)

During enable, if Salesforce returns error that we have sent invalid 
replayID, we confirm whether the error needs to be corrected or not. 
If it needs to be corrected, then we switch replay option to ALL and 
continue. If it doesn't need to be corrected, then we ignore and return 
error to user.

WST-7343 (WST_10.11_Fix6)

Updated warning message for no chunking during 
large file upload operations.

Failed to perform chunking on the request payload 
because the chunking option is disabled [pr.useChunking={0}] 
for connection ''{1}''. 

Heap space errors may appear while sending the large 
binary stream to the backend which does not support
HTTP chunking, even if large data handling is enabled in 
CloudStreams. 

If you want to send a large binary stream to the backend which 
supports HTTP chunking, it is recommended to set the 
Transport Protocol group field 'Use Chunking' to true 
on the Connection Configuration page.

WST-6807 (WST_10.11_Fix6)

When a non-recoverable error occurs, the following status message 
is passed to callbackService: "disabling of listener initiated".
Ideally, disabling of a listener doesn't happen programmatically.

This issue is resolved. The error message has been modified to 
indicate the Suspended status of the listener, ensuring an improved 
error handling mechanism.

WST-6995 (WST_10.11_Fix5)

CloudStreams fails to add the Content-Type Header for BatchUpsert 
requests.

The issue was observed because CloudStreams skipped the custom 
headers added by OData connector service handlers to avoid overriding 
user inputs from the service node default value.

This issue is resolved. CloudStreams now overrides default values 
appropriately.

WST-6607 (WST_10.11_Fix5)

Configuring empty callback service for listeners.

Errors were observed if you configured an empty callback service 
for listeners.

This issue is resolved. You can now configure an empty callback 
service for a listener.

WST-6609 (WST_10.11_Fix5)

The list API, which allows you to list a specific listener along 
with its alias by passing the 'searchListenerAlias' parameter, 
is not working as expected.

This issue is now resolved.

WST-6794 (WST_10.11_Fix5)

If the persistence of events is unsuccessful, the processing of 
events was prevented.

As a fix to this issue, we introduced a configuration that expected 
users to manually set the "wst.listener.persist.onError.process" 
property in "wst-config.properties" to "true".

This fix reverts the previous changes.

WST-6966 (WST_10.11_Fix5)

After enabling a listener, the "Configure Listener" window that 
allows users to specify the Replay ID fails to appear for all 
the connectors other than Salesforce CRM SOAP. 

This issue is resolved.

WST-6982 (WST_10.11_Fix5)

Updated warning message for no chunking during 
large file upload operations.

Failed to perform chunking on the request payload 
because the chunking option is disabled [pr.useChunking={0}] 
for connection ''{1}''. 

Heap space errors may appear while sending the large 
binary stream to the backend which does not support
HTTP chunking, even if large data handling is enabled in 
CloudStreams. 

If you want to send a large binary stream to the backend which 
supports HTTP chunking, it is recommended to set the 
Transport Protocol group field 'Use Chunking' to true 
on the Connection Configuration page.

WST-6992 (WST_10.11_Fix5)

Users fail to deploy connector services if there occurs a mismatch 
in any internal parameter type (REST, SOAP) of a resource/operation 
and encounter the following error:"The existing parameter <parameterName> 
type mismatch, Source SOAP, Target REST".  

This issue is resolved.

Note: Before deploying a listener, ensure you disable the listener. 
By following this approach, you can safely deploy the listener in 
the target environment without losing events and messages.

WST-7022 (WST_10.11_Fix5)

For a few URLs, when the Integration Server property 
“watt.net.ssl.client.hostnameverification” is set to “true”, 
CloudStreams throws a hostname verification error.

This issue is now resolved

WST-6149 (WST_10.11_Fix5)

Changes made to parameters for resources in a REST connector 
fail to reflect in the "diffView" screen.

This issue is now resolved.

WST-6608 (WST_10.11_Fix5)

If a listener encounters an error, CloudStreams error handler 
tries recovering the listener by making a total of 5 retry 
attempts without waiting between attempts.

This issue is resolved. We have now implemented the increasing 
backoff technique, which means that the error handler will try 
recovering the listener with an increasing wait time after every 
consecutive retry attempt.

WST-6897 (WST_10.11_Fix5)

The value of the 'cause' field in the Listener error callback 
service payload is displayed as 'null' sometimes.This issue 
occurs when no value is specified in the 'cause' field.

This issue is resolved. Now, if no value is specified in 
the 'cause' field, the field will not appear in the callback 
service payload.

WST-6937 (WST_10.11_Fix5)

Salesforce CometD-based listeners fail to get disabled or 
unsubscribed intermittently. 

Due to this issue, a dangling listener gets created, which 
keeps listening to events even when the listener was disabled. 
And when the listener was enabled again, there were two listeners 
listening to events, resulting in duplicate events from the backend.

This issue is now resolved.

WST-6916 (WST_10.11_Fix5)

Existing and newly created Amazon S3 services fail to work correctly.  

The default value "https://s3.amazonaws.com/" for AWS S3 connection 
has a forward slash (“/”) placed at the end of the Server URL. 

During service execution, an additional forward slash (“/”) gets 
appended from the resource URI, which creates an invalid URI, 
something like this - "https://s3.amazonaws.com//". Due to this, 
service execution fails with an invalid signature. This issue 
may also cause service failure with null error for resources 
with only forward slash (“/”) in the path. 

This issue is resolved. We now normalize URI and replace multiple 
consecutive slashes in the Server URL with a single slash.

WST-6591 (WST_10.11_Fix5)

In the error log, users were confused to observe the following error 
message: OAuth token aliases file [/opt/softwareag/IntegrationServer
/instances/default/packages/WmCloudStreams/config/auth/cls-oauthDetails.xml]
could not be found! Could not load alias information into CloudStreams.

The cls-oauthDetails.xml file is generated only if OAuth tokens are 
defined in a global way and this kind of OAuth token definition is 
currently not used by any OOB connectors.

This issue is resolved. The error related to cls-oauthDetails.xml is 
now removed from the error log and added to the Debug log.

WST-6483 (WST_10.11_Fix5)

While using a connector, when users try to enable 'Publish performance 
metrics to database',the following error message is displayed: "Error 
while running com.softwareag.pg.pgmen.processors.PerformanceDataDeployer 
task.Cause: java.lang.NullPointerException null java.lang.NullPointerException: null."

This issue is not observed in the Standalone Integration Server 
setup but is reproducible in the Clustered Integration Server 
setup while enabling 'Publish performance metrics to database' 
with the WmMicrosoftAzureStorageProvider package installed in 
the environment.

This issue is resolved.

WST-6770 (WST_10.11_Fix4)

If the password or access token of the Salesforce connector 
account associated with a disabled listener has expired, 
and users try to enable the listener, the following 
error message is displayed: "Assertion error during 
connection request from pool <ConnectionPool>, 
error code: 105".

The actual cause of the error is unclearly specified 
in the error message.

The issue is resolved. 
This fix ensures an improved error handling mechanism.

WST-6831 (WST_10.11_Fix4)

If the password or access token of the Salesforce connector 
account associated with a disabled listener has expired 
and the custom package is reloaded, and users try to 
enable the listener, the following error message is 
displayed: "Unable to initialize the connection factory 
associated with alias '<Connection_Alias>'., 
error code: Connection configuration alias '<Connection_Alias>' 
already registered. Original config was replaced with alias 
'<Connection_Alias>'".

The actual cause of the error is unclearly specified 
in the error message.

The issue is resolved. 
This fix ensures an improved error handling mechanism.

WST-6886 (WST_10.11_Fix4)

Vulnerable third-party jQuery-UI component used.

CloudStreams uses jQuery-UI components like JavaScript 
library and CSS files in Administration pages.
There are multiple bugs and security vulnerabilities 
related to XSS attacks reported in version 1.8.23 library.

This issue is resolved. We have now removed the vulnerable 
library of version 1.8.23 and bundled safer version
1.13.0 as suggested by jQuery.

WST-6253 (WST_10.11_Fix4)

Error occurred while enabling the CloudStreams 
listener - Original config was replaced with alias.

Now the Connection is checked and enabled only if it 
was not enabled before.

WST-6276 (WST_10.11_Fix4)

At times, listeners encounter the "Invalid replayID" 
error from Salesforce. In such scenarios, the configured 
replay option is "LAST_RECEIVED".

This issue is now resolved. The runtime now ensures to 
recover listeners by implicitly retrying with the 
replay option "ALL".

WST-6275 (WST_10.11_Fix4)

When a listener encounters the "403::Unknown Client" 
error from Salesforce, the listener gets disabled 
intermittently.

This issue is resolved.

WST-6875 (WST_10.11_Fix4)

CloudStreams build started failing due to internal 
changes in the is-client.

CloudStreams using the classes from entrust jar in the 
socket creation flow. Recently changes happened in the IS client 
which replaced the KeyAndCert with its own instance ISKeyAndCert.

Updated CloudStreams code according to IS client changes.

This issue resolved.

WST-6829 (WST_10.11_Fix4)

Unable to generate an access token for the Jira provider from 
OAuth 2.0 Authorization Code Flow dialog.

This issue is observed because of a recent change implemented 
in the Jira API.

The 'scope' and 'audience' parameters are required input 
fields in the authorization step. The Jira connector also 
requires an update to work seamlessly.
This issue is resolved. It is recommended that you use the 
Jira connector 10.5 version build greater than #0033 
or 10.7 version build greater than #0003.

WST-6426 (WST_10.11_Fix4)

For a few Salesforce errors and authentication-related issues, 
it was observed that,the listener was disconnected.

This issue is resolved. 

Scenarios like these are now handled by providing an error 
handling mechanism where the listener will retry up to five 
times before getting disconnected.

WST-6487 (WST_10.11_Fix4)

While working with the CometD listener, if a network 
connectivity issue occurs, the TimeoutException may arise. 
As a result, the listener will retry the handshake 
with the backend. If the network connectivity issue 
still persists, then the listener goes into an infinite 
retry cycle. 

During this time, if users try to enable 
the listener, the page keeps reloading, making them 
wait for indefinite amount of time.

This issue is resolved. We have now implemented a limit on the 
number of retry attempts the listener will make to 
re-establish the connection upon TimeoutException.

The maximum retry count is set to 5.

WST-6322 (WST_10.11_Fix4)

If the "Lazy Asset Loading" mode is turned on, CloudStreams do
not enable the connection immediately. Rather it moves the
connection in suspend state and only during very first usage
of that connection, it will enable that. 

If the enable call fails for some reason, CloudStreams 
used to mark both runtime and persistent connection 
state as disabled.

With this behaviour, the connection would be marked as disabled
forever and cannot be used at all without human intervention.

This issue is resolved.

WST-6548 (WST_10.11_Fix4)

While working with the listener, if users encounter a 
Salesforce error, only the error message is displayed. 
However, sometimes along with the error message, 
Salesforce also returns the error response and 
the reason that explained the failure cause.

As a fix for this issue, we will now display the reason 
that explains the failure cause that is returned by 
Salesforce along with the error message.

WST-6437 (WST_10.11_Fix4)

CloudStreams does not support multiple comma-separated 
values for the "Accept" header.

CloudStreams does not parse the response correctly 
when multiple comma-separated values are specified 
for the "Accept" header with the request. 

This issue is observed because CloudStreams currently 
uses the "Accept" value to parse the response when the 
Accept header is specified with the request.

This issue is resolved. CloudStreams now uses the 
response Content-Type header value to parse the response 
for a given request.

WST-6711 (WST_10.11_Fix3)

An error occurred during OAuth token refresh when proxy is 
enabled to route requests in webMethods Integration Server. 
This issue was observed because of the deprecation of the 
HttpClient library since v4.3. 

This issue is resolved. The implementation of the deprecated 
getParams() method in HttpClient is now removed and it throws 
"Unsupported Operation" exception from the v4.5.5 release onwards. 
Due to this exception, the OAuth token refresh gets blocked, 
causing the access token to expire and the connection to break. 

WST-6485 (WST_10.11_Fix3)

In the "Microsoft Azure Storage" connector - "putBlob" operation, 
configuring the blob name with special characters slash ('/') is 
not allowed.

Apache HttpClient has released a breaking change in RequestConfig 
class (HTTPCLIENT-1968) from version 4.5.8 onwards to support URI 
normalization enabled by default. This change ensures splitting of 
path component into path segments when digesting a URI. And during 
this process, it eliminates multiple leading slashes in the URI.

This issue is resolved. We have now preserved the old behavior by 
disabling the Normalize URI option.

WST-6669 (WST_10.11_Fix3)

In the logs, Integration Server errors were observed while 
building assets using Asset Build Environment (ABE), indicating 
an issue with the Build process. However, the errors were observed
due to parsing exception on an empty file.

This issue is now resolved.

WST-6234 (WST_10.11_Fix3)

When users try to create a connection for Salesforce Marketing 
Cloud on Integration Server version 10.5 and CloudStreams, the 
following error message is displayed:"Missing required fields - 
Authorization Server URL.Authentication Server URL."

This issue is observed because of a change that was implemented 
as a part of WST-5261 fix.The Authorization Server URL and 
Authentication Server URLfields were shown with generic endpoint 
values in OAuth Access Token generation modal window.

The Authentication Server URL and Authorization Server URL are 
required fields. The OAuth Access Token generation modal window 
fetches default values configuredin the connection group for a 
connector. However, a few connectors failed to declarethe URL 
values in the connection group, due to which, the input values 
for the Authentication Server URL and Authorization Server URL 
fields were left empty.

This issue is resolved. We now skip the validation for Authorization 
Server URL and Authentication Server URL fields. The Generate Access 
Token modal handles validation to the fields during the access token 
generation.


WST-6310 (WST_10.11_Fix3)

Error was observed when users tried to refactor a manually created 
custom REST connector.

There was a mismatch between the service name of the manually created 
connector and the temporary service created during the parsing of 
OpenAPI specification files. Due to this issue, an exception was 
observed while comparing the resources for each service.

This issue is now resolved. CloudStreams now do not compare resources 
on the basis ofservice name. Instead, all the resources from different 
groups will be compared to check for any new/modified/removed resources.

WST-5568 (WST_10.11_Fix3)

ESB Services were not getting invoked after arrival of events 
due to an internal error. 

The error is fixed and ESB Services are now correctly invoked 
like processors.

This issue is resolved.

WST-6372 (WST_10.11_Fix3)

The space character is a reserved character and has to be be 
encoded as "%20".

The issue is with the URI method being used to calculate the 
AWS signature. The engine gets the path of the resource URI 
instead of the raw path. The URI method getRawPath() returns 
the exact value of the string as provided by users whereas 
the getPath() function decodes the sequence of escaped octets, 
if any. Due to this, CloudStreams calculatedthe wrong signature 
with decoded space even when users provided an encoded space (%20)
in the input value.

The issue is resolved. The engine now uses raw path as specified 
in the user input to calculate signatures.

WST-6245 (WST_10.11_Fix3)

While creating a cloud connector service for the Oracle FSCM connector, 
when a usertries to retrieve the list of all available operations by 
clicking the operation listing icon,the following error message is 
displayed in the server.log: "Exception while populating the abstract 
definition for operation: InvoiceService. Details: createInterfaceLine 
java.lang.NullPointerException: null"

This issue is resolved.

WST-6238 (WST_10.11_Fix3)

Updated the message in the DB.

"Resource name" : "Links" associated with this resource has been skipped.

WST-5850 (WST_10.11_Fix2)

If more than one cloud service using same connection in 
suspend state is invoked in parallel then it is subjected 
to race condition.

This issue is fixed now.

WST-5292 (WST_10.11_Fix2)

The parameters with mapping always considers the mapped value 
and ignores pipeline data irrespective of isFixed property.

For mappings the isFixed property is not handled at runtime and 
because this always considered mapped value and ignored pipeline 
values. But when we set isFixed=false and if there is a value 
in the pipeline for respective parameter then consider 
the pipeline value.

This issue is resolved.

WST-5525 (WST_10.11_Fix2)

Inline connection not working for the predefined operations 
of connectors in the cloud.

Though right information passed from the client, 
CloudStreams is not honoring the password contents. 
Package name should be same for passman handles storage 
and in-memory node creation.

This issue is resolved.

WST-5797 (WST_10.11_Fix2)

OpenAPI_3.0 specification parsing for resource's multipart 
with required objects was not working.

This issue was observed because while parsing the specification 
file for resource's multipart handling, the "required" field 
being present inside the "schema" field waslooked in the 
"properties" field under "schema". This caused the Null Pointer
exception, due to which, we were unable to select the 
specification file to create the provider.

This issue is now resolved.

WST-5472 (WST_10.11_Fix2)

The connection node used for creating cloud service can be 
deleted at anytime. And inline connection properties 
does not show if the connection is not available.

To overcome the dependency on the connection node, 
added check for connection existence. If node does not exist 
then get the connection configuration from ConnectorID.

This issue is resolved.


WST-5307 (WST_10.11_Fix2)

CloudStreams Server does not handle response content of 
type JSON for status code 300 correctly.

CloudStreams Server fails to extract response content of 
type JSON for status code 300. As a result, the response for 
an upsert operation, which results in status code 300, 
is not displayed correctly in the signature.

This issue is resolved and the response content of type JSON 
for status code 300 is now displayed correctly 
against the signature.

WST-5799 (WST_10.11_Fix2)

If the first startup called (that initializes a connection) 
during cloud service invocation fails with 401 error for 
some reason then successive cloud service invocation fails 
with error code:105

This issue is resolved now.



WST-6168 (WST_10.11_Fix2)

While deploying CloudStreams assets by using repository-based 
deployment for the “Salesforce CRM REST” connector in version 51, 
the following exception is displayed: "The cloud service 
'*Service_Name*' needs to be migrated first before running the 
update".Since the source and the target are the same, 
Migration is not required. Hence, this is an unexpected behavior.

This behavior is observed when the connector XML file has 
style="REST"'  for resource(example Query, Query-All).
During this time, the flow flags it for Migration.

This behavior was not observed earlier because the 
“Salesforce CRM REST” connector in all versions had 
'style="SOAP"', which did not flag for Migration.

This issue is now resolved.

WST-6200 (WST_10.11_Fix2)

A new input field named "customFields" is introduced to add data 
that is required to refresh the token or pass global connection 
fields used in API calls.

This provision allows users to pass custom inputs in scenarios 
where the refresh implementation requires inputs other than 
those defined by the specification.

Custom fields prefixed with "oauth_v20.cx." will be made 
available to the pipeline of the implementing service.

WST-5741 (WST_10.11_Fix2)

Input request headers in service dispatcher bridge are 
re-overridden using custom metadata stored in the service node 
(REST dispatcher metadata).

Fixed this issue by stopping cross override of input headers.

WST-6039 (WST_10.11_Fix2)

At present, if user do not configure the global idle timeout 
or the connection level timeout(-1) then cloudstreams is 
closing the idle connection immediately. 
Ideally the connection idle value -1 should indicate 
an infinite timeout.

This issue is resolved now.

WST-6173 (WST_10.11_Fix2)

The request URI in the Magento connector has optional parameters 
"apiType" and "storeCode", whichcan be empty during service 
execution. CloudStreams target URI has these optional parameters
removed but has trailing and leading slashes remains. 

This causes the OAuth signature to miscalculate with redundant 
slashes in the context URI but during the execution, CloudStreams 
removes the extra slashes in the URI. 
When backend calculates the  signature at the server end, 
it throws an invalid signature error. 

This is because the OAuth includes the extra slashes in the URI 
during signature calculation.

This issue is resolved. We have now replaced multiple trailing 
and leading slashes in the context URI with a single slash.

WST-6084 (WST_10.11_Fix2)

While importing a Provider Archive Package, if the ZIP package 
had issues, an incorrect error message was displayed.

The issue is resolved. We have now improved the error 
handling mechanism.

WST-6140 (WST_10.11_Fix2)

Vulnerable 3rd party jQuery-UI component used

CloudStreams uses jQuery-UI components like JavaScript library 
and CSS files in Administration pages. 
There are multiple bugs and security vulnerabilities related 
to XSS attacks reported in version 1.8.23 library.

CloudStreams removed the vulnerable library of version 1.8.23 and 
bundles safer version 1.13.0 as suggested by jQuery. 
This issue is fixed now.

WST-6174 (WST_10.11_Fix2)

Oracle FSCM connector's WSDL cache key does not contain 
connector version.

Oracle FSCM connector caches WSDL while creating first cloud service 
for any given service. During the cloud service creation, 
the WSDL is being  fetched dynamically and cached into the WSDL cache. 

CloudStreams engine builds the cache key by appending 
connection alias, service name, and the connector version 
appended by an underscore.

This issue is resolved.

WST-6010 (WST_10.11_Fix1)

While generating a microservice runtime template, CloudStreams 
connections are not included in the 'application.properties' file.

The CloudStreams connections that are imported from another system 
are not included in the template because of password retrieval issues. 
The passman store of the current systemfails to have an entry for the
passman handles of the imported connection.

CloudStreams now includes a dummy value for such password fields.

This issue is resolved. 

WST-5975 (WST_10.11_Fix1)

On the "OAuth Access Tokens" page, when you set "Session Management" 
to "auto" and "Session Timeout (min)" to "0", the following error
message is displayed on the screen: "Invalid input field value: 
Session Timeout (min) should be greater than 0".

This issue is observed when "Session Management" is set to "none" 
or "auto" and no input is provided to the "Session Timeout (min)" field.
This is because the values "none" and "auto" does not require a Session 
Timeout value as CloudStreams handles the session internally.

This issue is resolved. CloudStreams now allows an empty value for 
the "Session Timeout (min)" field when "Session Management" is set 
to "none" or "auto".

WST-6036 (WST_10.11_Fix1)

CloudStreams fails to cache WSDL during operation listing for public 
WSDLs.

CloudStreams supports Dynamic Service Creation for a given WSDL. 
During this process, CloudStreams first validates, downloads, 
and then caches the WSDL and, given the operation, later generates the 
document types dynamically.
If the WSDL is publicly available, the caching does not happen, 
causing the performance to slow down in the first step.

This issue is now resolved.

WST-6077 (WST_10.11_Fix1)

While importing a ZIP package, if the package is not in a correct 
format or is corrupted, CloudStreams displayed an incorrect error message.

Furthermore, even if the package was not successfully imported, 
it appeared in Service Development, which is not the expected behavior,
and cleanup did not happen accordingly.

The issues are now resolved.

WST-5337 (WST_10.11_Fix1)

Listener debug logs are not enabled after logging settings are updated.

The logging settings are applied at the time of enabling a listener. 
If a user modifies logging settings after enabling listener, 
the logging settings do not get honored.

This issue is resolved. CloudStreams now ensures that logging 
settings will get honored simultaneously.

WST-5424 (WST_10.11_Fix1)

After updating the Salesforce connector with ErrorHandler, 
ErrorHandler wasnot registered for existing listeners assets. 
With this, a discrepancy was observedin the user interface where 
the ErrorHandler was enabled for the listener.

This issue is now resolved. CloudStreams now ensures that the 
ErrorHandler is registered correctly for the existing listener assets.

WST-5585 (WST_10.11_Fix1)

After reloading or updating a package, listeners get Disabled 
and then Re-enabled automatically. During the time the status was 
'Disabled', NullPointerException was observed.

This issue is resolved and we do not observe NullPointerException 
when listeners are Disabled.

WST-5600 (WST_10.11_Fix1)

When a particular user is selected in a popup window, the name of the 
user was not auto-filled in the "Run As User" input field in the 
Listener configuration page.

This issue is resolved and we now see the name of the selected user 
in the "Run As User" input field in the Listener configuration page.

WST-5609 (WST_10.11_Fix1)

Few back-ends expect percent-encoding of reserved characters in the URI.

When a URI-based parameter value, containing a reserved character, 
has a special meaning (a "reserved purpose") and the URI scheme has a 
different meaning or purpose of the reserved character, then the reserved 
character must be percent-encoded. An error occurs if an URI with a 
reserved character is not handled properly.

This issue is resolved.

WST-5622 (WST_10.11_Fix1)

During the refresh of an authorization header, when users populate 
requests for a listener communication, the system becomes unresponsive.

We have now modified the approach of refreshing the authorization headers. 
This will ensure that the system does not become unresponsive and 
works as expected.

This issue is resolved.

WST-5821 (WST_10.11_Fix1)

The RetryCount property in Listener Error Recovery is reset immediately 
for every successful response.

After a successful meta handshake, the retry count is reset to zero. 
However, if meta subscription fails, the error recovery process 
starts again. Due to this, each time the retry count is set to zero, 
CloudStreams attempts to recover error continuously, even though 
the maximum number of retry attempts should be up to 3.

CloudStreams now ensures that the listener is disabled after the
maximum retry attempts has reached.

WST-5897 (WST_10.11_Fix1)

It was observed that the listener gets disabled when a user encounters 
the "403::Unknown Client" error.

Automatic recovery is now performed by the underlying CometD layer.

This issue is resolved.

WST-5432 (WST_10.11_Fix1)

Even if 'Follow Server Redirects' is disabled, server redirects 
were still allowed.

This issue is resolved. Server redirects are now blocked if 
'Follow Server redirects' is disabled.

WST-5831 (WST_10.11_Fix1)

Custom esb service flow of refreshing a token throws
NullPointer exception.

If any connector has a custom esb service implementation
for refreshing access token then it faces a NullPointer Exception
once the refresh is done. This was happening due to the fact
that an uninitialized instance of http client was attempted
to close without checking whether it is initialized or not.

This issue is fixed now.

WST-5573 (WST_10.11_Fix1)

The operation execution with inline connection failing.

The operation execution failed because of the missing encrypted 
field values. The encrypted field values stored in the passman store, 
for that package name is used. And while retrieving values same 
package name is required. 
There was mismatch in package name due to alias node provided 
in the input.

This issue is resolved.

WST-5583 (WST_10.11_Fix1)

The look up details provided in the REST connector descriptor 
for any resource are not  added to the node-hints of the 
cloud connector service.

The resource metadata was not passed to the implementation 
where the node-hints created for cloud connector service. 
Updated implementation to provide metadata while creating node-hints.

This issue is resolved.

WST-5599 (WST_10.11_Fix1)

For any resource, mappings that are returned can vary based on 
connectionType. It is expected that right set of mappings are 
returned for a specific authentication scheme based on the 
input provided in connectionType.
 
However, while initializing the connectionType, if the providerName 
is not provided in the input, mappings for the default connectionType 
are returned.
 
This issue is resolved.

WST-5703 (WST_10.11_Fix1)

Mapper service arguments not listing properly.

Arguments added for mapper service not shown in the arguments list.
Mapper service arguments listing key should be "args".

This issue resolved.

WST-5793 (WST_10.11_Fix1)

While enabling a Listener, if users provide an invalid Replay ID, 
the CloudStreams page becomes unresponsive for sometime after which 
the Listener gets enabled.

CloudStreams now ensures that the Listener is disabled if an invalid 
Replay ID is provided.

This issue is resolved.

WST-5883 (WST_10.11_Fix1)

The GET operation in Google Cloud Storage fails with an error 
"400 Bad Request" when "enableCompression" is set to "true".

When "enableCompression" is set to "true", GZIP encryption start 
and end bytes were sent in the Request Body which is not an 
expected behavior.

CloudStreams now skips the Request Body for GET requests and 
avoids empty Content Body.

This issue is resolved.

WST-5911 (WST_10.11_Fix1)

Empty content with GZIP content encoding causes NullPointerException 
in response.

No bytes in the response content caused this issue. Passing empty 
bytes to GZIP stream causes NullPointerException while reading. 
Input needs to be sanitized based on the content encoding and content 
length in the response.

We have now passed valid input stream for response handling.

This issue is resolved.

WST-5999 (WST_10.11_Fix1)

OAuth connection validation fails when Refresh Access Token is set 
to "false" and Session Management is set to "none".

This issue was observed because CloudStreams recently changed the 
model type to "Basic" for Refresh Token and Refresh Access Token 
connection fields and the flexibility required in the Refresh Token 
field was handled only for advanced fields.

This issue is resolved. CloudStreams now handles the 
Refresh Access Token field change in "Basic" model type fields as well.

WST-5449 (WST_10.11_Fix1)

Although only one listener encountered an error, error handling logs 
were created for all the listeners.

This issue is resolved and we now see the error handling logs 
for only listeners that have encountered an error.

WST-5885 (WST_10.11_Fix1)

It was observed that, sometimes, during a SSL handshake, a few threads 
got stuck indefinitely.

CloudStreams now ensures that the socket timeout and connection timeout 
is set in an orderly manner.

This issue is resolved.

Please note below behaviour :

1. We need to note that, before the CCS execution, sometimes, 
token would need to be refreshed,  depending on the connection type. 
So, in this case, 2 things happen:
             a. token refresh
             b. CCS execution
2. In both the above scenarios, the value of connectTimeout is 
printed in the logs.
3. Please note that, for few connectors (eg. Google), the token 
refresh logic is customized,  in the sense, that, there is a 
service which depends on pub.client.http, for performing the refresh.
4. Following is a detailed explanation, taking into consideration -, 
for example - Google connector.
5. With regard to Google Cloud Storage connector, in both the 
scenarios, the value of  connectTimeout printed in the logs will differ.
6. Google Cloud Storage connector, uses a custom refresh token service 
(wm.cloudstreams.google.cloudstorage.refreshToken:customRefreshToken), 
which inturn uses pub.client.http service.
7. And for pub.client.http service, the connection timeout is 
dependent on a watt property,  'watt.net.timeout', which is configurable.
8. So, during the refresh token, value of connectTimeout will be 
referred from watt.net.timeout value  and that gets printed in the 
first occurrence of connectTimeout in the logs.
9. During the CCS execution, the connectionTimeout configured within 
the connection, is referred,  so, that value gets printed in 
the second occurrence of connectTimeout in the logs.



8.0 Installation

Step 1: Install using the Software AG Update Manager. For 
instructions on using Update Manager, see "Using the Software 
AG Update Manager" at http://documentation.softwareag.com.

Note: If you have migrated your connector services from a version
prior to CloudStreams 9.7 and impacted by WST-2213, and you are
yet to run the migration utility as suggested in WST-2213, go to
Step 2, else skip Step 2. If you have created your connector 
services with a CloudStreams 9.7 or later version, you do not 
need to run the migration utility

Step 2: Run the CloudStreams migration utility
(pub.cloudstreams.migration:migrate) to migrate your old
CloudStreams artifacts to the latest version.
For more information on the migration utility, see the 
Integration Server upgrade section in the "Upgrading Software 
AG Products" guide.

Step 3: In Integration Server, under Settings > Extended > 
Extended Settings, add "watt.net.ssl.client.useJSSE=true" to 
use the latest TLS versions.
Note: Restart Integration Server after applying the above 
property. In most cases, only this property is required for 
SaaS providers like Salesforce.
In some cases, where you want to force usage of any other 
protocols, for example, SSLv3 or a particular version of TLS 
properties, use the following properties:
 - watt.net.jsse.client.enabledProtocols
 - watt.net.ssl.client.handshake.minVersion
See the webMethods Integration Server Administrator Guide 
for the desired values of these properties.

Step 4: For a few SaaS back ends, the underlying JVM trust store 
may have the required certificates and you may not need to 
follow this step. But for back ends which have certificates 
that are not part of the JVM trust store, create and apply a 
new trust store in Integration Server with the certificates 
of the SaaS back end. This is a standard practice 
for setting up secure exchange of certificates. If the trust 
store is not present, in such cases, certificate related 
errors will appear.
To set up secure exchange of certificates, create a JKS trust 
store with the certificates of the SaaS back end. The trust 
store should contain all the certificates present in the 
certificate chain. Apply the trust store in the Integration 
Server administration page at the "Security > Keystore" 
section and use that trust store alias in your CloudStreams 
connection in the "Trust Store" field.
To know more about creating trust stores and applying them in 
Integration Server, see the "Securing Communications with the 
Server" section in the webMethods Integration Server 
Administrator Guide. Also see the relevant CloudStreams 
Provider document to find the connection's advanced property 
"Trust store Alias", for applying the trust store in the 
connection.
Note: You can also create trust stores using a publicly 
available tool, for example, Keytool or KeyStore Explorer.

Step 5: If the Integration Server version is 10.0, 
and if you are impacted by WST-3082, then
manually edit the manifest.v3 file located under the
WmCloudStreams package to include the following entry:

<value name="classloader">package</value>

Restart Integration Server.



9.0 Uninstallation

Uninstall using the Software AG Update Manager. For 
instructions on using Update Manager, see 'Using the Software
AG Update Manager' at http://documentation.softwareag.com.

Note: These instructions can only be used to uninstall the 
most recently installed fix. This action will revert your 
installation to the previously installed fix. You cannot 
apply these instructions to the previously installed fix.

1. After uninstallation, remove the 
"watt.net.ssl.client.useJSSE=true" property in Integration 
Server under "Settings > Extended > Extended Settings".

2. Remove the trust store alias from your connection if 
created, and also the trust store alias entry from 
Integration server.



10.0 Globalization

This fix conforms to the internationalization standards of the
webMethods product suite and includes support for operation in
any country, locale, or language as specified in the Installing
webMethods Products guide. It was tested with non-English
configurations and non-ASCII data.


10.1 Localization

This fix does not require an updated Language Pack. It might
contain new messages and these messages will appear in English.



11.0 Copyright

Copyright (c) 2024 Software AG, Darmstadt, Germany and/or
Software AG USA Inc., Reston, VA, USA, and/or its subsidiaries 
and/or its affiliates and/or their licensors.

The name Software AG and all Software AG product names are 
either trademarks or registered trademarks of Software AG and/or 
Software AG USA Inc. and/or its subsidiaries and/or its affiliates 
and/or their licensors. Other company and product names mentioned herein 
may be trademarks of their respective owners.

Detailed information on trademarks and patents owned by Software AG 
and/or its subsidiaries is located at http://softwareag.com/licenses.

This software may include portions of third-party products. 
For third-party copyright notices, license terms, additional 
rights or restrictions, please refer to "License Texts, 
Copyright Notices and Disclaimers of Third Party Products". 
For certain specific third-party license restrictions, please 
refer to section E of the Legal Notices available under 
"License Terms and Conditions for Use of Software AG 
Products / Copyright and Trademark Notices of Software AG 
Products". These documents are part of the product documentation, 
located at http://softwareag.com/licenses and/or in the root 
installation directory of the licensed product(s).



12.0 Contacting Us

Authorized technical support contacts can reach Software AG
Global Support in the following ways:

  Web: https://empower.softwareag.com (online support center)

  E-mail: empower@softwareag.com

You can find complete contact information in our Global Support
Contact Directory at:

https://empower.softwareag.com/public_directory.asp

You can also visit our Software AG Developer Communities to
access additional articles, demos, and tutorials, technical 
information, samples, useful resources, online discussion forums
moderated by Software AG professionals, and more at:

http://communities.softwareag.com/ecosystem/communities/public
/index.html